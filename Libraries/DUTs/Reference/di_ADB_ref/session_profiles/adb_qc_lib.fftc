<?xml version="1.0"?>
<testCase version="8.0.0.201908290812">
    <general>
        <sessionClass includeTestCase="true" sessionType="project://di_ADB_ref/session_profiles/adb_ssh.ffsp"/>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="6a383265-aaae-4b5a-8a4c-0da60683382d" action="comment" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="ClearLog" isPublic="true">
            <steps>
                <item guid="b8bc9288-ef31-40fa-9485-28bd3a879af2" action="command" session="[session]">
                    <command>
                        <body>adb -s [device_id] logcat -c</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID of device on which to clear the log. Can be found using the GetDevices quickcall</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="DisableAirplaneMode" isPublic="true">
            <steps>
                <item guid="0baf5d11-2896-4a01-ad3a-e501a40b7b97" action="switch_off_airplane_mode" session="[session]" useFieldsInCommand="false">
                    <command>
                        <body>-device_serial [device_id]</body>
                    </command>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="switch_off_airplane_mode" subharness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harnessName="Spirent Custom Tool"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="DisableMobileData" isPublic="true">
            <steps>
                <item guid="869db1c4-0fa2-466b-8f45-f6819576534d" action="switch_off_mobile_data" session="[session]">
                    <command>
                        <body>-device_serial [device_id]</body>
                    </command>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="switch_off_mobile_data" subharness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harnessName="Spirent Custom Tool"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="EnableAirplaneMode" isPublic="true">
            <steps>
                <item guid="5b57c49e-1da5-48a5-b5d9-c6747e57ba51" action="switch_on_airplane_mode" session="[session]" useFieldsInCommand="false">
                    <command>
                        <body>-device_serial [device_id]</body>
                    </command>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="switch_on_airplane_mode" subharness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harnessName="Spirent Custom Tool"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="EnableMobileData" isPublic="true">
            <steps>
                <item guid="7f74ad2f-be9e-4b1d-a830-d290b1294f74" action="switch_on_mobile_data" session="[session]">
                    <command>
                        <body>-device_serial [device_id]</body>
                    </command>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="switch_on_mobile_data" subharness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harness="http://spirent.com/CustomizedSessions/tools/ADB/harness/main" harnessName="Spirent Custom Tool"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="EnableWifi" isPublic="true">
            <steps>
                <item guid="d5fa88e6-3001-4c5b-869c-eacb2ebbc95d" action="command" session="[session]">
                    <command>
                        <body>adb -s [device_id] svc wifi enable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="DisableWifi" isPublic="true">
            <steps>
                <item guid="4e69b99e-a911-4b12-8a9f-26bd78e85f16" action="command" session="[session]">
                    <command>
                        <body>adb -s [device_id] svc wifi disable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="GetDevices" isPublic="true" isVBlock="true">
            <steps>
                <item guid="4801275a-ecdb-4df4-8977-897656b1a797" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run command and store info</body>
                    </command>
                    <nestedSteps>
                        <item guid="5df85df0-92e0-4966-b0de-24328bdf6d01" action="command" session="[session]">
                            <command>
                                <body>adb devices -l</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>deviceId()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>deviceIdList</storageLocation>
                                                <storeInAList>true</storeInAList>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>model()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>modelList</storageLocation>
                                                <storeInAList>true</storeInAList>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>numberOfDevices()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>numberOfDevices</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Problem getting ADB devices. Check that devices are connected and that ADB process is running.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cace87fa-fe40-475f-b42b-9a3f230d68ac" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Build return strings </body>
                    </command>
                    <nestedSteps>
                        <item guid="0b123d30-b75f-46ae-82a8-eef8324f0059" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Initialie variables needed by loop</body>
                            </command>
                            <nestedSteps>
                                <item guid="5dceeb5f-aa30-413e-b900-f7676b32b990" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>deviceString = modelString = &apos;&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="389d5db5-f529-43c6-9eaa-a7ce36e724c1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>looped = False</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6147072c-2380-4bfa-81c0-efa4a650076d" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Loop over device ID and model lists to build return strings</body>
                            </command>
                            <nestedSteps>
                                <item guid="40b5e9f0-2c6d-48c6-bd92-7c0d5c65ed1c" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>deviceId, model in zip(deviceIdList,modelList):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d3dea6e7-aa8d-481f-9748-384eaab476cb" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>deviceString = deviceString +&apos; &apos;+ deviceId</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a03ed503-bc40-4307-b38c-29ee0fe15647" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>modelString = modelString + &apos; &apos; + model</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="69f7e1bf-95e2-432f-a641-096a00a508fa" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Return lists</body>
                            </command>
                            <nestedSteps>
                                <item guid="0d599b2c-4322-4ef9-a1ab-1d941e64378d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(deviceString)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>deviceIdList</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bb41bf0c-d0c4-40e8-94cf-74add2a9bac6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(modelString)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>modelList</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Returns lists of device IDs and models</multilineDescription>
            <response>{&quot;deviceIdList&quot;:&quot;0&quot;,&quot;modelList&quot;:&quot;0&quot;}</response>
        </item>
        <item name="GetLog" isPublic="true">
            <description>Get Log</description>
            <steps>
                <item guid="ced76689-4496-438a-b0ce-dd261e6cddbb" action="command" session="[session]">
                    <command>
                        <body>adb -s [deviceId] logcat -t 400</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>log</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnMappingResponseEmpty">
                            <item actionId="RepeatStep">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="3" delayBetweenRepeats="5.0"/>
                            </item>
                        </item>
                        <item name="OnRepeatStepMaxCountExceeded">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                    <message>Error retrieving log</message>
                                </actionProperties>
                            </item>
                            <item actionId="FailTest">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c97cd436-af0f-405c-95bc-f4008abd54bd" action="return">
                    <command>
                        <body>[log]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Returns the entire &apos;logcat&apos; log from an ADB device
</multilineDescription>
            <arguments>
                <item name="deviceId">
                    <description>ID of device to poll for log</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="GetMobileConnectivityInfo" isPublic="true" isVBlock="true">
            <steps>
                <item guid="296faf35-04f1-4557-bd1d-8771ff826a6e" action="command" session="[session]">
                    <command>
                        <body>adb -s [device_id] shell dumpsys telephony.registry</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mVoiceRegState()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>mobile_service_state</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mDataConnectionState()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>mobile_data_state</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mVoiceRegState()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>rsrp()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>mobile_signal_strength</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="aa72353e-5464-4b68-8cf7-7442c255b48f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return mobile service state</body>
                    </command>
                    <nestedSteps>
                        <item guid="adc7dc71-895a-4e06-87f5-ae4e5d9adff0" action="if" useFieldsInCommand="false">
                            <command>
                                <body>mobile_service_state == &apos;0&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="03e3405f-df44-4cb5-9aeb-c1e6bcc27e92" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Connected&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_service_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1d975641-7e7c-4aa1-90c0-ca6aa1b83110" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_service_state == &apos;1&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8449606c-cd4a-4d7b-811e-dbddbb57ed1a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;No Service&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_service_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e4cddd9c-219c-45cc-b01a-7a046529711a" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_service_state == &apos;2&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="98795854-2f90-408e-a626-02abff957bda" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Emergency Only&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_service_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="10845764-6383-4934-838f-fb9be56ee2f6" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_service_state == &apos;3&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="9e6b9d80-fe11-43fb-b299-af193aacc0c8" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Power Off&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_service_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="645ea13a-dcde-467a-971d-5bbc4d4e8e6b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return mobile data state</body>
                    </command>
                    <nestedSteps>
                        <item guid="be3bfeac-623a-4337-af83-f424224a907e" action="if" useFieldsInCommand="false">
                            <command>
                                <body>mobile_data_state == &apos;-1&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="e94132cf-fc5f-4efc-ac27-5dde88a7e4c0" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Unknown&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_data_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f183ae1a-533c-46d8-8ee6-abf81729e814" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_data_state == &apos;0&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="e418500b-1372-495a-b951-e50f19261490" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Disconnected&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_data_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6bdce6af-0928-4133-a1bb-ca03c76ad21d" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_data_state == &apos;1&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="948e511a-26ea-48e9-aaf8-f370d75a0a9c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Connecting&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_data_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fea7a7e6-ea11-4a3d-876e-f1cac5e3604b" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_data_state == &apos;2&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="33b02ea5-92a8-497f-b7b7-40c1cce5929a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Connected&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_data_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="46f83f04-2281-4302-b025-594c58280fe3" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>mobile_data_state == &apos;3&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="4d4c473f-1a49-4595-94bd-f92a4046f64a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Suspended&quot;)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>mobile_data_state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Retruns the following status strings: 
Service State:
\tConnected, No Service, Emergency Only, Power Off
Data State:
\tUnknown, Disconnected, Connecting, Connected, Suspended
</multilineDescription>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;mobile_service_state&quot;:&quot;value&quot;,&quot;mobile_signal_strength&quot;:&quot;offline&quot;,&quot;mobile_data_state&quot;:&quot;value&quot;}</response>
        </item>
        <item name="GetWifiInfo" isPublic="true" isVBlock="true">
            <steps>
                <item guid="9dd2fa1c-1bdc-4593-a691-1c9f5f8f51c3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Open Wifi settings app to start Wifi scan</body>
                    </command>
                    <nestedSteps>
                        <item guid="3c26586b-392e-4430-b34c-5f878d693599" action="command" session="[session]">
                            <command>
                                <body>adb -s [device_id] shell am start -a android.intent.action.MAIN -n com.android.settings/.wifi.WifiSettings</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b093522c-a6cd-4eb9-a706-bffad0a94b31" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Wifi enabled/disabled status</body>
                    </command>
                    <nestedSteps>
                        <item guid="68a92e46-afb0-4332-a4c8-88d05ad4cb48" action="command" session="[session]" estimatedStepExecutionTime="0.752">
                            <command>
                                <body>adb -s [device_id] shell dumpsys wifi | find &quot;Wi-Fi is&quot;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>WiFi_status()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>radio_status</storageLocation>
                                                <query>radio_status</query>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bb7a3608-085a-41ad-8c6e-cacc0f563ca8" action="if" useFieldsInCommand="false">
                    <command>
                        <body>radio_status == &apos;enabled&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="17a5bd9a-8c3a-4cf9-8094-72117223b385" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get connected Wifi network</body>
                            </command>
                            <nestedSteps>
                                <item guid="439d6cd7-4f7b-4982-b0cd-390f78acf5f8" action="command" session="[session]" estimatedStepExecutionTime="0.495">
                                    <command>
                                        <body>adb -s [device_id] shell dumpsys wifi | find &quot;mWifiInfo SSID&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>isOffline()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>isOffline = True</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>isOffline = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SSID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>SSID</storageLocation>
                                                        <query>ssid</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>BSSID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>BSSID</storageLocation>
                                                        <query>bssid</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>RSSI()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>RSSI</storageLocation>
                                                        <query>rssi</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Supplicant_state()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>(.//Frequency)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>frequency</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <completionProperties expectedIdleTime="0.266" expectedIdleTime.inherit="false"/>
                                    </applicationProperties>
                                </item>
                                <item guid="09389f7a-1674-4699-b2b1-c67775e86810" action="command" session="[session]" skip="true" estimatedStepExecutionTime="0.495">
                                    <command>
                                        <body>adb -s [device_id] shell dumpsys wifi | find &quot;mWifiInfo&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>isOffline()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SSID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>SSID</storageLocation>
                                                        <query>ssid</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>BSSID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>BSSID</storageLocation>
                                                        <query>bssid</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>RSSI()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>RSSI</storageLocation>
                                                        <query>rssi</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Supplicant_state()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>state</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>(.//Frequency)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>frequency</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <completionProperties expectedIdleTime="0.266" expectedIdleTime.inherit="false"/>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="118aec1c-2b7b-409a-89c5-9031b89d9d2a" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get other Wifi networks</body>
                            </command>
                            <nestedSteps>
                                <item guid="57b429b0-940f-44db-af66-af65f4f71259" action="command" session="[session]" skip="true" estimatedStepExecutionTime="2.262">
                                    <command>
                                        <body>adb -s [device_id] shell dumpsys wifi | find &quot;D WifiSettings.VI&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>numberOfflineNetworks()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) == 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>unconnected_ssid_list = [&quot;none&quot;]</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>unconnected_bssid_list = [&quot;none&quot;]</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>unconnected_rssi_list = [&quot;none&quot;]</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>unconnected_ssid()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_ssid_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>unconnected_bssid()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_bssid_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>unconnected_rssi()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_rssi_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <completionProperties expectedIdleTime="1.526" expectedIdleTime.inherit="false"/>
                                    </applicationProperties>
                                </item>
                                <item guid="9ca3329c-200c-4b6b-bef0-88f42382f777" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Original command altered by RSB. 07/22/2019. Origingal command was &apos;adb shell dumpsys wifiscanner&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5de8a08c-b82d-4ec5-a0d1-a2765c4635cc" action="command" session="[session]" estimatedStepExecutionTime="1.57">
                                    <command>
                                        <body>adb -s [device_id] shell dumpsys wifiscanner</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>isOffline == True or SSID == &quot;&lt;unknown ssid&gt;&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>BSSID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_bssid_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Frequency()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_freq_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>RSSI()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_rssi_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SSID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>unconnected_ssid_list</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="781112c0-0243-4968-b191-c29e4a13b9bc" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>&apos;unconnected_bssid_list&apos; in locals():</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="257bceec-b157-479d-b943-c59772eeac22" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Create JSON string of unconnected networks</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="b56dc6bb-768f-42f3-a3bf-272ae116643a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>unconnected_networks = []</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="79e419d8-a6d9-404e-833d-cfcc015f03be" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>cur_ssid, cur_bssid, cur_rssi, cur_freq in zip(unconnected_ssid_list, unconnected_bssid_list, unconnected_rssi_list, unconnected_freq_list):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="f1ce56af-bbdc-4347-8dbe-c24636302597" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>cur_ssid != SSID:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="9158c366-ffe9-4c43-868c-ae9c753ecbb2" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>unconnected_networks.append({&apos;SSID&apos;:cur_ssid,&apos;BSSID&apos;:cur_bssid,&apos;RSSI&apos;:cur_rssi,&apos;Frequency&apos;:cur_freq})</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9750705e-ce51-4437-baa2-b7f7934f2e40" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(unconnected_networks)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>var1</storageLocation>
                                                                        <query>unconnected_networks</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="cc7da6ca-b310-491b-9b46-07368b40bcd6" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="d7c23f17-7959-4b17-8291-3bcbaec1c92b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(&apos;none&apos;)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>var1</storageLocation>
                                                                <query>unconnected_networks</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a988fee7-5180-4eb0-82ff-5d38346e0d3c" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="86f92cf2-58e8-4844-bebf-a80e2c18a8d8" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Insert steps here for when the expression evaluates to false</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;radio_status&quot;:&quot;value&quot;,&quot;rssi&quot;:&quot;offline&quot;,&quot;bssid&quot;:&quot;offline&quot;,&quot;state&quot;:&quot;value&quot;,&quot;unconnected_networks&quot;:&quot;value&quot;,&quot;ssid&quot;:&quot;offline&quot;,&quot;frequency&quot;:&quot;value&quot;}</response>
        </item>
        <item name="Ping" isPublic="true" isVBlock="true">
            <steps>
                <item guid="de97da28-f73f-4782-bbd4-a13ef3c0d094" action="command" session="[session]">
                    <command>
                        <body>adb -s [device_id] shell ping -c [num_pings] [target]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>packets_transmitted()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>packets_transmitted</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>packets_received()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>packets_received</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>packet_loss_percent()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>packet_loss_percent</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">false</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="device_id">
                    <description>ID number of device given by command &apos;adb devices&apos;
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="target">
                    <description>IP or URL to ping</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="num_pings">
                    <description>Number of pings to attempt. Defaults to 4</description>
                    <defaultValue>4</defaultValue>
                </item>
            </arguments>
            <response>{
  &quot;packets_received&quot;: &quot;value&quot;,
  &quot;packet_loss_percent&quot;: &quot;value&quot;,
  &quot;packets_transmitted&quot;: &quot;value&quot;
}</response>
        </item>
    </procedures>
</testCase>

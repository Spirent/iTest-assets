<?xml version="1.0"?>
<testCase version="8.0.0.201908290812">
    <general>
        <sessionClass includeTestCase="true" sessionType="adb_ssh.ffsp"/>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="a1ab0e7e-c419-4fba-b173-93b8eab7f996" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>This is the ADB Quickcall Library</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e1bdcdae-4e2e-4233-a9b6-ad90215a1ce1" action="comment" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1992f124-0936-4037-adfe-645d5854f22d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Note that all Procedures prefaced with &quot;shell&quot; such as shellEndCall require being run with the ADB shell already activated</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="21cbc625-e6d8-474d-9d9b-e32d49ba9871" action="comment" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="changeAPN" isPublic="true" isVBlock="true">
            <description>Read the APN value used by the phone</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="fab42153-0461-4a52-a4fe-9ec8cc59012f" action="startShell" session="$session" normalOffset="0.034" estimatedStepExecutionTime="0.659" useFieldsInCommand="false">
                    <command>
                        <body> -device_id $device_id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ef2e46c5-37a4-4737-8b94-7f734b3ee070" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name $carrier_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>current_APN</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn_protocol&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>current_APN_protocol</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ddb9d9b6-a486-491e-8211-289947f5e60a" action="command" session="$session">
                    <command>
                        <body>content update --uri content://telephony/carriers --bind apn:s:$new_APN --where &quot;_id=&apos;$id&apos;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="5826333b-6e25-4f15-a64c-0a7c4ffa849c" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$new_APN_protocol ne &quot;NA&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="b0346a9c-2af9-45eb-9d79-cc950d1425ba" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="a8979ae8-c734-4077-a081-057671d6b52d" action="command" session="$session">
                                    <command>
                                        <body>content update --uri content://telephony/carriers --bind protocol:s:$new_APN_protocol --where &quot;_id=&apos;$id&apos;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ee99726f-065c-43ec-9115-2b7b9d58a250" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name $carrier_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn_protocol&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn_protocol]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;carrier&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return carrier]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="52871b9b-dd5c-4b32-a285-95ba15255148" action="shellExit" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -rooted $rooted</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="3.398" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>Change the APN of the handset to the specified value - note that this is NOT called from a shell</multilineDescription>
            <arguments>
                <item name="new_APN">
                    <description>The value of the new APN</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="new_APN_protocol">
                    <description>If desired, pass in a new_APN_protocol: IPV4, IPV6, IPV4V6. Leave as NA to make no changes.</description>
                    <defaultValue>NA</defaultValue>
                </item>
                <item name="device_id">
                    <description>The deviceId of the Android device - usually from getDevices</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="rooted">
                    <description>true: this UE is rooted
false: this UE is not rooted</description>
                    <defaultValue>true</defaultValue>
                </item>
                <item name="carrier_name">
                    <description>The carrier name to change in the telephony database</description>
                    <defaultValue>Telus</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;apn&quot;:&quot;&quot;,&quot;apn_protocol&quot;:null,&quot;carrier&quot;:null}</response>
        </item>
        <item name="clearLog" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="6d7072f7-2588-429f-809f-3f261687e272" action="command" session="$session">
                    <command>
                        <body>logcat -c</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Clear the logcat logs

Return: Block

success: 1-success; 0-failue</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="dumpLog" isPublic="true">
            <steps>
                <item guid="87a88a18-ef91-4804-94b8-ad6b0a397c9f" action="command" session="$session">
                    <command>
                        <body>logcat -d</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>.+</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="AppendToProcedureResponse">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.AppendResponsePropertyGroup">
                                                    <content sub="true">$value</content>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Dump the logcat logs

Return: Logfile response

</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="getAirplaneModeStatus" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="9ddc69db-def1-48a7-ae93-6d88ce002a4f" action="command" session="$session">
                    <command>
                        <body>settings get global airplane_mode_on</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\S+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return status]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Return the status of airplane mode for the handset

Return Value: Block
status: 0 - not in airplane mode; 1 - airplane mode</multilineDescription>
            <response>{&quot;status&quot;:&quot;0&quot;}</response>
        </item>
        <item name="getCallStatus" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="346b4f9f-02ae-433d-8c3c-e0060de9c1b0" action="command" session="$session">
                    <command>
                        <body>dumpsys telephony.registry | grep mCallState</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mCallState()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return callStatus]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Get the call status for the mobile - must be in the ADB shell to execute this command

Return Value: Block
callStatus: 0 - not in call; 1 - Connecting; 2 - In call</multilineDescription>
            <response>{&quot;callStatus&quot;:&quot;0&quot;}</response>
        </item>
        <item name="getDevices" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="c538ac3b-3f76-413b-b1bf-01b13a807dad" action="command" session="$session">
                    <command>
                        <body>adb devices -l</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>deviceList</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2feac708-c589-401e-96c6-0253e60266a0" action="if" useFieldsInCommand="false">
                    <command>
                        <body>[query deviceList numberOfDevices()] &gt; 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="6e11b979-95d9-4bf8-8916-358ed2213812" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="b8851400-357e-4110-89b2-c945b2735ce7" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>If there are devices, return the deviceIds and the models in list variables</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f4619c0e-2b9d-4236-82c6-58fe25da9da0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>puts [query deviceList deviceId()]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="regex">
                                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                                                <regex>.+</regex>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <query>[return devices]</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4e4683b9-0d6b-478d-8657-17b11afcdfe5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>puts [query deviceList model()]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="regex">
                                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                                                <regex>.+</regex>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <query>[return models]</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>This procedure will return a list of ADB devices and the corresponding model of each device.</multilineDescription>
            <response>{&quot;devices&quot;:&quot;0&quot;,&quot;models&quot;:&quot;0&quot;}</response>
        </item>
        <item name="getSMS" isPublic="true">
            <responseMap>project://di_ADB/response_maps/sms_sqlite.ffrm</responseMap>
            <steps>
                <item guid="b1e39c5d-ee46-468a-8e71-14f6b0077dd9" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get the SMS from the device to the Host</body>
                    </command>
                    <nestedSteps>
                        <item guid="834af5cd-b273-4052-b03b-9836f5f80e30" action="startShell" session="$session" useFieldsInCommand="false">
                            <command>
                                <body> -device_id $device_id</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="165ab20e-402a-4f0a-8398-7e541384f6b4" action="command" session="$session">
                            <command>
                                <body>cp /data/data/com.google.android.gms/databases/icing_mmssms.db ./sdcard/.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="987c8b72-b87a-48ea-b398-187cbd9849c4" action="command" session="$session">
                            <command>
                                <body>cp /data/data/com.google.android.gms/databases/icing_mmssms.db-wal ./sdcard/.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="515d4bd6-7cef-453e-b2af-12ad4fbdeb01" action="command" session="$session">
                            <command>
                                <body>cp /data/data/com.google.android.gms/databases/icing_mmssms.db-shm ./sdcard/.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="a20f47cc-958e-4877-9bad-2edacee31537" action="shellExit" session="$session" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="629f866c-c09e-4368-9b15-619307b1a753" action="command" session="$session">
                            <command>
                                <body> adb -s $device_id  pull /sdcard/icing_mmssms.db .</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e2ddaf11-fc9e-4824-b7ef-664c4e6e7884" action="command" session="$session">
                            <command>
                                <body> adb -s $device_id  pull /sdcard/icing_mmssms.db-wal .</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ccafe66f-3da4-4bb7-96fc-dfd9d8d306ee" action="command" session="$session">
                            <command>
                                <body> adb -s $device_id  pull /sdcard/icing_mmssms.db-shm .</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="82abdf0e-d898-429c-a8f7-edaea323f1e2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Process database copied from device</body>
                    </command>
                    <nestedSteps>
                        <item guid="2fd4eeee-6365-4d83-bb52-07034859f3c9" action="command" session="$session">
                            <command>
                                <body>sqlite3 icing_mmssms.db</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="b0dd59f8-39b9-4758-b88e-7d3f5d0ca969" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$sendingNumber ne &quot;&quot; </body>
                            </command>
                            <nestedSteps>
                                <item guid="ddd791fd-ca0f-4b73-9eb5-2be54dac3b05" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="df4c4c15-6b42-44fb-910c-2e28d31db883" action="command" session="$session" responseMap="project://di_ADB/response_maps/sms_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                                            <command>
                                                <body>select _id, address, date, subject, body from mmssms where address like &quot;%$sendingNumber%&quot;;</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>retVal</storeResponseAt>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8e30903d-1b87-4b02-bb37-f97b929eaf70" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="7a8df9f9-c7c4-4f87-a9fb-993f44aed4a8" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>$text_body ne &quot;&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="2cfa29b4-1bed-454c-a2d5-123b38ba23cc" action="then" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="10d1710a-e5c2-4309-a083-cec9f5280265" action="command" session="$session" responseMap="project://di_ADB/response_maps/sms_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                                                            <command>
                                                                <body>select _id, address, date, subject, body from mmssms where body like &quot;%$text_body%&quot;;</body>
                                                            </command>
                                                            <postProcessing>
                                                                <storeResponseAt>retVal</storeResponseAt>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="3a89f2bc-1025-45ea-80ce-f27a29ec9948" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="91ec1e51-dbaa-47ca-9d79-34820c4a048e" action="command" session="$session" responseMap="project://di_ADB/response_maps/sms_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                                                            <command>
                                                                <body>select _id, address, date, subject, body from mmssms;</body>
                                                            </command>
                                                            <postProcessing>
                                                                <storeResponseAt>retVal</storeResponseAt>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f33494ba-5cd0-44dd-83a6-d62159fcb7c4" action="command" session="$session">
                            <command>
                                <body>.exit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="073e8b26-fcaf-411f-bf69-04bd93e29912" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>If we only want the latest SMS, only return the last row - otherwise return all rows</body>
                            </command>
                            <nestedSteps>
                                <item guid="c7b7df3d-6abf-4840-ab17-98897cada438" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>$latest_only &gt; 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="75ecae68-76c7-4adb-971c-d7e3b568ee6f" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="cd396451-6cc6-4848-9542-3c7e31e2ee8b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set rows [expr [query retVal totalRows()] -1]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="361d0c0d-d27c-42f9-9c06-967ea5b82fcf" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="71a4827f-6685-494f-b78d-522c57c4ee77" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set rows 0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8e4deeeb-7732-48a9-bd2a-5e9eebceb8a2" action="for" useFieldsInCommand="false">
                            <command>
                                <body>{set i [query retVal totalRows()]} {$i &gt; $rows} {set i [expr $i-1]}</body>
                            </command>
                            <nestedSteps>
                                <item guid="f4e88b0d-9e8a-4506-8dab-4b2e7855293f" action="write">
                                    <command>
                                        <body>[query retVal (mapped/Tabular/table1/table/row/sms_id)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/sending_phone_number)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/timestamp)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/message_subject)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/message_body)\\[$i\\]]\\n</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9e955b58-d133-44aa-bffb-cef838099dc3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Cleanup files</body>
                    </command>
                    <nestedSteps>
                        <item guid="cb8930e2-beb4-4f75-8d79-a255f4319bcc" action="command" session="$session">
                            <command>
                                <body>rm icing_mmssms.db </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="53275d77-ca30-4864-a020-1634ddf8caab" action="command" session="$session">
                            <command>
                                <body>rm icing_mmssms.db-wal </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="7e629c0c-c5f2-4e6c-b547-949ed7747901" action="command" session="$session">
                            <command>
                                <body>rm icing_mmssms.db-shm </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2a2b8fb0-b633-4454-bc0d-a45a03c07adb" action="startShell" session="$session" useFieldsInCommand="false">
                            <command>
                                <body> -device_id $device_id</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c38a5d73-344e-4fb6-9836-00589239b2f0" action="command" session="$session">
                            <command>
                                <body>rm /sdcard/icing_mmssms.db</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="45dc7f4c-b0ea-47d2-98c9-b4f0467b89ed" action="command" session="$session">
                            <command>
                                <body>rm /sdcard/icing_mmssms.db-wal</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="99d6ff1f-8196-44bd-8754-451fb85c19bb" action="command" session="$session">
                            <command>
                                <body>rm /sdcard/icing_mmssms.db-shm </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="250f7085-1edd-4ce5-ab00-d929990772d2" action="shellExit" session="$session" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Get the specified SMS from the database

Return: table (response mapped)

id, sender, timestamp, subject, message body


</multilineDescription>
            <arguments>
                <item name="sendingNumber">
                    <description>if specified, the quickcall will filter only on SMS from this phone number</description>
                </item>
                <item name="text_body">
                    <description>if specified, filter only texts containing specific keywords</description>
                </item>
                <item name="latest_only">
                    <description>If set, only get the latest text message

0 - get all messages
1 - get only latest text message</description>
                    <defaultValue>0</defaultValue>
                </item>
                <item name="device_id">
                    <description>The ADB id for this device</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;textBody&quot;:&quot;&quot;,&quot;se&quot;:&quot;value&quot;}</response>
        </item>
        <item name="getScreenshot" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="92a61d79-a849-405b-bf6c-55485c2909b7" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set retVal 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bebe5f77-2456-4ea6-a7d7-32e99d0e417c" action="command" session="$session">
                    <command>
                        <body>adb -s $deviceId shell screencap $tempfile</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="084ff36c-0b2b-40cb-8bb6-94c33209c1d2" action="command" session="$session">
                    <command>
                        <body>adb -s $deviceId pull $tempfile $filename</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>file_size()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value &gt; 0</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7d558ff6-86fb-4d7e-91f6-fcce8a03ab25" action="command" session="$session">
                    <command>
                        <body>adb -s $deviceId shell rm $tempfile</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="bc019be7-0bd5-47c1-806f-3edb232a7a51" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts $retVal</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\S+)</regex>
                                        <declareNoMatchIssue>false</declareNoMatchIssue>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return status]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Send the screenshot to the specified file on the host machine

Return: Block
status: 0 - failure; 1 - success;</multilineDescription>
            <arguments>
                <item name="filename">
                    <description>The filename (full path) on the host machine of the resulting screenshot file.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tempfile">
                    <description>The location (full path) of the temporary file on the handset</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="deviceId">
                    <description>ADB device ID</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;status&quot;:&quot;0&quot;}</response>
        </item>
        <item name="getVersion" isPublic="true" isVBlock="true">
            <description>Return the ADB version information</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="62274f9d-7ea0-497f-a86a-abfeb05db587" action="command" session="$session">
                    <command>
                        <body>adb version</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>version()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return version]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Return the ADB version information

Return: JSON Block
version: 0</multilineDescription>
            <response>{&quot;version&quot;:&quot;0&quot;}</response>
        </item>
        <item name="isDeviceActive" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="c9406b4d-4be9-4b48-8beb-27f686f112fc" action="getDevices" session="$session" useFieldsInCommand="false">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//devices</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>devices</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8964bdc6-7772-4150-b888-b60bedf69964" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>For each device, if it matches the expected device, set the return value</body>
                    </command>
                    <nestedSteps>
                        <item guid="e86687f2-e7c8-4e27-b1b9-8adf535f7b05" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>puts [string match *$expectedDevice* $devices]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                                <regex>(.+)</regex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <query>[return active]</query>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Is this device currently active in the list of ADB devices?

Return Value: Block
active: 0 - inactive; 1 - active</multilineDescription>
            <arguments>
                <item name="expectedDevice">
                    <description>The device ID of the device expected in the active list</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;active&quot;:&quot;0&quot;}</response>
        </item>
        <item name="reboot" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="922c039b-c515-48e9-a0d0-d1e420b7ac04" action="command" session="$session">
                    <command>
                        <body>adb -s $ADB_ID reboot </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Reboot the device

Return Value: Block
success: 0 - failure; 1 - success</multilineDescription>
            <arguments>
                <item name="ADB_ID">
                    <description>The ID of the ADB device</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="restartUSB" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="ec1661f9-a193-47f4-b757-3b84f13303cc" action="command" session="$session">
                    <command>
                        <body>sudo restart udev</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Restart the USB service on the linux box. This should result in the handset re-appearing if it is missing.

NOTE: **** Must have run sudo command previously to not have to re-input sudo password ****

Return Value: Block
success: 0 - failure; 1 - success</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="setAirplaneMode" isPublic="true" isVBlock="true">
            <description>Airplane mode ON = true OFF = false</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="4b17a8a6-d934-426e-9bfc-8e2040b6a2fe" action="command" session="$session">
                    <command>
                        <body>settings put global airplane_mode_on $status</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ec06ca67-28d4-4066-8a97-32ed867fd501" action="command" session="$session">
                    <command>
                        <body>am broadcast -a android.intent.action.AIRPLANE_MODE --ez state $status</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>airplane_mode_complete()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return failure]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>java.lang.SecurityException: Permission Denial</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Airplane Mode Security Exception: ADB Version does not support changing Airplane Mode</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Set airplane mode

Return Value: Block
failure: 0 - success; 1 - failure</multilineDescription>
            <arguments>
                <item name="status">
                    <description>Airplane mode ON = 1 OFF = 0</description>
                    <defaultValue>1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;failure&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellAddAPN" isPublic="true" isVBlock="true">
            <description>Add an APN</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="66045831-8bf7-41ce-ba89-c1a929960c8d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Indicate that APN values have been set</body>
                    </command>
                    <nestedSteps>
                        <item guid="6a2ea6cd-74b1-4085-a835-5dc51e35744c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>gunset APN_clear </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aa939e0c-e877-40ba-bee5-80cb7eddeb2e" action="command" session="$session">
                    <command>
                        <body>content insert --uri content://telephony/carriers --bind name:s:&apos;$carrier_name&apos; --bind mcc:s:$mcc --bind mnc:s:$mnc --bind numeric:s:$mcc$mnc --bind apn:s:$APN --bind protocol:s:$APN_protocol --bind type:s:$type  --bind mvno_type:s:gid --bind mvno_match_data:s:54 --bind sub_id:s:-1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Setting APN values: $carrier_name, $APN, $APN_protocol</message>
                                        <tag sub="false" defaultValue=""/>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="dd9f4309-4b05-4d3d-8d2c-33b3393e6bf3" action="shellGetSessionADBId" session="$session" useFieldsInCommand="false">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;adb_id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>adb_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="35de5e5c-01d8-4375-99f5-5824dd45c872" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>If adb_id is valid, reboot to affect APN changes</body>
                    </command>
                    <nestedSteps>
                        <item guid="781022fb-7d5e-4232-b85c-8c35f6c69dc0" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$adb_id != 0</body>
                            </command>
                            <nestedSteps>
                                <item guid="6ced0775-6b19-4b01-b2d4-6b60a691e042" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="d1188b51-d69c-40fa-abc6-850d61e3ea48" action="shellReboot" session="$session" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                                            </applicationProperties>
                                        </item>
                                        <item guid="4be12137-f4bb-4326-ad37-5c1954cfc133" action="sleep">
                                            <command>
                                                <body>30</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="fb4d5fa9-60e1-43b9-90cf-3e44a6162aa9" action="startShell" session="$session" useFieldsInCommand="false">
                                            <command>
                                                <body> -device_id $adb_id -rooted true</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a83bbfb2-4968-4856-b6bb-5146c65085d3" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name $carrier_name -APN $APN</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn_protocol&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn_protocol]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;carrier&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return carrier]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;mcc&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mcc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;mnc&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mnc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return id]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Add the APN  - if it already exists, an error is returned.</multilineDescription>
            <arguments>
                <item name="APN">
                    <description>The value of the new APN</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="APN_protocol">
                    <description>IP, IPV6, IPV4V6</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="carrier_name">
                    <description>The carrier name to change in the telephony database</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mcc">
                    <description>Mobile carrier code</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mnc">
                    <description>Mobile network code</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="type">
                    <description>The APN type</description>
                    <defaultValue>default,mms,supl,dun</defaultValue>
                </item>
            </arguments>
            <response>{&quot;apn&quot;:&quot;&quot;,&quot;apn_protocol&quot;:null,&quot;carrier&quot;:null,&quot;mcc&quot;:null,&quot;mnc&quot;:null}</response>
        </item>
        <item name="shellAnswerCall" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="961c7350-1996-40ee-9655-1816250ecc7d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Send the answer call key event</body>
                    </command>
                    <nestedSteps>
                        <item guid="473ebade-1ced-4d06-8330-4bf5b96acc6c" action="command" session="$session">
                            <command>
                                <body>input keyevent 5</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Send the answer call key event in the ADB shell</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellBrowseWebPage" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="937b5a81-5b2d-4961-a192-cd9c42efac6e" action="command" session="$session" skip="true">
                    <command>
                        <body>am start -a android.intent.action.VIEW -d &apos;$page&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="eaffd5a1-705d-42cf-9980-a029861cea97" action="shellHomeButton" session="$session" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3ff0ca77-8622-45a2-a091-ed6c57c2e4a9" action="command" session="$session">
                    <command>
                        <body>am start -a android.intent.action.VIEW -d &apos;$page&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="fca36d5a-f4bf-449f-a07f-9dae5cc53563" action="command" session="$session" skip="true">
                    <command>
                        <body>am start -a android.intent.action.VIEW -d &quot;javascript:window.onload=function(){console.log(&apos;***************WEBPAGE LOADED****************&apos;)}&quot; </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4e523cdd-9bef-4743-805c-ee31ed76b2da" action="command" session="$session" skip="true">
                    <command>
                        <body>am start -a android.intent.action.VIEW -d &apos;$page&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>In the ADB shell, browse to the webpage specified</multilineDescription>
            <arguments>
                <item name="page">
                    <description>The webpage URL</description>
                    <defaultValue>http://www.google.com</defaultValue>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellChangeAPN" isPublic="true" isVBlock="true">
            <description>Change the APN value of the handset</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="5de3ce7b-98d3-44c7-9652-96f4dcc9c692" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name $carrier_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c38df488-60ce-4983-87db-9c834c81bb4e" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$new_APN_protocol ne &quot;NA&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="16580115-cfe1-45ba-9151-d70cec791db1" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="742c757c-4cb3-4692-8f5e-c241455c4413" action="command" session="$session">
                                    <command>
                                        <body>content update --uri content://telephony/carriers --bind protocol:s:&quot;$new_APN_protocol&quot; --where _id=$id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="35614ba9-8729-4740-a85b-d5151a52d20c" action="command" session="$session">
                    <command>
                        <body>content update --uri content://telephony/carriers --bind name:s:&quot;$carrier_name&quot; --bind apn:s:&quot;$new_APN&quot; --where _id=$id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b3cbd43e-ae42-406e-93fa-93c7d82a8679" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name $carrier_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;apn_protocol&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn_protocol]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;carrier&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return carrier]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;mcc&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mcc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;mnc&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mnc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;mcc&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mcc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return id]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Change the APN of the handset to the specified value - note that the APN carrier type must exist in the database</multilineDescription>
            <arguments>
                <item name="new_APN">
                    <description>The value of the new APN</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="new_APN_protocol">
                    <description>If desired, pass in a new_APN_protocol: IP, IPV6, IPV4V6. Leave as NA to make no changes.</description>
                    <defaultValue>NA</defaultValue>
                </item>
                <item name="carrier_name">
                    <description>The carrier name to change in the telephony database</description>
                    <defaultValue>Telus</defaultValue>
                </item>
            </arguments>
            <response>{&quot;apn&quot;:&quot;&quot;,&quot;apn_protocol&quot;:null,&quot;carrier&quot;:null,&quot;mcc&quot;:&quot;0&quot;,&quot;mnc&quot;:&quot;0&quot;,&quot;id&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellClearAPN" isPublic="true" isVBlock="true">
            <description>Add an APN</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="91ce8bfd-f4c5-4df3-a9fd-310508199c98" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set id 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="448082e9-4efb-459a-928d-77266186af3f" action="if" useFieldsInCommand="false">
                    <command>
                        <body>[info exists global APN_clear] == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="85ffda6e-4fa9-4caf-932d-ffd4bb1d5f81" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="891fcaee-b1c9-43ae-b265-ff0213e26c91" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Print the APN clear message</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message>Clearing APN values from UE</message>
                                                        <tag sub="false" defaultValue=""/>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0fc9e87a-8d97-42e1-be07-0fba48111785" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>gset APN_clear 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="96bf6719-960c-4dea-a21a-e3dfc0043b21" action="command" session="$session">
                    <command>
                        <body>content query --uri content://telephony/carriers --where &quot;apn=&apos;$APN&apos;&quot;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>row_id()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ids</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8635d166-958b-47db-96f6-811ae5dc1c3b" action="foreach" useFieldsInCommand="false">
                    <command>
                        <body>id $ids</body>
                    </command>
                    <nestedSteps>
                        <item guid="8dd7b9fa-ee05-48fe-8219-f23c74c56a0c" action="command" session="$session">
                            <command>
                                <body>content delete --uri content://telephony/carriers  --where &quot;_id=&apos;$id&apos;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fa4d7b45-c6a7-47de-b40f-43037e4e6bf5" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name &quot;&quot; -APN $APN</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>JSON(&quot;id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="85b7fd87-656d-4f03-8b83-118b0369bb02" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$id == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="711d15ba-f18f-4421-b182-25366584d897" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="a1f0e001-a34d-4126-968d-daafdf77ce20" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>puts &quot;success&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                                        <regex>(\\S+)</regex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return result]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Clear all rows from the carriers table that have the specified APN.</multilineDescription>
            <arguments>
                <item name="APN">
                    <description>The value of the new APN</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;result&quot;:&quot;failure&quot;}</response>
        </item>
        <item name="shellDeleteAPN" isPublic="true" isVBlock="true">
            <description>Add an APN</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="c0b2f586-e1d7-44a5-8034-5cce6bf84a29" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set id 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0ef24551-4817-4372-8b87-9fefdab75738" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -carrier_name $carrier_name -APN $APN</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>JSON(&quot;id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d817e683-3725-4a95-b633-31e4ee8bb606" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$id &gt; 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="231e87c0-363f-48b7-8e41-49acb9ad4502" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="aaf25d45-dafd-48cb-9bb4-99878ff82466" action="command" session="$session">
                                    <command>
                                        <body>content delete --uri content://telephony/carriers  --where &quot;_id=&apos;$id&apos;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <completionProperties expectedIdleTime="5.117" expectedIdleTime.inherit="false"/>
                                    </applicationProperties>
                                </item>
                                <item guid="47da246f-d206-4af4-a47a-394e3e53526b" action="shellReadAPN" session="$session" useFieldsInCommand="false">
                                    <command>
                                        <body> -carrier_name $carrier_name -APN $APN</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>JSON(&quot;id&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>id</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="b520c91f-8acf-4223-8a7b-c9166cb4c77c" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>$id == 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d0544c0d-a4e8-4ef4-90a2-920b11944794" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="a7070aa1-9873-4ee0-a5a7-b68648d0d6a9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>puts &quot;success&quot;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="regex">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                                                        <regex>(\\S+)</regex>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return result]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Delete the specified APN</multilineDescription>
            <arguments>
                <item name="APN">
                    <description>The value of the new APN</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="carrier_name">
                    <description>The carrier name to change in the telephony database</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;result&quot;:&quot;failure&quot;}</response>
        </item>
        <item name="shellDeleteFile" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="bfebc795-4886-4c2d-925e-c6fb10b27e59" action="command" session="$session">
                    <command>
                        <body>cd $location</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8cfabab3-c475-4462-9e30-f75017245ca9" action="command" session="$session">
                    <command>
                        <body>ls -l $file_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(.+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;*$file_name*&quot; &quot;$value&quot;]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="30f804ce-bc12-4daf-901b-5a6bef0a034f" action="command" session="$session">
                    <command>
                        <body>rm $file_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b6b783af-97d6-4540-8ae8-ddb99b2eb126" action="command" session="$session">
                    <command>
                        <body>ls -l $file_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(.+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;*No such file or directory*&quot; &quot;$value&quot;] &amp;&amp; $retVal == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="520eae66-40b6-414d-9a63-6392194e6baa" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts $retVal</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\d+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return success]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Delete the file at the specified location

Return Value: Block
Success: 1-success; 0-failure;</multilineDescription>
            <arguments>
                <item name="location">
                    <description>location: Complete path of the directory where file is present</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="file_name">
                    <description>file_name: Name of the file to be deleted</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellDownloadFile" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="055011eb-2ffd-4c4a-8f6d-157286c9c132" action="command" session="$session">
                    <command>
                        <body>cd $location</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="32b26eec-7267-494c-8e62-19c7ab628aac" action="command" session="$session">
                    <command>
                        <body>curl -O &quot;$file_url&quot;\\n</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>% Received</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties>
                            <maxIdleTimeAddition inherit="false">60.0</maxIdleTimeAddition>
                        </completionProperties>
                    </applicationProperties>
                </item>
                <item guid="f1a2ed9f-36f9-4fef-9606-24e05d9d255e" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts $retVal</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\d+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return success]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Download the specified file to the specified location

Return Value: Block
Success: 1-success; 0-failure;</multilineDescription>
            <arguments>
                <item name="location">
                    <description>location: Complete path on the handset where downloaded file need to be stored.
 exmaple: /storage/self/primary/Download</description>
                    <defaultValue>/storage/self/primary/Download</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="file_url">
                    <description>file_url: URL for the file 

 Exmaple: &quot;http://www.spirent.com/-/media/Datasheets/Broadband/PAB/CLEAR/Spirent_iTest_datasheet.pdf&quot;</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellEndCall" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="c339b15b-348b-40d8-8347-80d6775b7bf1" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Send the end call key code  - ensure that screen hibernate/timeout is long so that we don&apos;t have to wake the phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="2f6b30ad-4211-490a-ab0d-fa9a6b9bebb7" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_ENDCALL</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="afe06252-def7-4c93-9e6f-0f72b3bd5b28" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>End a call in progress </multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellExit" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="2f87e1c2-7234-4b29-97f2-aaf38b89a80d" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$rooted</body>
                    </command>
                    <nestedSteps>
                        <item guid="ae4e7d98-f08b-43f7-92ff-4c8f885737ab" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="a6dda106-1b41-46d7-aa9d-e17eb02e2464" action="command" session="$session">
                                    <command>
                                        <body>exit</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0dd1df58-47b8-4efa-9b5f-54d6f3a4a772" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;*shell*&quot; $value]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="178d7213-7655-4df8-9ae5-05a577ced409" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts $retVal</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\d+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return success]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Exit the adb command shell

Return Value: Block
Success: 1-success; 0-failure;</multilineDescription>
            <arguments>
                <item name="rooted">
                    <description>true: UE is rooted
false: UE is not rooted</description>
                    <defaultValue>true</defaultValue>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellGetCarrierInformation" isPublic="true" isVBlock="true">
            <description>Read the carrier database information</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="fe45d04d-556d-402c-8301-d4cd8a62fff1" action="command" session="$session" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>cd /data/data/com.android.providers.telephony/databases</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="20a3206a-e4e4-4971-9213-aad90da030c7" action="command" session="$session" normalOffset="19.243">
                    <command>
                        <body>sqlite3 telephony.db</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="42a38cea-00b4-4dfe-a003-cd1220079375" action="command" session="$session" responseMap="project://di_ADB/response_maps/carrier_info_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>select * from carriers where name like &apos;$carrier&apos; limit 1;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>carrier_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return carrier]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query sub="true">mcc_by_carrier(&quot;$carrier&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mcc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query sub="true">mnc_by_carrier(&quot;$carrier&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return mnc]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query sub="true">apn_by_carrier(&quot;$carrier&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return apn]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <multilineDescription>Get the carrier database information</multilineDescription>
            <arguments>
                <item name="carrier">
                    <description>The name of the carrier</description>
                    <defaultValue>TELUS</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;carrier&quot;:null,&quot;mcc&quot;:&quot;0&quot;,&quot;mnc&quot;:&quot;0&quot;,&quot;apn&quot;:null}</response>
        </item>
        <item name="shellGetFileSize" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="6bfcb4a4-0098-4273-8644-d37f01819020" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set file_size 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e7026518-ec4f-4d14-a4ff-b8934dd62f4e" action="command" session="$session">
                    <command>
                        <body>cd $location</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5c0bb89f-0765-418f-85ae-f5a9a66a19e3" action="command" session="$session">
                    <command>
                        <body>ls -l $file_name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>file_size()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return fileSize]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Return the size of a file from the specified location

Return Value: Block
fileSize: integer from 0 - ?</multilineDescription>
            <arguments>
                <item name="location">
                    <description>location: Complete path on the handset where downloaded file need to be stored.
 exmaple: /storage/self/primary/Download</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="file_name">
                    <description>file_name: Name of the file whose size needs to be determined.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;fileSize&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellGetInternalId" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="4b2895c6-3725-4a78-a148-5847d04947c7" action="command" session="$session">
                    <command>
                        <body>settings get secure android_id</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\S+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return internal_id]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Returns the internal ADB ID for the session</multilineDescription>
            <response>{&quot;internal_id&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellGetNetwork" isPublic="true" isVBlock="true">
            <description>Get the handset network mode</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="1f29dd32-24a2-442a-8cc9-88fe8ebdf963" action="command" session="$session" skip="true" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>cd /data/data/com.android.providers.settings/databases</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="e6f95363-0fb4-4c0f-97a2-cb974a6f6f28" action="command" session="$session" skip="true" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>sqlite3 settings.db</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="68fee147-6ca9-429b-8b18-795b600390a4" action="command" session="$session" skip="true">
                    <command>
                        <body>select value from global where name=&quot;preferred_network_mode&quot;;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="e3438ed7-d3d7-4963-b182-6d9ab5821cbb" action="command" session="$session" skip="true">
                    <command>
                        <body>.exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="19aa1591-cec4-4a60-8842-128a991e4466" action="command" session="$session">
                    <command>
                        <body>settings get global preferred_network_mode</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\d+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return network_mode]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>Get the handset network mode

0: GSM/WCDMA
1: GSM
2: WCDMA
9: LTE, GSM/WCDMA
11: LTE
12: LTE/WCDMA</multilineDescription>
            <response>{&quot;network_mode&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellGetSMS" isPublic="true">
            <responseMap>project://di_ADB/response_maps/sms_sqlite.ffrm</responseMap>
            <steps>
                <item guid="3156190f-9f63-4766-b18f-c42a851b3df7" action="command" session="$session" skip="true">
                    <command>
                        <body>cd /data/data/com.android.providers.telephony/databases</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="dc355ce9-178b-48cf-99b9-c4f0f5af86cb" action="command" session="$session">
                    <command>
                        <body>content query --uri content://telephony/mmssms </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3170aa14-78b5-4105-876b-e79deef351fc" action="command" session="$session" skip="true">
                    <command>
                        <body>sqlite3 mmssms.db</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8f53ea16-352a-4fff-a0f4-682775202b1c" action="if" skip="true" useFieldsInCommand="false">
                    <command>
                        <body>$sendingNumber ne &quot;&quot; </body>
                    </command>
                    <nestedSteps>
                        <item guid="18d05aa4-ac12-499f-b6b1-2e68c40566af" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="d9542e2b-e48b-48f8-b3f8-6f91d7663bfc" action="command" session="$session" responseMap="project://di_ADB/response_maps/sms_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>select _id, address, date_sent, subject, body from sms where address like &quot;%$sendingNumber%&quot;;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>retVal</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0ae10a7f-e1d1-428d-90cd-9431e978b609" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="6fe95bec-d651-4d2b-b7d9-18ad557292b6" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>$text_body ne &quot;&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="78e84995-3b47-4dda-afe4-279d7e330fef" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="68cff179-52ca-4300-a4bd-02b544f3d3d1" action="command" session="$session" responseMap="project://di_ADB/response_maps/sms_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                                                    <command>
                                                        <body>select _id, address, date_sent, subject, body from sms where body like &quot;%$text_body%&quot;;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>retVal</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="261b3e48-db19-4728-a7e0-5664a848cda3" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="ce6d87fd-f8f5-4802-aa2a-5042793c6388" action="command" session="$session" responseMap="project://di_ADB/response_maps/sms_sqlite.ffrm" useResponseMapLibraryApplicability="false">
                                                    <command>
                                                        <body>select _id, address, date_sent, subject, body from sms;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>retVal</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bbbe70b7-072e-48fb-87a3-8c5d442191c7" action="command" session="$session" skip="true">
                    <command>
                        <body>.exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="fa0e416d-289a-428e-b0ff-098bbcef13e2" action="comment" skip="true" useFieldsInCommand="false">
                    <command>
                        <body>If we only want the latest SMS, only return the last row - otherwise return all rows</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a62d6fa-c02a-42ad-b00a-a15622324ec4" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$latest_only &gt; 0</body>
                            </command>
                            <nestedSteps>
                                <item guid="3ae8dd9e-d2f7-492c-aa77-96dbb38ee71b" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="098ef74e-53de-41f9-b1c0-3fb807ca78d2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>set rows [expr [query retVal totalRows()] -1]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="febd76fc-8e79-4cd4-a5a8-e6282699ebe5" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="e6226e49-1778-4d06-9a82-8e1c4bccfe12" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>set rows 0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9b793a95-64ee-4b41-892e-349f4f99f17b" action="for" skip="true" useFieldsInCommand="false">
                    <command>
                        <body>{set i [query retVal totalRows()]} {$i &gt; $rows} {set i [expr $i-1]}</body>
                    </command>
                    <nestedSteps>
                        <item guid="229a5adc-f4df-45e3-9767-a619b8285cb7" action="write">
                            <command>
                                <body>[query retVal (mapped/Tabular/table1/table/row/sms_id)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/sending_phone_number)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/timestamp)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/message_subject)\\[$i\\]]|[query retVal (mapped/Tabular/table1/table/row/message_body)\\[$i\\]]\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Get the specified SMS from the database

Return: table (response mapped)

id, sender, timestamp, subject, message body


</multilineDescription>
            <arguments>
                <item name="sendingNumber">
                    <description>if specified, the quickcall will filter only on SMS from this phone number</description>
                </item>
                <item name="text_body">
                    <description>if specified, filter only texts containing specific keywords</description>
                </item>
                <item name="latest_only">
                    <description>If set, only get the latest text message

0 - get all messages
1 - get only latest text message</description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
            <response>{&quot;textBody&quot;:&quot;&quot;,&quot;se&quot;:&quot;value&quot;}</response>
        </item>
        <item name="shellGetSessionADBId" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="20df6d90-ddee-4fec-8bc9-f84dee05f8e0" action="shellGetInternalId" session="$session" useFieldsInCommand="false">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;internal_id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>internal_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="20db7afc-15e1-40de-b5eb-1b036230a8ae" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts [tbml query //propertyCollection\\[property\\[@name=&quot;INTERNAL_ID&quot;\\]=&quot;$internal_id&quot;\\]/property\\[@name=&quot;ADB_ID&quot;\\]]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\S+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return adb_id]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <response>{&quot;adb_id&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellHomeButton" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="f59bb13b-d634-474b-a28e-800af30d953d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Press the home button</body>
                    </command>
                    <nestedSteps>
                        <item guid="db19ea25-b3af-49b7-ad34-63a041c0f33e" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4f29d0a8-7734-42ba-ab03-8f0ea0990066" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e339a1bf-8088-42f0-8cf0-2cfaea6a3b89" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Swipe to open if phone locked</body>
                    </command>
                    <nestedSteps>
                        <item guid="9e89dad1-edfc-4aff-a0f0-911bd93af03e" action="command" session="$session">
                            <command>
                                <body>input touchscreen swipe 200 1900 830 1120</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f44d2af5-dcc2-4d8a-8e84-a3a827392706" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="32bc585e-15a8-41bf-bfc6-5e4efacab830" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home screen on phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a543f39-9044-468c-aa57-870462256329" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>var1</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="9741adeb-1366-4aec-b397-09e2aec360f3" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Press the KEYCODE_HOME button

Return Value: Block
Success: 1-success; 0-failure;</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellKickstartMonSub" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="c6be456b-c4cd-4cf9-8c7b-b525aaf6b6e5" action="setAirplaneMode" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -status 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8cd2a312-da36-447d-b49f-943f64b7f5d0" action="sleep">
                    <command>
                        <body>15</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2f7c6027-4069-4565-a3a8-a356821194a8" action="setAirplaneMode" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -status 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8a10eedd-f007-4379-888f-18aab8b5ef7c" action="sleep">
                    <command>
                        <body>15</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7ab96cf8-37f8-45cc-8fe1-0a958d02d32b" action="setAirplaneMode" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -status 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0d6e2c27-a757-451c-8019-a35b921213b9" action="sleep">
                    <command>
                        <body>15</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>This procedure is designed to &quot;kick start&quot; monitor subscriber. We noticed that monitor subscriber performs better after the UE registers/deregisters.

Return Value: Block
success: 1 - success; 0 - failure</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellPowerButton" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="e9597953-e366-41e2-af53-8543b2eeb7ea" action="command" session="$session">
                    <command>
                        <body>input keyevent 26</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Simulate the power button

Return Value: Block
Success: 1-success; 0-failure;</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellReadAPN" isPublic="true" isVBlock="true">
            <description>Read the APN value used by the phone</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="8e444921-e6d0-4793-8cbb-35d8561e02a4" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$APN ne &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="eff8762b-ac12-4ad6-b0be-b3135dffa885" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="a07032ba-e897-4a27-84da-b07d111777de" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>$carrier_name ne &quot;&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="208b5dda-9a21-448c-8899-7bbb4048cfff" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="4575832f-f8d7-44ea-81fd-4204760d4386" action="command" session="$session" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                                                    <command>
                                                        <body>content query --uri content://telephony/carriers --where &quot;apn=&apos;$APN&apos; and name=&apos;$carrier_name&apos;&quot;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>apn()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return apn]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>protocol()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return apn_protocol]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>carrier_name()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return carrier]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>row_id()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return id]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mcc()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return mcc]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mnc()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return mnc]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d5757900-9082-469e-9a22-25e1fb73d601" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="d6108d1f-67b0-4c5b-8aa3-c2fad0c74226" action="command" session="$session" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                                                    <command>
                                                        <body>content query --uri content://telephony/carriers --where &quot;apn=&apos;$APN&apos;&quot;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>apn()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return apn]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>protocol()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return apn_protocol]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>carrier_name()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return carrier]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>row_id()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return id]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mcc()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return mcc]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mnc()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <query>[return mnc]</query>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e814bd82-d36f-478e-b0a3-84b581d465a0" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="4a556b0b-c6d5-415d-b403-f981cb9c34cb" action="command" session="$session" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                                    <command>
                                        <body>content query --uri content://telephony/carriers --where &quot;name=&apos;$carrier_name&apos;&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>apn()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return apn]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>protocol()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return apn_protocol]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>carrier_name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return carrier]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>row_id()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return id]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mcc()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return mcc]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mnc()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <query>[return mnc]</query>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Return the APN of the handset</multilineDescription>
            <arguments>
                <item name="carrier_name">
                    <description>The carrier name to update in the carrier database. Telus is the default.</description>
                    <defaultValue>Telus</defaultValue>
                </item>
                <item name="APN">
                    <description>If specified, use the APN value rather than the carrier to retrieve APN information.</description>
                </item>
            </arguments>
            <response>{&quot;apn&quot;:&quot;&quot;,&quot;apn_protocol&quot;:null,&quot;carrier&quot;:null,&quot;id&quot;:&quot;0&quot;,&quot;mcc&quot;:&quot;0&quot;,&quot;mnc&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellReboot" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="11a45eb6-260a-425e-a080-c2e325d93611" action="command" session="$session">
                    <command>
                        <body>reboot</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>From within the ADB shell, reboot the device

Return Values: JSON Block
success: 1 - success; 0 - failure</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellSendSMS" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="69a0e2dc-ec9b-46f4-9368-0718d52b44d8" action="shellHomeButton" session="$session" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="efe7bca2-4a80-4255-abb1-8130f6a4cd57" action="command" session="$session">
                    <command>
                        <body>am start -a android.intent.action.SENDTO -d sms:$phoneNumber --es sms_body &quot;$message&quot; --ez exit_on_sent true</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>smsSent()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return success]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ff696613-b468-439a-9781-4e34d2e27976" action="command" session="$session">
                    <command>
                        <body>input keyevent 22</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c21428fa-0e9d-458a-833b-ca37a8b81fd6" action="command" session="$session">
                    <command>
                        <body>input keyevent 66</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Send the specified SMS message to the specified phone number

Return value: Block
success: 0 - failure, 1 - success</multilineDescription>
            <arguments>
                <item name="message">
                    <description>The body of the SMS message</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="phoneNumber">
                    <description>The &quot;to&quot; phone number for the SMS</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellServiceList" isPublic="true">
            <description>Get the service list of all services on the phone</description>
            <steps>
                <item guid="b23492ec-6b55-4e90-92ad-4852e1f621d0" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>service list</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="97fc7c18-82de-4774-99fa-3f740e827e92" action="for" useFieldsInCommand="false">
                    <command>
                        <body>{set i 1} {$i &lt;= [query serviceTable rowCount()]} {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="06851166-1557-4855-86f3-0e2b2b478950" action="write">
                            <command>
                                <body>[query serviceTable Name($i)],[query serviceTable OS_Name($i)]\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Return a table of the services enabled for this device

Return value:

Table of services</multilineDescription>
        </item>
        <item name="shellSetLTE" isPublic="true" isVBlock="true">
            <description>Get the service list of all services on the phone</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="f3d2f304-c911-4431-809d-fa14b6136007" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 17</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="79c28651-573a-4937-b3fb-84649ddff031" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 18</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="7c037dc2-4cd5-488c-a65a-48faae5a11c2" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 9</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="2a4867ff-c68d-4f6c-a18f-4072d76cd22e" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 9</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="eec1112d-5985-4f66-867f-7673c583c44a" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 13</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="f3b79abc-d6e1-4a15-81aa-712f1a6afcd6" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 10</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="ca0ac9db-3d70-4c93-8f7a-116b10a808d7" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>input keyevent 18</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>Set LTE via pressing *#2263#

Return value: Block

success: 0-Failue; 1-Success</multilineDescription>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellSetNetwork" isPublic="true" isVBlock="true">
            <description>Set the handset for VoLTE</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="83aa5406-0318-4bf7-a69e-8fabd5bca07c" action="command" session="$session" skip="true" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>cd /data/data/com.android.providers.settings/databases</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="6db0a987-d335-40d0-8bd0-b87acfedf1b7" action="command" session="$session" skip="true" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>sqlite3 settings.db</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="4e7cb950-1943-4769-bd13-34d485a27cef" action="command" session="$session" skip="true" normalOffset="19.243">
                    <command>
                        <body>update global set value=$network_type where name=&quot;preferred_network_mode&quot;;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="d4e5fcea-21cd-45bd-949e-dc3943f21610" action="command" session="$session" skip="true">
                    <command>
                        <body>.exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="ff5c5963-c7e6-452b-83ca-fe49077c4228" action="command" session="$session">
                    <command>
                        <body>settings put global preferred_network_mode $network_type</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="a1c40706-925e-4786-9d4d-5c8abc321a42" action="command" session="$session">
                    <command>
                        <body>am broadcast -a gravitybox.intent.action.CHANGE_NETWORK_TYPE --ez networkType $network_type</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="3a6022db-85f9-4a11-9651-4c43716de6da" action="shellGetNetwork" session="$session" useFieldsInCommand="false">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JSON(&quot;network_mode&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return network_mode]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>Set the handset for VoLTE and return the network mode:

0: GSM/WCDMA
1: GSM
2: WCDMA
9: LTE, GSM/WCDMA
11: LTE
12: LTE/WCDMA

Return Values: 

JSON Block: 
network_mode</multilineDescription>
            <arguments>
                <item name="network_type">
                    <description>0: GSM/WCDMA
1: GSM
2: WCDMA
9: LTE, GSM/WCDMA
11: LTE
12: LTE/WCDMA</description>
                    <defaultValue>9</defaultValue>
                </item>
            </arguments>
            <response>{&quot;network_mode&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellSetNetworkPressMenu" isPublic="true" isVBlock="true">
            <steps>
                <item guid="de45d756-04b4-464f-a765-761c297c8b4b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home screen on phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="13dcbdf6-d7bb-4bb6-a925-e73e9fea1193" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="9ca471bb-1543-43bb-8e43-8fe1469c0fde" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="64c9a84a-b525-4819-b42f-bfab15fa201f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Swipe to open if phone locked</body>
                    </command>
                    <nestedSteps>
                        <item guid="3fc7c178-90b6-4799-afa3-3672c7a03e44" action="command" session="$session">
                            <command>
                                <body>input touchscreen swipe 200 1900 830 1120</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="b41aac3b-e597-43d0-b6bb-72b3efca2960" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="190ea78b-653e-43cd-9ab5-9d33dc306569" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home screen on phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="cb59d27b-7247-4a2e-adac-6e5e7a654081" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>var1</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="9324c5e0-6b47-41d3-a5a9-cdf4efebd3e0" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d1a49d81-80cb-47a9-9cef-591584311421" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open Settings</body>
                    </command>
                    <nestedSteps>
                        <item guid="8369dc02-5dc4-460b-bbcc-ebacbe14822c" action="command" session="$session">
                            <command>
                                <body>input tap 890 720</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5edd114b-ae6e-4983-882a-a9b1243fd2ed" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="39c87302-2a7a-470a-9573-9209e01d2ef1" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Swipe to bring settings to Top</body>
                    </command>
                    <nestedSteps>
                        <item guid="8962c4ad-4149-4ad0-8ff9-595a41c99d7a" action="command" session="$session">
                            <command>
                                <body>input touchscreen swipe 900 850 800 1600</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4ee3fc95-c17f-43e5-9b51-66ac9abd32b1" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fd1e45f0-7897-41c7-8e8f-ebeb0489150d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open CONNECTIONS</body>
                    </command>
                    <nestedSteps>
                        <item guid="60852e53-50e4-4f99-bdd0-5da3238719ee" action="command" session="$session">
                            <command>
                                <body>input tap 700 470</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2f555807-925c-424a-98dc-95a3ca25e112" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e9e1d6b9-2b29-43c1-ad66-1c326ad4b7da" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Swipe screen to bring menu to Top</body>
                    </command>
                    <nestedSteps>
                        <item guid="7c40d35f-72eb-43d9-a8ab-b2eea90d5e10" action="command" session="$session">
                            <command>
                                <body>input touchscreen swipe 900 850 800 1600</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d7c2ec15-d6b9-4814-a218-0a2caabc3899" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4a5ccecc-3cbc-4a7c-9d8f-5fd38cc26205" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open MOBILE NETWORKS</body>
                    </command>
                    <nestedSteps>
                        <item guid="86fe149f-e30e-49b4-ab5a-4f3d892279d4" action="command" session="$session">
                            <command>
                                <body>input tap 620 2300</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0f23e83e-7772-4bf3-b868-8415b4633368" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0dce20e4-87ab-4f7b-b4f0-2c460b81bd8b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open Network mode</body>
                    </command>
                    <nestedSteps>
                        <item guid="a4e41276-2cf1-4818-a96e-c077b7b0ffe6" action="command" session="$session">
                            <command>
                                <body>input tap 670 800</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="943ac069-b3ff-42a3-a584-8d9b902c870e" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cedc688a-b98b-4a8e-a701-3465e2855329" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Select Network mode and returned Network Prefferences</body>
                    </command>
                    <nestedSteps>
                        <item guid="d30a38d8-b26f-460f-a050-de8bc5efe9e4" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$network_mode == 0</body>
                            </command>
                            <nestedSteps>
                                <item guid="e47ea414-9758-4293-a7ca-69ccfa36c1d8" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="4a75602c-4b61-44d8-b7c4-42e82f2b48ce" action="command" session="$session">
                                            <command>
                                                <body>input tap 700 760</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="ab68d469-7aa6-4a2e-ae0c-22ed705a320e" action="sleep">
                                            <command>
                                                <body>1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1272c4ac-6705-429f-ab95-74aaa9ae14da" action="command" session="$session">
                                            <command>
                                                <body>settings list global | grep pref</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>preferred_network_mode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <query>[return set_network_mode]</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5784d696-93d3-4c7e-ad8e-077e714320d4" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$network_mode == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="6ed9dd06-b19e-4750-81fa-4b85cb65be6a" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="53346ad2-0850-4170-a604-549bba89d81a" action="command" session="$session">
                                            <command>
                                                <body>input tap 700 946</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="04399126-f7d1-415d-abea-5664fc60ea60" action="sleep">
                                            <command>
                                                <body>1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="012b13fe-fd21-4ff4-ac08-7ae08ade8634" action="command" session="$session">
                                            <command>
                                                <body>settings list global | grep pref</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>preferred_network_mode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <query>[return set_network_mode]</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f99ada50-82a0-4c5b-9fed-e2e68c6340a3" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$network_mode == 2</body>
                            </command>
                            <nestedSteps>
                                <item guid="acc72d30-33e1-469a-abe3-31cde0e9a7cf" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="88637fdf-7419-4581-92f0-a536a72146ed" action="command" session="$session">
                                            <command>
                                                <body>input tap 700 1140</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="c8922848-d181-48fe-b518-cc2141f9c46e" action="sleep">
                                            <command>
                                                <body>1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d35da740-2582-4de8-bd64-c845ad4d2c85" action="command" session="$session">
                                            <command>
                                                <body>settings list global | grep pref</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>preferred_network_mode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <query>[return set_network_mode]</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cc6e7ccd-bb68-4198-8b49-9376c8754093" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$network_mode == 3</body>
                            </command>
                            <nestedSteps>
                                <item guid="17f3b359-36b1-44cd-9995-579302c49fff" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="dc7670c2-f8b2-418f-9cc9-2f8fcf2b577c" action="command" session="$session">
                                            <command>
                                                <body>input tap 700 1320</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="79b18657-5234-4881-89a3-8b133d2e2224" action="sleep">
                                            <command>
                                                <body>1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="276ec7c8-25dd-441a-bb99-9d011a77b3cb" action="command" session="$session">
                                            <command>
                                                <body>settings list global | grep pref</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>preferred_network_mode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <query>[return set_network_mode]</query>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1bb598b9-fa98-4c10-a9e2-f772c90a3f24" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home </body>
                    </command>
                    <nestedSteps>
                        <item guid="0a01d835-9eed-4d46-9615-9aa2895bc070" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ef302cb0-70eb-4a1f-9531-b77b623a4859" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="99047aa9-ceca-4c3f-ae2e-a0033f839254" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Also set WCDMA or all networks via the database</body>
                    </command>
                    <nestedSteps>
                        <item guid="6d778d12-849b-47e9-8a8e-ab92fdc098ac" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$network_mode == 2</body>
                            </command>
                            <nestedSteps>
                                <item guid="3b26cf12-4468-46d6-ade9-318c381b1693" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="7facc5c8-db9e-4f57-bb12-58c3b78ee9fb" action="shellSetNetwork" session="$session" useFieldsInCommand="false">
                                            <command>
                                                <body> -network_type $network_mode</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b2b0c4a6-5860-4380-8278-06261ca3af9e" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$network_mode == 0</body>
                            </command>
                            <nestedSteps>
                                <item guid="b931ece8-8d45-48d8-b871-f541a9e0a2cf" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="acdfad53-86f1-4451-b935-44b885bb0fea" action="shellSetNetwork" session="$session" useFieldsInCommand="false">
                                            <command>
                                                <body> -network_type 9</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="network_mode">
                    <description>0 = LTE/WCDMA/GSM (auto connect)
1 = WCDMA/GSM (auto connect)
2 = WCDMA only
3 = GSM only </description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
            <response>{&quot;set_network_mode&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellSetTerminalWidth" isPublic="true" isVBlock="true">
            <description>Get the service list of all services on the phone</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="faf195a6-b891-419d-84e0-e7f185e9011b" action="command" session="$session" normalOffset="10.851" estimatedStepExecutionTime="0.514">
                    <command>
                        <body>COLUMS=$width</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>serviceTable</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.374" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>Set the terminal width

Return value: Block

success: 0-Failue; 1-Success</multilineDescription>
            <arguments>
                <item name="width">
                    <description>The width of the terminal window</description>
                    <defaultValue>1200</defaultValue>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="shellSetVoLTE" isPublic="true" isVBlock="true">
            <description>Set the handset for VoLTE</description>
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="4aad0cea-9564-4a1d-8d61-33fb45b07feb" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts $mode</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\d+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value &gt; 0</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set state &quot;true&quot;</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set state &quot;false&quot;</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b367e764-5b2a-46d5-86a0-3b83584479e2" action="command" session="$session">
                    <command>
                        <body>setprop persist.radio.lteon $state</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="2b712bb5-0186-4d5e-9182-dedc4712f31e" action="command" session="$session">
                    <command>
                        <body>setprop ril.ims.ltevoicesupport $mode</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="a715e163-0e6d-4f0b-90ff-236d6039a8db" action="command" session="$session" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>setprop persist.radio.calls.on.ims $state</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="782b198f-e78b-4f0b-a3ee-4b5765f00640" action="command" session="$session" normalOffset="19.243">
                    <command>
                        <body>setprop persist.radio.vrte_logic $mode</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="2eaa1d2a-9f9a-4ac3-825a-62875511fc9f" action="command" session="$session">
                    <command>
                        <body>setprop persist.radio.jbims $mode</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="a2707e3c-fac0-4ef1-9e55-fb9db217062e" action="command" session="$session">
                    <command>
                        <body>getprop persist.radio.lteon </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b2b6e3fc-90cc-41c0-ad37-c95f8e8b47b1" action="command" session="$session">
                    <command>
                        <body>getprop ril.ims.ltevoicesupport </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="7aaaa8b8-f393-403a-9272-e1ee6001b64a" action="command" session="$session" normalOffset="174.865" estimatedStepExecutionTime="0.007">
                    <command>
                        <body>getprop persist.radio.calls.on.ims</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.124" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="9c4f6ebb-3f27-4b7f-b943-f54159551381" action="command" session="$session" normalOffset="19.243">
                    <command>
                        <body>getprop persist.radio.vrte_logic </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b1e82622-a886-46ca-a978-05f18ba7f090" action="command" session="$session">
                    <command>
                        <body>getprop persist.radio.jbims </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.248" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>Set the handset for VoLTE</multilineDescription>
            <arguments>
                <item name="mode">
                    <description>0 - Turn off VoLTE
1 - Turn on VoLTE</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
            <response>{&quot;result&quot;:&quot;success&quot;}</response>
        </item>
        <item name="shellSetVoLTEPressMenu" isPublic="true">
            <steps>
                <item guid="bbcb907b-f737-4287-8c03-4a92c24fa0d3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home screen on phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="631359aa-4d29-4973-9f40-4e528786405d" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="46eb707f-8519-4c84-aaae-7671deadc541" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="962724e7-b826-417c-ba3c-89cae3f70495" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Swipe to open if phone locked</body>
                    </command>
                    <nestedSteps>
                        <item guid="568553e4-dd03-440c-9ee8-b45c774a47f7" action="command" session="$session">
                            <command>
                                <body>input touchscreen swipe 200 1900 830 1120</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e13fbcb6-646b-46d2-9d9c-c2ecb62b9632" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f3eab788-b450-4548-a5c7-d5a5dda6d334" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home screen on phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="f42fb13b-0deb-49f9-9c74-26b818755086" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>var1</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f13b199b-4a2c-4fdd-98d4-f21f590e834d" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6ce1f032-c9e0-4612-85e5-e504b63e5b81" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open Phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="fe56a364-6c15-4f59-99a5-a697f8f34579" action="command" session="$session">
                            <command>
                                <body>input tap 235 2235</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="154d8f36-09fd-463c-81c3-8dcddf2c2bb4" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fc9e8085-5d9d-4166-9cf0-7f9a9a5b20fa" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open options</body>
                    </command>
                    <nestedSteps>
                        <item guid="e111c179-b44b-4ceb-a189-5b6354a48d9d" action="command" session="$session">
                            <command>
                                <body>input tap 1290 208</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f5353839-4c8d-4e7e-98d1-dca5a8cf0cf3" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ab95baf2-48a3-4b64-bbd1-45f30e41ed9b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open settings</body>
                    </command>
                    <nestedSteps>
                        <item guid="fc3833d2-8a6c-4812-9317-d76f9432bef3" action="command" session="$session">
                            <command>
                                <body>input tap 950 1010</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="59d613e3-a166-47b8-b9ca-a7a6529e7b93" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7c15edcf-308c-4980-989d-e038dd34c9d2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap/Open VoLTE</body>
                    </command>
                    <nestedSteps>
                        <item guid="ae6123b0-946d-47c8-a6ba-de623b850d4c" action="command" session="$session">
                            <command>
                                <body>input tap 580 2020</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="90599dfe-a3f9-4fab-a60c-f97d6a2a50e6" action="sleep">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="736f25eb-5ceb-47e3-a472-c6e19ace3b92" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap set VoLTE enable/disable</body>
                    </command>
                    <nestedSteps>
                        <item guid="61cc618a-ea53-4cc2-8dba-257e3a321254" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$volte_on_off == &quot;on&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="02fcb0ff-41a5-4f95-871f-81c4ba2b55fc" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="05968f65-04d8-420f-8a58-78e0c5682590" action="command" session="$session">
                                            <command>
                                                <body>input tap 270 1220</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4cf085e7-3540-494f-b597-d14842b936f8" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$volte_on_off == &quot;off&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="2263620e-9998-4a47-9f2f-ee7dfa3e1c1f" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="bae68731-abbd-4126-b065-c3bddff4169f" action="command" session="$session">
                                            <command>
                                                <body>input tap 220 1430</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0af636f6-ff51-4719-be98-93946140672f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return to home screen on phone</body>
                    </command>
                    <nestedSteps>
                        <item guid="75547bb7-fe1e-4837-b644-e20c7f282c96" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c30886a3-0203-4656-a351-3037737cf354" action="command" session="$session">
                            <command>
                                <body>input keyevent KEYCODE_HOME</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="volte_on_off">
                    <description>on or off</description>
                    <defaultValue>on</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="shellStartCall" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="22b820a9-5e94-4279-9056-1dbbf71bf1ae" action="command" session="$session">
                    <command>
                        <body>am start -a android.intent.action.CALL -d tel:$phoneNumber</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>callStarted()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return success]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>Call a specified phone number

Response: Block
success: 0 - failed, 1 - success</multilineDescription>
            <arguments>
                <item name="phoneNumber">
                    <description>The phone number to be called</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;0&quot;}</response>
        </item>
        <item name="shellViewVideo" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="c257711a-b9ab-4cab-8c15-d226131d77e9" action="shellBrowseWebPage" session="$session" useFieldsInCommand="false">
                    <command>
                        <body> -page https://www.youtube.com/watch?v=04HSg0YZi9E</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4841c2f7-3f4a-4b9b-9617-e4e70591ad62" action="sleep">
                    <command>
                        <body>20</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c3aa8980-fd9a-4836-ae9a-3965dca2573a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Tap the screen to start the YouTube video</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a367485-fc1d-48cf-8494-845463f6120f" action="command" session="$session">
                            <command>
                                <body> input tap 166 209</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>This procedure is designed to stream a large video from YouTube

Return Value: Block
Success: 1-success; 0-failure;</multilineDescription>
            <arguments>
                <item name="video">
                    <description>The URL of a YouTube video to stream</description>
                    <defaultValue>https://www.youtube.com/watch?v=04HSg0YZi9E</defaultValue>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
        <item name="startShell" isPublic="true" isVBlock="true">
            <responseMap>project://di_ADB/response_maps/JsonBlockToQueries.ffrm</responseMap>
            <steps>
                <item guid="ed3bba29-b653-44fc-a61f-893eb607ecac" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set retVal 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4d712a7e-d956-4f1d-b576-6e3097de09dd" action="command" session="$session">
                    <command>
                        <body>adb -s $device_id shell </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;*herolte*&quot; $value]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set retVal 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" delayBetweenRepeats="20.0"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnRepeatStepMaxCountExceeded">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>Unable to connect to the ADB device</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="fef28e31-e4d2-4669-822c-51fbdaabc533" action="shellSetTerminalWidth" session="$session" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5e7399f4-c865-4eea-b299-2f7a96d6c6e8" action="command" session="$session">
                    <command>
                        <body>setprop log.redirect-stdio true</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="744a4413-8b44-4312-916b-e07ab09494b4" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$rooted</body>
                    </command>
                    <nestedSteps>
                        <item guid="6e55abce-2379-4dd2-94e0-26ecfa5b307f" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="f96420a9-2178-4b55-93df-188de182b9a7" action="command" session="$session">
                                    <command>
                                        <body>su</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ef529c27-14f6-47b1-9d55-a4153c247a14" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>puts $retVal</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>(\\d+)</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <query>[return success]</query>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">true</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Enter the ADB shell on the specified handset

Return Values: JSON Block

success: 0 - Unsuccessful; 1 - Successful</multilineDescription>
            <arguments>
                <item name="device_id">
                    <description>The deviceId of the Android device - usually from getDevices</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="rooted">
                    <description>true: The handset is rooted
false: The handset is not rooted</description>
                    <defaultValue>true</defaultValue>
                </item>
            </arguments>
            <response>{&quot;success&quot;:&quot;1&quot;}</response>
        </item>
    </procedures>
</testCase>

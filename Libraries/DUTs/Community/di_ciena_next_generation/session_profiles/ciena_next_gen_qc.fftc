<?xml version="1.0"?>
<testCase version="6.1.0.e2e4ec0" entryPoint="get_tx_rx_stats">
    <general>
        <documentation>Quickcall library for saos 8x ciena devices</documentation>
        <isProcedureLibrary>true</isProcedureLibrary>
        <sessionClass includeTestCase="true" sessionType="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp"/>
    </general>
    <procedures>
        <item name="main" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <steps>
                <item guid="1073fe74-df1e-4da5-962f-43dd0488e643" action="comment">
                    <command>
                        <body>General comment before library</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9856301d-daf8-4484-bb33-96624ce35c2b" action="eval" skip="true">
                    <command>
                        <body>regexp &quot;\\\\S+ login:&quot;  &quot;3960-11 login:&quot;  </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="db19d17d-46f2-4ff2-aad8-0ea3cdb798f9" action="eval" skip="true">
                    <command>
                        <body>set IP [param ciena/c3960-11]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ceb2b05a-e5a3-43f3-9412-2d1049da9691" action="open" session="3960-11" skip="true">
                    <command>
                        <body>ciena_saos_ref_telnet.ffsp</body>
                    </command>
                    <eventHandlers>
                        <item name="OnOpenWithSessionAlreadyActive">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                    <message>Session &quot;{session}&quot; is already opened - reusing session id</message>
                                </actionProperties>
                            </item>
                            <item actionId="AbortStep">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties"/>
                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    </applicationProperties>
                </item>
                <item guid="4738b03b-96b9-45d3-8af9-9fda8e485501" action="login" session="3960-11" skip="true">
                    <command>
                        <body>-userid [param device/userid]  -password [param device/password]  -ip $IP</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6589f4f7-fb55-4f05-926b-4e6cb750c4a9" action="close" session="3960-11" skip="true">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="add_cfm_mep" isPublic="true">
            <steps>
                <item guid="ee7a57e6-72e5-43cd-a801-bb832c720ecd" action="comment">
                    <command>
                        <body>Debug args</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2f6fd408-f868-45db-b150-632b44a136bb" action="eval">
                    <command>
                        <body>puts &quot;md: $md    ma: $ma    level: $level    ccm_interval: $ccm_interval&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="89386ccc-6cc8-4be4-b0bb-5a5b0dd652f8" action="eval">
                    <command>
                        <body>puts &quot;svlan: $svlan   cvlan: $cvlan    service_type $service_type    port: $port&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d2d0c966-41f5-4169-86e3-b7e626de222c" action="eval">
                    <command>
                        <body>puts &quot;interface: $interface    mep_id: $mep_id    ccm_priority: $ccm_priority&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a3bf0cf7-1273-40e7-b8c2-e99ed00b6e18" action="comment">
                    <command>
                        <body>Local vaiables</body>
                    </command>
                    <nestedSteps>
                        <item guid="5771a69a-fc1d-4e8f-acae-cc1a183d9132" action="eval">
                            <command>
                                <body>set service_handle [lindex [query /data/GD(TEST_RUN) Service_Ids_by_TC_Instance([gget TC_INSTANCE])] 0]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0d9c95ac-decf-40a6-8233-8b8959aa194d" action="eval">
                            <command>
                                <body>set service_profile [query /data/GD(SERVICE_INFO) Service_Profile_by_Key(&quot;$service_handle&quot;)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="84a05d3b-acf4-4a3e-bf66-0d2c6850c72d" action="eval">
                            <command>
                                <body>set service [query /data/GD(TEST_RUN) Service_by_TC_Instance([gget TC_INSTANCE])]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="da39a59b-3a3f-4075-a5a3-1e9b958df9c6" action="eval">
                            <command>
                                <body>set cfm_name ${md}${ma}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="dc6ec76c-5d5a-4a49-9656-aee4213f1456" action="eval">
                            <command>
                                <body>set fileUri project://my_project/config_files/${session}_cmdData.txt</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="5c90a8aa-2ef4-4dcc-b95a-1057aa2993f1" action="eval">
                            <command>
                                <body>set seperator &quot;================================================================================&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4e0fd55f-5ba4-4870-98e3-dbcde2ad20fc" action="comment">
                    <command>
                        <body>Additional variables added</body>
                    </command>
                    <nestedSteps>
                        <item guid="c38e6e90-7bf2-4485-b788-c66bb1b263d6" action="eval">
                            <command>
                                <body>set md_name $md</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7c958fb0-f9ce-487a-aec2-9d2151996067" action="comment">
                            <command>
                                <body>Get the virtual-switch name from the global variable &apos;CIENA_VS_DB&apos;  - MIKE new 8x</body>
                            </command>
                            <nestedSteps>
                                <item guid="ae3ce28b-c2de-4284-8ff4-341546976551" action="eval">
                                    <command>
                                        <body>set vs_name ${service_type}-[string toupper [string range $service_profile 0 0]]-${svlan}-${cvlan}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0f121590-0394-4e36-a4ad-cf8e397b5c94" action="eval">
                                    <command>
                                        <body>set vs_name [lindex [gget CIENA_VS_DB] ${vpls_counter}]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8d41679d-9d26-4151-b8b4-64d4c98f4201" action="comment">
                    <command>
                        <body>Execute common setup commands</body>
                    </command>
                    <nestedSteps>
                        <item guid="2998006d-085c-4250-85b0-981e51be8fc1" action="command" session="$session">
                            <command>
                                <body>cfm enable </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                        <item guid="5b188a87-14d4-403b-9986-7bb31547e311" action="command" session="$session">
                            <command>
                                <body>cfm md create md $md_name level $level</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                        <item guid="f8143253-f4d4-4e5f-a83a-ff38f7c88ec9" action="command" session="$session">
                            <command>
                                <body>cfm service create vs ${vs_name} name $cfm_name md ${md_name} ma-name-string ${ma}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                        <item guid="99510c2b-5b6e-4719-b6ea-b04c256ea3cf" action="command" session="$session">
                            <command>
                                <body>cfm service set service ${cfm_name} ccm-interval ${ccm_interval}sec</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                        <item guid="82a01246-c7cd-42e0-b7c7-8402d889c421" action="command" session="$session">
                            <command>
                                <body>cfm mep create service ${cfm_name} sub-port SP${port}.$sp_id mepid ${mep_id} type up</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="203d0b41-7ee9-47dd-ae0b-2ba35f824b3e" action="comment">
                    <command>
                        <body>Based on service type ERS|EWS set &apos;l2transform&apos; auto|no-op</body>
                    </command>
                    <nestedSteps>
                        <item guid="b6f8f5b2-6e1c-4a93-b7d2-66c9343bd1d1" action="if">
                            <command>
                                <body>[string match -nocase $service_type &quot;EWS&quot;]</body>
                            </command>
                            <nestedSteps>
                                <item guid="4af21d3b-dd9c-40f7-9ed6-4ddbe4e4bb65" action="then">
                                    <nestedSteps>
                                        <item guid="51823957-663c-4178-b6e7-d35d65b0b925" action="comment">
                                            <command>
                                                <body>**** This is a unique command ****</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a0f207f0-08a2-418e-8442-0159260e4af7" action="command" session="$session">
                                                    <command>
                                                        <body>cfm mep set service ${cfm_name} sub-port SP${port}.$sp_id ccm-ltm-priority ${ccm_priority} l2-transform no-op</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <responseFile inherit="false">[get fileUri]</responseFile>
                                                        <writePrompt inherit="false">false</writePrompt>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c33d1de9-1ef5-454f-9218-1f84009347cb" action="elseif">
                                    <command>
                                        <body>[string match -nocase $service_type &quot;ERS&quot;]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a61fa709-ae7f-4d4d-8fc8-08cfea665a92" action="comment">
                                            <command>
                                                <body>**** This is a unique command ****</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="9a14d950-df81-4f07-bf42-b5266fa05668" action="command" session="$session">
                                            <command>
                                                <body>cfm mep set service ${cfm_name} sub-port SP${port}.$sp_id ccm-ltm-priority ${ccm_priority} l2-transform auto</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                <responseFile inherit="false">[get fileUri]</responseFile>
                                                <writePrompt inherit="false">false</writePrompt>
                                            </applicationProperties>
                                        </item>
                                        <item guid="6454a809-e0e9-476b-b33e-eb052d86d072" action="comment">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="280ed6c3-1f20-4ca2-bbd5-8dec6020a713" action="else">
                                    <nestedSteps>
                                        <item guid="39833ac2-ab35-4f88-9128-7a2647bf1ff6" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e4a9acf4-41be-4241-b653-eca400421844" action="comment">
                    <command>
                        <body>Finish the setup</body>
                    </command>
                    <nestedSteps>
                        <item guid="cda27d1f-c6c6-46a9-b2a9-46e7e8978a32" action="command" session="$session">
                            <command>
                                <body>cfm service enable service $cfm_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                        <item guid="da313992-f5de-40eb-9e0f-d4967cfecb47" action="command" session="$session">
                            <command>
                                <body>configuration save</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <responseFile inherit="false">[get fileUri]</responseFile>
                                <writePrompt inherit="false">false</writePrompt>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="652b447e-097c-4cb9-99cc-8517d6b4e3b5" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3c69357c-896f-4e16-9759-cfd1307b4b3e" action="writeFile">
                    <command>
                        <body>[get fileUri] $seperator</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0655bf7e-58dd-4250-9b3c-223c0f73cbb0" action="writeFile">
                    <command>
                        <body>[get fileUri] \\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6c1efeb0-d6f3-44e6-93ff-f9cd2f8df4cc" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="34f2fdcb-f7c8-4ac5-badf-a0d989febe26" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="370d7db1-da03-4edc-aca3-bc89d2ea1c03" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="level"/>
                <item name="ccm_interval"/>
                <item name="svlan"/>
                <item name="cvlan"/>
                <item name="service_type"/>
                <item name="port"/>
                <item name="interface">
                    <defaultValue>2</defaultValue>
                </item>
                <item name="mep_id"/>
                <item name="ccm_priority">
                    <defaultValue>6</defaultValue>
                </item>
                <item name="sp_id"/>
                <item name="vpls_counter"/>
            </arguments>
        </item>
        <item name="add_mep_1" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="aecb78a7-cf6f-40b6-b0a5-ac75d682c3f8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8b253827-f846-4e65-9163-9792718a3f89" action="eval">
                    <command>
                        <body>puts &quot;$md    $ma    $svlan    $cvlan    $port    $mep_id&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0da976ca-dcb2-425e-b23c-fbd7f43fec8c" action="eval">
                    <command>
                        <body>puts &quot;$old_mep_id    $ccm_interval    $ccm_priority    $service_type&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a0966935-3646-4eb4-8ae4-d06fe3df469d" action="comment">
                    <nestedSteps>
                        <item guid="9de7b861-a521-4ace-b8f0-afe646dd84bc" action="eval">
                            <command>
                                <body>set service_handle [lindex [query /data/GD(TEST_RUN) Service_Ids_by_TC_Instance([gget TC_INSTANCE])] 0]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0bcf9b51-7f8d-4f89-89e6-4d80d6ee7f0b" action="eval">
                            <command>
                                <body>set service_profile [query /data/GD(SERVICE_INFO) Service_Profile_by_Key(&quot;$service_handle&quot;)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4d8cb6af-fa47-4cfb-bb55-a77bdc14d3a7" action="eval">
                            <command>
                                <body>set service [query /data/GD(TEST_RUN) Service_by_TC_Instance([gget TC_INSTANCE])]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="f65b4990-f24f-402e-9051-bc8a1bbaac15" action="eval">
                            <command>
                                <body>set sp_id [query /data/GD(CIENA_CSV_RESPONSE) Sub_Port_IdBase_by_Key(&quot;$nte_key&quot;)]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>sp_id</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ce9f74b9-309c-4e85-98a8-48304e1fe9c9" action="eval">
                            <command>
                                <body>set cfm_name ${md}${ma}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cda721c1-1375-411c-a480-c68a8f89dacf" action="eval">
                            <command>
                                <body>set md_name $md</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="45ce6c7c-1cc7-4e39-8b36-ce0d9277f23d" action="eval">
                            <command>
                                <body>set vs_name [lindex [gget CIENA_VS_DB] 0]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d612e844-ae4d-4161-9214-19048f223bb3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d8320984-695a-4a63-99ba-4df656b999db" action="command" session="$session">
                    <command>
                        <body>cfm service delete service &quot;${md}$ma&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e379c09a-b47d-48a3-921d-7afac4d0e331" action="command" session="$session">
                    <command>
                        <body>cfm service create vs ${vs_name} name $cfm_name md ${md} ma-name-string ${ma}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="38296c11-8d20-4d19-892c-8763f1595955" action="command" session="$session">
                    <command>
                        <body>cfm service set service ${cfm_name} ccm-interval ${ccm_interval}sec</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="199d8fe0-9b3e-47bf-ad93-3a15c9ff34c3" action="command" session="$session">
                    <command>
                        <body>cfm mep create service ${cfm_name} sub-port SP${port}.$sp_id mepid ${mep_id} type up</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="10bff280-229e-495b-867f-dfd35810935b" action="comment">
                    <command>
                        <body>Based on service type ERS|EWS set &apos;l2transform&apos; auto|no-op</body>
                    </command>
                    <nestedSteps>
                        <item guid="373d77c0-15c3-4ddb-8301-55725160c39f" action="if">
                            <command>
                                <body>[string match -nocase $service_type &quot;EWS&quot;]</body>
                            </command>
                            <nestedSteps>
                                <item guid="e7a44efb-4243-4752-a7af-099698d8cefc" action="then">
                                    <nestedSteps>
                                        <item guid="bc3ca7f9-5ed3-46cd-ae3c-eb4df91251d2" action="comment">
                                            <command>
                                                <body>**** This is a unique command ****</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="fd839ab8-4425-47bb-bcd9-5b1d89ea5619" action="command" session="$session">
                                            <command>
                                                <body>cfm mep set service ${cfm_name} sub-port SP${port}.$sp_id ccm-ltm-priority ${ccm_priority} l2-transform no-op</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="09ef92ab-5082-4441-ba16-f1ec0b102eac" action="elseif">
                                    <command>
                                        <body>[string match -nocase $service_type &quot;ERS&quot;]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9c83e59e-9a07-4eb0-bbb2-4842336d85ec" action="comment">
                                            <command>
                                                <body>**** This is a unique command ****</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="564813c2-224d-446d-803f-b6b621b34a62" action="command" session="$session">
                                            <command>
                                                <body>cfm mep set service ${cfm_name} sub-port SP${port}.$sp_id ccm-ltm-priority ${ccm_priority} l2-transform auto</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="2c4a8289-843a-488a-b273-d3fc40769f7f" action="comment">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="34ef520d-fff9-4331-99ba-3a840ed62fda" action="else">
                                    <nestedSteps>
                                        <item guid="f7aac21d-27c0-4f68-bc0a-32c3839f96a9" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6e1ae7e1-5b15-4430-9485-8719099b5041" action="command" session="$session">
                    <command>
                        <body>cfm service enable service $cfm_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="76023579-82f6-421d-91e0-f45c17df1809" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="svlan"/>
                <item name="cvlan"/>
                <item name="port"/>
                <item name="mep_id"/>
                <item name="old_mep_id"/>
                <item name="ccm_interval">
                    <defaultValue>10sec</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ccm_priority">
                    <defaultValue>6</defaultValue>
                </item>
                <item name="service_type"/>
                <item name="nte_key"/>
            </arguments>
        </item>
        <item name="cfm_delete_domain" isPublic="true">
            <steps>
                <item guid="29a95264-75cc-41e7-be2e-e3431219bb24" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="52547fd3-d33b-420f-a10e-f6ebefd180e9" action="comment">
                    <command>
                        <body>Debug  - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="43736be0-a4f2-4e12-bc6a-7646ddcf5d8b" action="eval">
                            <command>
                                <body>puts &quot;service: $service    service_number: $service_number    svlan: $svlan    level: $level    ma: $ma&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ba3698dd-6aba-4df0-a059-53d7d39b2327" action="eval">
                            <command>
                                <body>puts &quot;md: $md&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bcbb3745-e85e-4033-804f-0e9dd0305e66" action="comment">
                    <nestedSteps>
                        <item guid="55bb40e2-dbab-44a1-949f-898976fa3a13" action="command" session="$session">
                            <command>
                                <body>cfm service delete service &quot;${md}$ma&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0528495f-f25b-43ca-b2f8-d1c9480863ab" action="command" session="$session">
                            <command>
                                <body>cfm md delete md $md</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ad73a658-04b9-4b38-8c86-f6c9ad8030a4" action="command" session="$session">
                            <command>
                                <body>configuration save</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2022491a-b01d-475d-a30d-229d330cca30" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service"/>
                <item name="service_number"/>
                <item name="svlan"/>
                <item name="level"/>
                <item name="ma"/>
                <item name="md"/>
            </arguments>
        </item>
        <item name="cfm_dmm" isPublic="true" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <steps>
                <item guid="52628482-70da-4661-81af-1756e50409e9" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="63b3a541-4236-46a1-9a86-6c95ae5d67ea" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="09f46dbc-4573-4a67-a0ab-ace598413536" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a5db3365-f3ee-4041-86a8-c087388ec88b" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e2011463-751d-4496-8064-39d912c45890" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d9867185-82f4-4ba0-bb32-ffcb7c0f376e" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="82830fcb-8553-4850-85bd-0e73b4f9b5a6" action="then">
                            <nestedSteps>
                                <item guid="eaf7e854-b9e5-4a19-959f-b3c4398c7882" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6e1bcab2-fa53-491a-af5a-cf09d5a41f7b" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1026e9b0-6628-4282-ad70-cbae067d3d81" action="command" session="$session">
                                    <command>
                                        <body>cfm delay send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="72aa10de-c88b-499f-885b-e50cb1ff5bb3" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="994d57d9-a57a-4b03-8a1b-8a34cd075abf" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7703bc11-e078-40df-b6ad-1df64fdecafb" action="command" session="$session">
                                    <command>
                                        <body>cfm delay show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_min()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMin</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_avg()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayAvg</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_max()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMax</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>delay_results</storeResponseAt>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="144144a7-dd2c-4208-84cb-c80be86c22c2" action="eval">
                                    <command>
                                        <body>puts [string toupper [get serviceError]]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="95c66535-5840-42df-b570-bd474d4ba6ae" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ae9155b8-908a-40ef-aba7-c90fbb7c05d2" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9c3a897f-3bcc-4023-a995-55198a66674b" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c154fd4a-e13d-4566-818f-d1596be552d7" action="else">
                            <nestedSteps>
                                <item guid="d1d7011a-207c-43ff-b7d4-faa1c743daa5" action="command" session="$session">
                                    <command>
                                        <body>cfm delay send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="6a47f678-e435-4d68-ad75-34133ee59864" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f20583ad-6a8f-4bb2-8811-d807df7d41ef" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="197dcc80-e28c-4154-8564-f23af72dcbd1" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6e4138aa-0d76-487e-a84a-2738998227f4" action="command" session="$session">
                                    <command>
                                        <body>cfm delay show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_min()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMin</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_avg()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayAvg</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_max()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMax</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>delay_results</storeResponseAt>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="50e9d5d0-28c3-4ba4-84d7-0d4996bf667c" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="eaa4149d-6682-4c3c-a424-4c7444b22270" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="f691557e-f2b1-482e-b955-8bed1e4b2663" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="70933139-108a-4d72-a1d5-555cfe19a41b" action="if">
                    <command>
                        <body>[string toupper [get serviceError]] == &quot;INVALID&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="578e3be4-6f74-473c-91f9-d90bd34cf14c" action="then">
                            <nestedSteps>
                                <item guid="8069326a-523f-4ac8-9732-e74fcc4edfe3" action="write">
                                    <command>
                                        <body>Msg: [get serviceError]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4d3489e9-ce37-4158-ae58-79b284f0f5c3" action="else">
                            <nestedSteps>
                                <item guid="622f2ae4-f073-4cd9-a1e0-a291774c2d94" action="write">
                                    <command>
                                        <body>DMM success rate is: [expr [expr [format &quot;%0.2f&quot; [get dmmCnt]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fda23558-5cff-4c2d-bb57-b26d3228f7ca" action="if">
                                    <command>
                                        <body>[get delayMin] &gt; 0 &amp;&amp; [get delayMax] &gt; 0 &amp;&amp; [get delayAvg] &gt; 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="82bfe269-4d61-4b7d-ad11-8f066ea015cc" action="then">
                                            <nestedSteps>
                                                <item guid="687d3685-d656-42ad-a46d-58b1fa83eb03" action="eval">
                                                    <command>
                                                        <body>set flag &quot;OK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="7663c37e-35da-44f2-b6d7-75d1aa2439fd" action="else">
                                            <nestedSteps>
                                                <item guid="a856e93e-9314-467c-80df-2eee6ee0ccbc" action="eval">
                                                    <command>
                                                        <body>set flag &quot;NOK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="84592dfb-6a3c-44c5-955f-1a8c7a78a074" action="write">
                                    <command>
                                        <body>Delay in us greater than Zero: $flag\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8306f4b3-bb73-4b05-b14f-c18967c2e1e2" action="write">
                                    <command>
                                        <body>DMR count is: [get dmrCnt]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="523ab793-05b9-49ca-88bb-63183292bea9" action="write">
                                    <command>
                                        <body>Msg: Valid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id">
                    <description>Handle constructed for MD and MA</description>
                </item>
                <item name="priority"/>
                <item name="count"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_link_trace" isPublic="true" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <steps>
                <item guid="94148fb4-20a0-4aba-87b0-e485525f73ef" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="eaf5f1cd-68f8-4acb-bc51-8d7cf8146ed5" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bfdedba5-3856-4382-b4aa-83e681ca8ee8" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="19029407-98ca-4b46-b4d4-589266fe22ee" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="16569137-4e6f-4c26-822c-7ae55b4fdc68" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="7ec8aa1e-266f-4922-bec6-acc28aa0f599" action="then">
                            <nestedSteps>
                                <item guid="804617ed-cf89-4373-a915-c6b2f22cc509" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="19cd8596-e75b-4b4d-83dc-2d13d0ff70cc" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6d43b55c-9598-4355-8b41-1b3ee4936b74" action="command" session="$session">
                                    <command>
                                        <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="90b31732-0e5d-47b6-84de-3d262c706291" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ae416699-87c0-4a89-a754-a60823534e1c" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm link show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>link_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                    <responseFilterList merge="true">
                                        <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                            <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                        </item>
                                    </responseFilterList>
                                </item>
                                <item guid="7c58ca78-ca5a-4624-b1e4-81b15dc8c2b0" action="eval">
                                    <command>
                                        <body>puts [string equal $t_mac_address $r_mac_address]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fd72d60c-f872-4605-8fd4-1e9e527c7283" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fa60d6f2-f203-4dde-bd5b-0777ee68cf79" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0bbd4fa3-434c-4519-9587-7788d8d60138" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="82ea8906-f2df-450a-910d-84ebd531c870" action="else">
                            <nestedSteps>
                                <item guid="1b0156f4-ab27-49e6-a71a-667a3136b39f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1eb6a1ae-e2ac-4eae-883d-fc43527d7ff2" action="command" session="$session">
                                    <command>
                                        <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="428a9e91-94b7-4d57-a9c2-445797bd20e3" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c8cdc5b9-bc51-447d-9944-9cf42cd35ea6" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm link show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                    <responseFilterList merge="true">
                                        <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                            <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                        </item>
                                    </responseFilterList>
                                </item>
                                <item guid="723ffed5-f0f6-449e-ba88-4fd7686c8646" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bf430df3-53b7-4820-897c-12fed627c60c" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b11c17ee-ffaa-48da-a232-7a07602bc553" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="08346049-dd2a-4b7f-abd0-e90e393d238d" action="if">
                    <command>
                        <body>($t_mac_address != &quot;&quot;) &amp;&amp; ($r_mac_address != &quot;&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="d4302674-fc77-4502-92ae-652096400b75" action="then">
                            <nestedSteps>
                                <item guid="5a5c5796-2d12-4507-b71d-6c3d2cc63f23" action="if">
                                    <command>
                                        <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b529cf94-f67b-429d-916e-142ab4063b74" action="then">
                                            <nestedSteps>
                                                <item guid="4b2271e9-4e0e-435b-a934-6bac72b3e304" action="eval">
                                                    <command>
                                                        <body>set flag &quot;OK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4989b7f6-19f1-48a7-8329-fdf0e64f358d" action="else">
                                            <nestedSteps>
                                                <item guid="fccdfb51-9dbe-4130-99f8-795225ae0949" action="eval">
                                                    <command>
                                                        <body>set flag &quot;NOK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="949dafc3-92ae-4bb1-a2ac-2489c8fbb8d8" action="else">
                            <nestedSteps>
                                <item guid="d25675fe-6d22-4682-bc5a-7cbcde85cfbb" action="eval">
                                    <command>
                                        <body>set flag &quot;NOK&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c7c22020-f51a-4adf-a60d-3e4b9f4eb702" action="write">
                    <command>
                        <body>Link trace: $flag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="service_id">
                    <description>Handle constructed for MD and MA</description>
                </item>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_link_trace_mac_hop" isPublic="true" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <description>Utilize MAC address and perform link-trace action to each HOP in the service topology.</description>
            <steps>
                <item guid="fd4a42ee-1583-44fe-820a-976383ce86ac" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7ebfe9a7-f7ed-468b-8e2c-1507c8e883d6" action="comment">
                    <command>
                        <body>Seed the local variables: active_service, local_mep and list of remore_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="4229fd5b-69d7-4616-966b-8046d42b72a3" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cc9810e3-2121-4a60-b86d-e018b486c313" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="155f5345-d93c-4632-832d-ed2683140906" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="512a1266-8b27-4dd6-9858-57bb09de41f5" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3d67b645-62ff-4ede-aa23-bb733f0a1ed8" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>cfm link show service $service_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>service()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>active_service</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>local_mep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>local_mep</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>remote_mep_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>remote_mac_addr_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="a13f088c-f152-4b41-a79f-00dc5c37c45c" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e9dc4c27-2c65-4f15-9c1d-4bd3ab67ffaa" action="comment">
                    <command>
                        <body>Strip the tail of stored mac address list, flip it and let&apos;s get to the testing.</body>
                    </command>
                    <nestedSteps>
                        <item guid="508eabe4-b8df-47e4-abf2-a972752d443c" action="eval">
                            <command>
                                <body>puts [get remote_mac_addr_list]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="653bc6dc-0e2a-42a2-aeee-90ddac5ec03f" action="eval">
                            <command>
                                <body>set active_mac_list [lreverse [lrange $remote_mac_addr_list 0 end-1]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="45af0e65-d2bb-46ad-b5d2-a4802c19311e" action="eval">
                            <command>
                                <body>puts $active_mac_list</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bf997d01-7f5e-4dad-b433-e9472b4b9a67" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a37d9e1f-a8d0-484f-8067-4bbc3c6c7713" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bc95cea1-e887-4fca-97be-ba7ec11180e4" action="comment">
                    <nestedSteps>
                        <item guid="a22fe743-f2bb-4784-bbb5-a20fb61a1a8e" action="foreach">
                            <command>
                                <body>mac_addr [get active_mac_list]</body>
                            </command>
                            <nestedSteps>
                                <item guid="42690072-0367-44f2-bbef-c9d860078e42" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f68dafa0-24de-4c85-b4e2-dd9022e77e33" action="eval">
                                    <command>
                                        <body>set current_status 0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5ebe899e-c76c-444b-913d-a3b532a8406b" action="if">
                                    <command>
                                        <body>$log_report == 1 || $log_cmd == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="1d428961-27d4-4003-b4bd-5a2f3f76028c" action="then">
                                            <nestedSteps>
                                                <item guid="c107e0d8-9243-4287-bded-009cfafd392d" action="eval">
                                                    <command>
                                                        <body>set seperator &quot;================================================================================&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="6f954d3a-05eb-443a-bd7a-b7ee37bfea00" action="command" session="$session">
                                                    <command>
                                                        <body>cfm linktrace send-mac service $active_service mac $mac_addr local-mepid $local_mep</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                        <writePrompt inherit="false">false</writePrompt>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="6e428b4d-4189-4c9d-9df7-8f57dd610fe7" action="sleep">
                                                    <command>
                                                        <body>10</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c0b5d360-34b5-417d-bee1-d83ae421ffcd" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                    <command>
                                                        <body>cfm linktrace show service $active_service</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>target_mac_address()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>t_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>r_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                        <writePrompt inherit="false">false</writePrompt>
                                                    </applicationProperties>
                                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                </item>
                                                <item guid="b0b64d35-9f6e-4f7d-a75f-158b355e3612" action="eval">
                                                    <command>
                                                        <body>puts [string equal $t_mac_address $r_mac_address]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="450431d3-09bc-4578-8104-e589a46c7bc6" action="else">
                                            <nestedSteps>
                                                <item guid="cb6171e8-0405-4711-8202-0a6d3ef1e977" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="12ae57bd-2176-4865-8341-0ea927a5e9c9" action="command" session="$session">
                                                    <command>
                                                        <body>cfm linktrace send-mac service $active_service mac $mac_addr local-mepid $local_mep</body>
                                                    </command>
                                                    <postProcessing>
                                                        <appendSession inherit="false">true</appendSession>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                                <item guid="d62d7e4f-7d3d-403d-a3c5-a65c9da69079" action="sleep">
                                                    <command>
                                                        <body>10</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="680d4009-bf99-468d-8326-3812f42ba8b1" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                    <command>
                                                        <body>cfm linktrace show service $active_service</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>target_mac_address()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>t_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>r_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>link_results_mac_mep</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                </item>
                                                <item guid="0c313140-8a24-49b4-ba30-e9d635b6d4ed" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="99e584c3-8c7b-4b3a-866b-51dc69b54bbd" action="comment">
                                                    <command>
                                                        <body>Take a look at the stats and report as needed</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="61e07c70-ef85-41d3-89db-bd4e0bd98ccb" action="command" session="$session">
                                                    <command>
                                                        <body>cfm service show service $active_service statistics</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                                <item guid="3c12755f-4eb3-4f8a-8fd4-ca50eeb2c1e6" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="79ed4570-e130-4e26-933a-37796dbf498b" action="comment">
                                    <command>
                                        <body>Log the status of each iteration</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ad23caa6-e7a3-44e7-945a-7637cc352aed" action="if">
                                            <command>
                                                <body>($t_mac_address != &quot;&quot;) &amp;&amp; ($r_mac_address == &quot;&quot;)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4f285c84-f536-49eb-9580-86626e37757c" action="then">
                                                    <nestedSteps>
                                                        <item guid="838b2f3a-879e-41a3-8c4b-acb7497714d2" action="eval">
                                                            <command>
                                                                <body>set t_mac [get t_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="3214276b-cf12-4a8b-b9c3-e822e1d80998" action="eval">
                                                            <command>
                                                                <body>set r_mac remote_mac_null</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="c7e0ec68-03be-4ab6-82e7-fae3f2f78b3a" action="if">
                                                            <command>
                                                                <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="02a495db-c8fe-4f00-b3cf-b5fdd778ad09" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="7cbb22df-b6ff-46fd-a20f-3e1d13f8eba1" action="eval">
                                                                            <command>
                                                                                <body>set current_status 1</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="2e933159-bf8f-447d-be85-7bec810485ac" action="elseif">
                                                    <command>
                                                        <body>($t_mac_address == &quot;&quot;) &amp;&amp; ($r_mac_address != &quot;&quot;)</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="f5dafc7c-b856-4f21-8eea-bdfc11272dc7" action="eval">
                                                            <command>
                                                                <body>set t_mac target_mac_null</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="1d80623f-b8da-42e3-942a-daf9c761f45c" action="eval">
                                                            <command>
                                                                <body>set r_mac [get r_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="3f0c5f6c-9812-4cca-9f6d-0dd031575833" action="if">
                                                            <command>
                                                                <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e3af3725-4899-4ab1-8afd-b48e601e8f2b" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="b041c811-f0ed-4630-9750-faf0ceaa11a8" action="eval">
                                                                            <command>
                                                                                <body>set current_status 1</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="7e511b29-e30f-4942-a75f-5d5fa3075b17" action="else">
                                                    <nestedSteps>
                                                        <item guid="f2d9cd60-d608-46a1-9ec5-8799ee996ea6" action="eval">
                                                            <command>
                                                                <body>set t_mac [get t_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="4f65ca66-1018-4419-92a4-d09992cfbbfc" action="eval">
                                                            <command>
                                                                <body>set r_mac [get r_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="5ebe837e-f7bf-4f0a-93e0-131e831e6025" action="if">
                                                            <command>
                                                                <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="9d9ebd0e-c012-44d2-9c87-ae3593ebbfe2" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="b14d849f-0ef9-4800-b480-c0fe4cf7f1ab" action="eval">
                                                                            <command>
                                                                                <body>set current_status 1</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9682ae0f-a31a-487d-a959-ce9706908203" action="comment">
                                    <command>
                                        <body>Update the running status_list, t_mac and r_mac</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e273e044-6e73-40c0-b16c-93a7fe3d3359" action="eval">
                                            <command>
                                                <body>lappend status_list [get current_status]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="e0e10320-3168-48bf-9170-b73f07ed0f04" action="eval">
                                            <command>
                                                <body>lappend t_mac_list [get t_mac]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4c56d9b5-174a-47d5-9769-1a753f3e97d6" action="eval">
                                            <command>
                                                <body>lappend r_mac_list [get r_mac]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6d3f10f-0634-42b8-83db-0d2c5ded4034" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e923447-b53a-4509-ab75-1a75cb2324dc" action="if">
                    <command>
                        <body>[get log_cmd]</body>
                    </command>
                    <nestedSteps>
                        <item guid="70ae0094-541f-44b3-ae9d-30f532a4cbd7" action="then">
                            <nestedSteps>
                                <item guid="51894311-e2c0-460c-8442-da2efdffa6a9" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bf9d3a38-e5a6-4d4a-879a-42aec40a509c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d797ce3d-7c2f-440c-944c-513fb20caea5" action="comment">
                    <command>
                        <body>Now detrimine the final exit status, search the status_list for the value of 0. A return of -1 represents a passing status.</body>
                    </command>
                    <nestedSteps>
                        <item guid="ce8adf76-d6bf-4cc4-b1ae-42b84de89275" action="eval">
                            <command>
                                <body>set flag &quot;NOK&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="839b3b5f-1fdc-418e-a62f-387a29085432" action="eval">
                            <command>
                                <body>set hop_cnt 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e471e547-d99e-43e0-a963-bc36d9c6a1d7" action="eval">
                            <command>
                                <body>set loc -1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1da0b56c-7d7e-4335-904f-22fe65f50fd4" action="if">
                            <command>
                                <body>[lsearch $status_list 0] == -1</body>
                            </command>
                            <nestedSteps>
                                <item guid="0daa3424-6f01-4753-b3be-eda0329f178b" action="then">
                                    <nestedSteps>
                                        <item guid="f70c91d6-295f-4fae-b160-648cced56f8b" action="comment">
                                            <command>
                                                <body>No failures reported (value of 0 not in list). reset the value of flag to OK </body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="347c23a3-f79d-4f9e-9910-a3289bbc3d8b" action="eval">
                                            <command>
                                                <body>set flag &quot;OK&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="d5d88b99-29ef-40ac-b750-3dc7243ae99b" action="foreach">
                                            <command>
                                                <body>hop [get status_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4e7cb20c-bdd1-437a-93bd-9be6ae24ef66" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt: [incr hop_cnt]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="29db8492-24bd-47a3-9eb4-b48f96885ec2" action="write">
                                                    <command>
                                                        <body>Link trace HOP Target MAC: [lindex [get t_mac_list] [incr loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="94e14e4a-6576-4a73-a4e9-5d04223ae844" action="write">
                                                    <command>
                                                        <body>Link trace HOP Remote MAC: [lindex [get r_mac_list] [get loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e14266e5-888c-492d-9a93-a564377a9100" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt [get hop_cnt] STATUS: OK\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8ee16310-532c-483c-a30b-6c502a56ce1e" action="write">
                                                    <command>
                                                        <body>\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5e199726-5d88-49f3-8a23-556b09255c5a" action="else">
                                    <command>
                                        <body>We have one or more errors</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="42fcedb3-65fc-45ce-9be2-57e644b70da7" action="comment">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="9264aace-a8ca-473f-8350-6f0b2e8f6c7f" action="foreach">
                                            <command>
                                                <body>hop [get status_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="49f59145-8b32-4d66-94b9-59127c59abaf" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt: [incr hop_cnt]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9c4a08e8-be64-48d9-9737-c141f4b8f899" action="write">
                                                    <command>
                                                        <body>Link trace HOP Target MAC: [lindex [get t_mac_list] [incr loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4c777017-b05b-4599-809b-b19259c9f7be" action="write">
                                                    <command>
                                                        <body>Link trace HOP Remote MAC: [lindex [get r_mac_list] [get loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9c6d9705-4630-4811-b213-84ba25f4eb34" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt [get hop_cnt] STATUS: NOK\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="af099ec6-7807-44ce-8dbb-53e516bdd4b8" action="write">
                                                    <command>
                                                        <body>\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="6f1af194-3ce2-4a4d-befc-aadf378014bf" action="comment">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="09995f17-3b9d-4ffd-86f2-9ed931c89ff1" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6bb59d63-8daa-45d2-ad37-9faf3032c12b" action="write">
                    <command>
                        <body>Link trace HOP Overall STATUS: $flag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ffd62950-0dc4-4cff-abac-5b36aedaea98" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mwalleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Send seed link-trace action and store MAC address data.
Utilize the store data to perform link-trace action to each hop within the service.</multilineDescription>
            <arguments>
                <item name="service_id">
                    <description>Handle constructed for MD and MA</description>
                </item>
                <item name="md"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_link_trace_mac_mep" isPublic="true" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <description>Utilize MAC address of destination device to perform end to end testing</description>
            <steps>
                <item guid="04fc92e7-c275-4d1b-8776-e145cf83f737" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="943adb85-ee9f-4acb-afcb-ab48046600f3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3ec4a25d-cf71-48b2-8105-b2c21c7b49e0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bf3ae5a0-8afb-469a-b9df-1ccb5ce13330" action="comment">
                    <command>
                        <body>Seed the local variables: remote_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="4b4047e5-8500-4f50-ab4e-dda8f0906de8" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7c54397b-294f-4f4c-8b17-d20cde536712" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id</body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="3cd2e27c-e977-4fdd-a8e7-6368a9136030" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="430593c7-d015-471f-8a56-737be751f72f" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c24c85ca-4f0a-43fa-ae4e-50b3c700aa86" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>cfm link show service $service_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>target_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>mac_addr</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="45b295ca-aebe-4b59-93cd-00e3e54c3523" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f0705775-f195-44d2-b6ad-8f9b035f7d86" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7d92eec1-06f3-45a2-a1d7-eb1da67b640b" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d7aa7398-91d4-4edb-85bb-10c8894286e6" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e513fd10-53e7-4504-a4bc-1e1f46b0f374" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="bbafab52-c3c0-4568-97ef-e1e2a4c319e7" action="then">
                            <nestedSteps>
                                <item guid="56f9cfc6-e56a-47c0-836f-2a656592d9b7" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7966455a-9057-46df-9f2d-827dc65b3080" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="34ca2b09-6ea4-4eea-b41e-6fec838d3eed" action="command" session="$session">
                                    <command>
                                        <body>cfm linktrace send-mac service $service_id mac $mac_addr local-mepid $source_mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="34a101c6-5a46-40f8-a4b3-3703847cbc63" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b727b5ca-a614-446c-9e20-a072d22aaff4" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3ba1da11-fbc1-4f71-8667-2895f1fa7a77" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm link show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>link_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                    <responseFilterList merge="true">
                                        <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                            <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                        </item>
                                    </responseFilterList>
                                </item>
                                <item guid="125df404-789b-4be8-9f34-35da1764bc0e" action="eval">
                                    <command>
                                        <body>puts [string equal $t_mac_address $r_mac_address]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e458a8eb-0413-4fff-ba00-b09d675162f6" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2cc5104e-a818-4d09-8221-6a46ff02e0b2" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7fab4325-d123-4eeb-9051-09e214927d1d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="f7e26cb0-f42e-449f-a366-39a5215dd46d" action="else">
                            <nestedSteps>
                                <item guid="d1826e29-fa06-459b-b318-086bead91511" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b5b18d23-8478-4f33-b1ee-b17906eea136" action="command" session="$session">
                                    <command>
                                        <body>cfm linktrace send-mac service $service_id mac $mac_addr local-mep $source_mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="4559da39-42fb-42c5-8972-2b7a58c571af" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="dd17d7df-29f0-446a-b5ae-dfae25859ed2" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm linktrace show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>link_results_mac_mep</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="648ecbdb-36d4-4df7-9e5e-69eeb8ee08bc" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6bbfaf3a-95e0-456c-8969-e76a79e47cf8" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="85e77332-9286-468e-91d0-134754efb395" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b2c9e019-07a9-4dd0-aa4d-664d9e3734cc" action="comment">
                    <command>
                        <body>set the default exit status == NOK</body>
                    </command>
                    <nestedSteps>
                        <item guid="516c2604-d282-427b-a3ec-3d15fabc2cae" action="eval">
                            <command>
                                <body>set flag &quot;NOK&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="94fb7586-1dfd-4458-810c-fbbb121ad1e7" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="736ec4f9-5d9f-4358-8736-adccf7a5ceb0" action="if">
                    <command>
                        <body>($t_mac_address != &quot;&quot;) &amp;&amp; ($r_mac_address != &quot;&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="fe631a8f-0f98-43c6-81ce-f8b0d83ba3a5" action="then">
                            <nestedSteps>
                                <item guid="4fcd3c04-34bd-479f-851f-344c9f324998" action="if">
                                    <command>
                                        <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="de6b00f9-5eee-4719-8208-436551af7a62" action="then">
                                            <nestedSteps>
                                                <item guid="2149dfc7-2d76-450f-8a05-caa1e1deab5e" action="eval">
                                                    <command>
                                                        <body>set flag &quot;OK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="570aafcb-b1e4-459e-9d20-9e1b046bb33e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="727883bf-cb70-4af8-a579-160a25237c34" action="write">
                    <command>
                        <body>Local MEP id: [get source_mep_id]\\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a1961f51-ce2e-4be5-9af6-87f53027dc8d" action="write">
                    <command>
                        <body>Target Mac Address: [get t_mac_address]\\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1759f53d-9ca9-410c-8e9c-4383ba212b29" action="write">
                    <command>
                        <body>Link trace MAC: $flag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7f5c15d9-13d3-4c95-871a-3946333869e7" action="comment">
                    <command>
                        <body>Link trace Target MAC: [get t_mac_address]\\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mwalleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Send seed link-trace action and store MAC address data.
Utilize the store data to perform link-trace action to all remote MEP&apos;s within the service.</multilineDescription>
            <arguments>
                <item name="service_id">
                    <description>Handle constructed for MD and MA</description>
                </item>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_cleanup" isPublic="true">
            <steps>
                <item guid="7e31c092-24b1-40d3-90f5-6ebf91c079f0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="801a800e-e946-4cf6-a854-cfb91b98b2dc" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="cada63f2-c3bf-4f0d-86b7-60fa0be5dbb9" action="eval">
                            <command>
                                <body>puts &quot;no_instances: $no_instances    level: $level    service_number: $service_number    service_number_increment: $service_number_increment&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1432c7f5-a444-48f8-8f46-734c79696417" action="eval">
                            <command>
                                <body>puts &quot;svlan: $svlan    ma: $ma    service_name: $service_name&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2dff42a4-bebc-47f7-be27-2c63d5611826" action="for">
                    <command>
                        <body>{set vpls_counter 0} {$vpls_counter &lt; $no_instances } {incr vpls_counter}</body>
                    </command>
                    <nestedSteps>
                        <item guid="36ba4316-8e71-4852-93f0-ea6978651e84" action="if">
                            <command>
                                <body>$level == 3</body>
                            </command>
                            <nestedSteps>
                                <item guid="d8c6f9f9-8c4a-4531-8d8b-0c544c505c44" action="then">
                                    <nestedSteps>
                                        <item guid="dea9192d-8660-4add-a199-9f5d4c01491e" action="eval">
                                            <command>
                                                <body>set tmp_service_number [expr [expr $service_number + $vpls_counter] + $service_number_increment]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a7e9c0f1-7c89-4cdd-aed3-e0fd7a7f0026" action="else">
                                    <nestedSteps>
                                        <item guid="b07a0aea-2994-4949-b051-450a7551edb3" action="eval">
                                            <command>
                                                <body>set tmp_service_number [expr $service_number + $vpls_counter]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="faa5ad9c-658f-4b1b-a37a-cc51ddebd5a1" action="eval">
                            <command>
                                <body>set md &quot;$service_name:$tmp_service_number-${level}&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="d8d29c09-f8db-4d8f-a27e-dfff18063af3" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1c56a381-fb10-44eb-9661-d729d2baf72f" action="command" session="$session">
                            <command>
                                <body>cfm service show service &quot;${md}$ma&quot;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>no matching entry found</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set cfm_service_present 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>No CFM service found matching ${md}$ma on $session. Skipping Clean-up.</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set cfm_service_present 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Proceeding to Cleanup CFM service ${md}$ma on $session</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cc091aed-790b-4c20-87c5-a2bf6e95c6a5" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a582b6f4-b252-453a-afc2-544aaaefb9e0" action="if">
                            <command>
                                <body>[get cfm_service_present]</body>
                            </command>
                            <nestedSteps>
                                <item guid="b9d0ae66-98b9-475d-a09e-2ab68ea20022" action="then">
                                    <nestedSteps>
                                        <item guid="42bdc493-4234-4022-a376-36671dcd8113" action="cfm_delete_domain" session="$session">
                                            <command>
                                                <body>-md $md -ma $ma -level $level -service $service_name -svlan $svlan -service_number $tmp_service_number</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="project://di_ciena/session_profiles/ciena_saos_ref_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="26230062-573a-44f4-be48-1b266ceb922c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="no_instances"/>
                <item name="level"/>
                <item name="service_number"/>
                <item name="service_number_increment"/>
                <item name="ma"/>
                <item name="service_name"/>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="cfm_slm" isPublic="true" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <steps>
                <item guid="597149b6-6cd7-440b-8f66-2431b6508edd" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f937071e-8434-4eae-808c-563a21e04d8c" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c0c8f159-f67e-4f98-b3e4-d13ef3ec03e7" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d093715f-8161-46ad-a7fb-2d084a74e16a" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="fc65c738-cf7d-4319-b9db-d2216e7496f1" action="then">
                            <nestedSteps>
                                <item guid="ef7d9ca6-0e7c-46c9-ab03-c8c219233794" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8d88ce90-0306-4fbb-acaf-0d1212cf02d7" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="41e1a8e7-12a4-4903-b437-05f7efa2b990" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9e85f00e-fb26-4fa6-bd2c-34a0ab194624" action="command" session="$session">
                                    <command>
                                        <body>cfm synthetic-loss send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="dff91e3a-97f0-4816-aa53-35120d909225" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 5] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fa5ad2a9-35e2-43dd-b2bd-58df1d1cdf31" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="283a3874-0f0b-48de-a6c5-31c40d4ce321" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm synthetic-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Near_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Far_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>syn_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_synthetic-loss_show_service.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="d932c915-bdd5-408c-8866-ddb32fe43047" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="32e78bcc-23e1-4e6c-8ab7-cf7803014085" action="eval">
                                    <command>
                                        <body>puts [string toupper [get serviceError]]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e388e327-38d5-4602-978c-18d384877e15" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4c23c6fd-d82f-4c3d-b6b8-ba2d6f78172b" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ca25a833-a9f0-4aa0-909b-f17c75a83829" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e19e3570-5ef2-4406-8371-06fa201ea043" action="else">
                            <nestedSteps>
                                <item guid="491a37d2-d380-43df-b7c7-f8eafea60327" action="command" session="$session">
                                    <command>
                                        <body>cfm synthetic-loss send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="fd5866ba-1bf6-40e2-a3cb-3c0914278136" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 5] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f5f025bf-cf24-4f22-9075-858c7ed597dd" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="be2236bd-748d-45ae-b102-ff8a44eee879" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a2a60e50-9de5-4e1e-9a98-447b6fb82e70" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm synthetic-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Near_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Far_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>syn_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_synthetic-loss_show_service.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                    <responseFilterList inherit="false"/>
                                </item>
                                <item guid="6fe69b0f-893b-418e-9490-94f6e76abfd2" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="dd6f657b-f788-471c-9e32-3ceaa71cbe36" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="464810bc-c213-478e-a6f3-c7df96538902" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="68bf781f-93d9-4572-9deb-dca95bc4a041" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9d6ff094-f177-4cb8-a577-b888036e7513" action="if">
                    <command>
                        <body>[string toupper [get serviceError]] == &quot;INVALID&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="e62fe6aa-79ee-4233-9598-cf8528a5fe13" action="then">
                            <nestedSteps>
                                <item guid="c68985bd-67c9-4496-a1ca-6b547642d944" action="write">
                                    <command>
                                        <body>Msg: [get serviceError]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="5432513f-9027-4c0a-b2fc-31906e588f7b" action="elseif">
                            <command>
                                <body>([get nearLoss] == &quot;N/A&quot;) || ([get farLoss] == &quot;N/A&quot;)</body>
                            </command>
                            <nestedSteps>
                                <item guid="a0f02994-d48f-4c77-9f85-72a438b8c957" action="write">
                                    <command>
                                        <body>Msg: Invalid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="2ab1b52b-afcb-4a8d-a659-91eadf22ebce" action="else">
                            <nestedSteps>
                                <item guid="43006abb-1d7e-4828-975d-88f7536974a5" action="write">
                                    <command>
                                        <body>SLM success rate is: [expr [expr [format &quot;%0.2f&quot; [get slmCnt]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e49fee1e-83d2-45e6-b810-3d3db67bee35" action="eval">
                                    <command>
                                        <body>set near_loss [get nearLoss]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4738c9e8-49dd-47e6-bc28-f3e7ce7a822c" action="eval">
                                    <command>
                                        <body>set far_loss [get farLoss]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="44dc3477-6b29-4e55-b886-1d8fb5ab0d9a" action="eval">
                                    <command>
                                        <body>set slr_loss_total [expr [expr [get slrCnt] + $near_loss] + $far_loss]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0de75aa3-aa9d-449f-a13e-db9d7547c7c5" action="write">
                                    <command>
                                        <body>SLR success rate is: [expr [expr [format &quot;%0.2f&quot; $slr_loss_total] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c259b684-c7ee-4329-aa1d-d7ed740b3d61" action="write">
                                    <command>
                                        <body>SLR count is: [get slrCnt]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1a5ede01-efd8-4a58-8e05-8fd312e7043c" action="write">
                                    <command>
                                        <body>Msg: Valid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ee49408d-7019-4dd0-824b-0fdf71fa2c9d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1809e1b1-c870-4a00-a624-e6030d75ef9d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id">
                    <description>Handle constructed for MD and MA</description>
                </item>
                <item name="md"/>
                <item name="priority"/>
                <item name="count"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="change_ccm_interval" isPublic="true">
            <steps>
                <item guid="5e5c0ce2-5acb-42c8-890c-f7a6c2135b43" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3dfe8bcd-aafc-4871-8b13-aa1dd64c0ba1" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1f6297e6-4c1e-4d4d-8422-cf584e07a56e" action="if">
                    <command>
                        <body>![get alt_syntax]</body>
                    </command>
                    <nestedSteps>
                        <item guid="0b27882f-c0ed-4b60-bd2f-7936ba2fd548" action="then">
                            <nestedSteps>
                                <item guid="5cf39505-9726-47bc-a7d6-a02aefd570db" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c72f95f7-a6fa-436b-8660-9e951e1f8b91" action="command" session="$session">
                                    <command>
                                        <body>cfm service disable service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="78b3a275-f60c-405f-b5fb-77eb89b9ac2d" action="command" session="$session">
                                    <command>
                                        <body>cfm service set service $service_id ccm-interval ${ccm_interval}sec</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="edde76a6-168b-4717-b012-09c80d1ebfe8" action="command" session="$session">
                                    <command>
                                        <body>cfm service enable service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e836edde-b1f3-4eeb-a1b7-c9fbd8d054a8" action="else">
                            <nestedSteps>
                                <item guid="2dc19af9-7956-465d-a585-62169e84312c" action="comment">
                                    <command>
                                        <body>WE EXPECT the proper interval notation passed - Used from:  &apos;cfm_defect&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="d42422e6-9cb8-424c-9529-6776d3c9bbc9" action="command" session="$session">
                                    <command>
                                        <body>cfm service disable service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="0db5c2f8-e439-47da-ad10-492e1899ba3c" action="command" session="$session">
                                    <command>
                                        <body>cfm service set service $service_id ccm-interval ${ccm_interval}</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ea658802-0e4f-47ab-80fa-cd5e4fd2aa61" action="command" session="$session">
                                    <command>
                                        <body>cfm service enable service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c2ce2f2f-3c00-40de-ac52-b2359e2f5aec" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Utilized by the cfm_defect test process</multilineDescription>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="ccm_interval"/>
                <item name="alt_syntax">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="check_cfm_service_status" isPublic="true">
            <description>Query each service domain for status and report</description>
            <steps>
                <item guid="0f69f44c-0574-4028-b336-4a65a80997cb" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c8334873-cf14-49c8-a78c-afaaea3aff2e" action="comment">
                    <nestedSteps>
                        <item guid="45b7b727-87c7-454d-b34e-923d6323fa22" action="eval">
                            <command>
                                <body>set nullExpected &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ea85c37c-cea7-46d0-b4cf-848c122df181" action="eval">
                            <command>
                                <body>set serviceError &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="780a7c5e-a5b6-4ae7-b29d-903c22330d93" action="eval">
                            <command>
                                <body>set serviceFaultPresent 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ed05be46-0b72-4aeb-829d-28bd8c47c53a" action="if">
                    <command>
                        <body>$log_report</body>
                    </command>
                    <nestedSteps>
                        <item guid="8d93a6fe-f260-4735-a338-e08d53e59bf1" action="then">
                            <nestedSteps>
                                <item guid="b32e378b-fdb4-4e7e-9f58-0c408b859d2d" action="comment">
                                    <command>
                                        <body>write output to log file</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="cb99831d-9a58-4825-8072-c26d810feafe" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Oper State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;disabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>enable_cfm_service -service_id $service_id</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="3"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nullExpected || $value eq &quot;NONE&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>CFM service ${md}$ma reporting NO SERVICE FAULTS for $session.</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Service Faults Encounter for service ${md}$ma on $session. Fault(s): $value</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Sleeping for 15 seconds and Repeating step.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set lastFaultStr $value</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="6" delayBetweenRepeats="15.0"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>cfm_service_show_service</storeResponseAt>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="2b1bb105-c353-485b-b3bd-29df1999fe40" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4854d566-b0c1-43b0-ace6-2f80db033f7e" action="comment">
                                    <command>
                                        <body>Handle Unresolve service fault when found OR proceed with normal data capture.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="13b90201-24dc-4e78-80b5-27c6ef6a7950" action="if">
                                            <command>
                                                <body>![get serviceFaultPresent]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="cfd96cf9-8387-4ccb-9b66-4e4e29ab617e" action="then">
                                                    <nestedSteps>
                                                        <item guid="292fbed3-9a69-4407-ba0e-ca08348e1ac7" action="comment">
                                                            <command>
                                                                <body>-Mike Added these commands to store service data per device</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="1cfac693-e462-40fa-bdf9-25d4a6889557" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mepid()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mepid</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>port()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_uni_port</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="d43ef65e-5aae-4038-977d-54e9e0756347" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; remote-mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_rmt_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="0161e21b-9989-4fd2-8c7f-1d806541493a" action="eval">
                                                            <command>
                                                                <body>gset [get session]_CFM_SERVICE_INFO [list $service_mac_addr $service_mepid $service_uni_port $service_rmt_mac_addr]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="5f421b2f-5816-461e-b0ee-68e5421eb1e8" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="0d3fb403-8f9e-46b0-bf9e-db9396019df4" action="else">
                                                    <nestedSteps>
                                                        <item guid="cd1dfdde-5714-4dc4-902f-fe240983e752" action="eval">
                                                            <command>
                                                                <body>gset unresolvedCfmFault [concat CFM Service Fault: $lastFaultStr for ${md}$ma on $session]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="a9e3c303-be3a-4239-89fd-b88c1bfbace4" action="eval">
                                                            <command>
                                                                <body>set value &quot;UNRESOLVED SERVICE FAULT&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="021b6f02-ba90-4e45-9732-47c96c9579aa" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ddc13cc1-ff4e-4bb5-bd1e-f25d54eca47a" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="d58b71d9-566d-4186-82ef-20b99150f341" action="else">
                            <nestedSteps>
                                <item guid="d4e2d144-5a0c-42bb-b01e-be625d88b756" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bc002b75-1fbb-4e03-9aef-30fefdaefae8" action="comment">
                                    <command>
                                        <body>Use to store response to: cfm_service_show_service</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4c8e1ae3-20f3-4c06-b6e1-6524cda2c62e" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Value_by_Parameter(&quot;Oper State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;disabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>enable_cfm_service -session $session -service_id $service_id</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="3"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nullExpected || $value eq &quot;NONE&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>CFM service ${md}$ma reporting NO SERVICE FAULTS for $session.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set serviceFaultPresent 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Service Faults Encounter for service ${md}$ma on $session. Fault(s): $value</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Sleeping for 15 seconds and Repeating step.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set lastFaultStr $value</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="6" delayBetweenRepeats="15.0"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="064530e1-300a-4e79-8734-64c7fada3e6f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1ec758d0-87e5-405e-8125-030d65452590" action="comment">
                                    <command>
                                        <body>Handle Unresolve service fault when found OR proceed with normal data capture.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="7432d9f2-fc92-46f9-897f-2c13308fb5da" action="if">
                                            <command>
                                                <body>![get serviceFaultPresent]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="40e682e3-54bd-4751-8814-18b51c72df5f" action="then">
                                                    <nestedSteps>
                                                        <item guid="2c625853-7454-4507-a45e-e6bab9aee617" action="comment">
                                                            <command>
                                                                <body>-Mike Added these commands to store service data per device</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="1384b8b6-9cb8-4b6a-9583-40da04b745e7" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mepid()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mepid</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>port()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_uni_port</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="6fe0fd7b-4c8a-4de5-b146-f48fa5d24343" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; remote-mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_rmt_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="f97401ed-b499-4494-bf74-48beb5a19049" action="eval">
                                                            <command>
                                                                <body>gset [get session]_CFM_SERVICE_INFO [list $service_mac_addr $service_mepid $service_uni_port $service_rmt_mac_addr]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="883c2944-8a6e-4a64-8800-8d94f7dfa757" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="67816fa6-bb98-4ab2-9958-a7738845595a" action="else">
                                                    <nestedSteps>
                                                        <item guid="e42b5f4b-60f9-41b0-81ba-b0021b27e780" action="eval">
                                                            <command>
                                                                <body>gset unresolvedCfmFault [concat CFM Service Fault: $lastFaultStr for ${md}$ma on $session]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="a57d50b4-912d-49be-afab-573ff5642229" action="eval">
                                                            <command>
                                                                <body>set value &quot;UNRESOLVED SERVICE FAULT&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="02908942-6acf-4794-987b-58581fcb56fa" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e58fa726-d944-4a0b-9811-2558f3a7011c" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="60b5183a-601c-4faa-9bf9-f6fb02d525df" action="write">
                    <command>
                        <body>The Service Fault is: $value</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1dc41019-2eab-42f0-9d68-59af693acba9" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fc37e852-a331-439a-b557-65fe14c1ec4d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Foreach valid service query for service errors. If error(s) are present,wait 15 seconds and repeat step up to 6 times. If count is exceeded flag set, return value is adjusted accordingly.</multilineDescription>
            <arguments>
                <item name="service_id">
                    <description>cmf service name comstructed from ${md}$ma</description>
                </item>
                <item name="md">
                    <description>Maintance Domain key</description>
                </item>
                <item name="ma">
                    <description>Maintance Association key</description>
                </item>
                <item name="log_report">
                    <description>debug switch. default value 0 Causes single show command write output to file. </description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="check_local_mep_error_status_by_mep_id" isPublic="true">
            <steps>
                <item guid="8646e6a9-de3e-47cb-abc7-086668ef88f2" action="comment">
                    <command>
                        <body>cfm service show service VPLS:2980-4serv mep</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="eb8f5156-4f20-4fe5-b7a3-1400ee8d9744" action="command" session="$session">
                    <command>
                        <body>cfm service show service &quot;${md}serv&quot; mep</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="check_remote_mep_error_status_by_mep_id" isPublic="true">
            <steps>
                <item guid="763963df-f24c-446f-915d-630fd06f8e12" action="comment">
                    <command>
                        <body>cfm service show service VPLS:2980-4serv remote</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6ed5e7f5-5358-4a7f-962d-e90c489e9d20" action="command" session="$session">
                    <command>
                        <body>cfm service show service &quot;${md}serv&quot; remote</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="ma"/>
                <item name="md"/>
            </arguments>
        </item>
        <item name="check_uni_port_status" isPublic="true">
            <steps>
                <item guid="6d6dfac2-cace-4a93-bb55-b7bdc62cf462" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">operational_link_by_port_name($uni_port)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>oper_status</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">admin_config_link_by_port_name($uni_port)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>admin_status</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="8ee305f4-cc94-40fc-b2f1-d5f30a9e8ee2" action="comment">
                    <command>
                        <body>Check port Status</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>($oper_status == &quot;Up&quot;) &amp;&amp;  ($admin_status == &quot;Ena&quot;)</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Uni Port is UP and fine to send Traffic</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message> UNI port has Problem, the Admin State = $admin_status and Operation Status = $oper_status</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
            </arguments>
        </item>
        <item name="cleanup_dba_ss_ppcos" isPublic="true">
            <description>Restore the default configuration after dba ss_ppcos has been configured</description>
            <steps>
                <item guid="97538581-57bb-40f0-b21c-21faf6e52d58" action="comment">
                    <command>
                        <body>Remove the congestion avoidance profile queues 0-4</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="abb63276-9343-42b0-858b-cc08a99a6734" action="for">
                    <command>
                        <body>{set q 0} {$q &lt;= 4} {incr q}</body>
                    </command>
                    <nestedSteps>
                        <item guid="e9118cf3-9c67-4e95-9d9d-c870f4e9f4f3" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group unset queue $q port $port congestion-avoidance-profile</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f7e51dc0-3d53-42b5-abbe-505da4ab611f" action="comment">
                    <command>
                        <body>Unset the shaper rate and restore the scheduler algorithm</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5720006d-57b9-44c4-a872-e1c9db06db72" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group unset port $port shaper-rate burst-size</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ecbb8f6e-47f4-47d3-81a2-7dcd87c2c31e" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group set port $port scheduler-algorithm strict</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="669126cf-93a8-4851-b992-9230b63f5481" action="comment">
                    <command>
                        <body>Restore the default weights</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3b11cc35-820c-4969-9bac-3081e447c512" action="foreach">
                    <command>
                        <body> q  {7 6 5 4 3 2 1 0}    wt {0 80 70 60 50 40 30 20}</body>
                    </command>
                    <nestedSteps>
                        <item guid="2bac12ca-7969-4de6-bbc6-0310c261f5ae" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue $q port $port scheduler-weight $wt</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7f1ac891-833b-4ea0-a7c2-e095adb91c70" action="comment">
                    <command>
                        <body>Reset the values for queue 7, then 0-6</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="82d054c9-6952-4f90-9b4a-5c34966b2d50" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group set queue 7 port $port cir 1024 cbs 256 eir $port_speed ebs 256</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b24e4e8e-f105-4edb-a430-1cd4b77a73fc" action="for">
                    <command>
                        <body>{set q 6} {$q &gt;= 0} {incr q -1}</body>
                    </command>
                    <nestedSteps>
                        <item guid="5f6fe033-f1ce-4d4a-aff2-34f1e0ee2735" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue $q port $port cir 0  cbs 0 eir $port_speed ebs 256</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5123b2b6-12a2-4666-aa8d-036dac085792" action="comment">
                    <command>
                        <body>Done</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>This procedure sets the port queue settings back to the base defaults. This includes the shaper-rate, scheduler algorithm, scheduler weights, and cir, cbs,, and eir settings for queues 5-7</multilineDescription>
            <arguments>
                <item name="port">
                    <description>The uni port to configure</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="port_speed">
                    <description>This is used for the eir setting</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="clear_pm_stats" isPublic="true">
            <description>Clear stats for specific ports on this nte</description>
            <steps>
                <item guid="7c42ad00-2e56-4155-898a-8b47aca50694" action="comment">
                    <command>
                        <body>MIKE new 8x</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c55b84d3-637d-4e0e-a040-a6e91ecb93b0" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="226c7d80-293d-4ad8-b067-4fa1a64232d7" action="eval">
                    <command>
                        <body>puts &quot;$port_list          $sp_id&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6ea15cf0-943f-4911-88b4-18002d2ffdab" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="31966be2-fcd5-4ad8-bbce-1043feb5c1d9" action="comment">
                    <command>
                        <body>Put the Message configuration verification process</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message> =====  Clear  PM-INSTANCE Statistics on Ciena NTE $session =================</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="62bf7a0e-7b5b-4289-9f56-487155593920" action="eval">
                    <command>
                        <body>puts $port_list</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="64315be1-11e3-4d07-be4f-1439fd0705de" action="foreach">
                    <command>
                        <body>pm_port $port_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="5cbd50fe-fffe-4ca5-b4cc-68b4418ea22e" action="command" session="$session">
                            <command>
                                <body>pm show pm-instance SP${pm_port}.${sp_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="3f1972b7-1d6e-4765-9e42-fff327b1d592" action="command" session="$session">
                            <command>
                                <body>pm clear pm-instance SP${pm_port}.${sp_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <performResponseMapping>false</performResponseMapping>
                        </item>
                        <item guid="77c83f68-9666-420a-b18a-296d548f9565" action="command" session="$session">
                            <command>
                                <body>pm show pm-instance SP${pm_port}.${sp_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b22c17b6-2fcb-49c1-aa9a-c8add663bb56" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Clear traffic profiling, traffic queues, and port stats for the specified ports in the input port list</multilineDescription>
            <arguments>
                <item name="port_list">
                    <description>The list of (one or more) ports to clear</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="sp_id"/>
            </arguments>
        </item>
        <item name="clear_port_stats" isPublic="true">
            <steps>
                <item guid="dd2c6b53-c599-4618-bcb8-9888995b96bb" action="command" session="$session">
                    <command>
                        <body> port clear port $port statistics</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="clear_stats" isPublic="true">
            <description>Clear stats for specific ports on this nte</description>
            <steps>
                <item guid="18cdc3e5-dea3-4b7b-bd6f-3f2bd5e24e16" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e58422bf-82a8-4f72-b73d-8febb76797d1" action="eval">
                    <command>
                        <body>puts &quot;$port_list          $sp_id&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="56d4e648-3200-4ff7-b9ea-1d2f0d43b6c2" action="comment">
                    <command>
                        <body>MIKE new 8x</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="68af2ec6-a8ff-4cc9-b74d-83aff5f76410" action="foreach">
                    <command>
                        <body>port $port_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="a06d5295-7b23-4a46-a8fa-af3ba6584755" action="command" session="$session">
                            <command>
                                <body>port clear port $port statistics</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f852a16c-f1c9-463f-a016-d100e316b3c1" action="comment">
                            <command>
                                <body>Clear sub-port stats regardless of configuration</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6b918bcb-d52b-4126-9ae8-f2954ea5b1f0" action="command" session="$session">
                            <command>
                                <body>sub-port statistics clear sub-port SP${port}.${sp_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4ddad7e7-4469-4570-9d60-bf8ac785808f" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Clear traffic profiling, traffic queues, and port stats for the specified ports in the input port list</multilineDescription>
            <arguments>
                <item name="port_list">
                    <description>The list of (one or more) ports to clear</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="sp_id"/>
            </arguments>
        </item>
        <item name="configure_dot1dpri" isPublic="true">
            <steps>
                <item guid="1ac40a78-b3fb-45e4-9320-22b988249164" action="comment">
                    <command>
                        <body>Commands are SKIPPED *** currently no support 1/6/17 MW</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9e9ef98a-de76-4640-aa8e-677faf18d727" action="comment">
                    <command>
                        <body>Get the virtual-switch name from the global variable &apos;CIENA_VS_DB&apos;</body>
                    </command>
                    <nestedSteps>
                        <item guid="11eb75de-7500-4474-bc56-f4a71255d4a1" action="eval">
                            <command>
                                <body>set vs_name [lindex [gget CIENA_VS_DB] $instance_cnt]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="53bd0537-467b-4287-bdd4-be8930846552" action="if">
                    <command>
                        <body>[string toupper $service] == &quot;ERS&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="4da51aeb-04a1-449c-809d-c9935fd71b3c" action="then">
                            <nestedSteps>
                                <item guid="ffe85ffd-66a1-4967-bebc-c635955d1696" action="command" session="$session" skip="true">
                                    <command>
                                        <body>virtual-switch set port $uni_port vs ERS-${svlan}-VS vlan $cvlan encap-cos-policy fixed encap-fixed-dot1dpri $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8b7fc1e6-1c19-4365-8d5a-62947c0a6914" action="else">
                            <nestedSteps>
                                <item guid="8b934a2d-7718-45d1-95dd-6d421d6b288f" action="command" session="$session" skip="true">
                                    <command>
                                        <body>virtual-switch set port $uni_port vs EWS-${svlan}-VS encap-cos-policy fixed encap-fixed-dot1dpri $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="80b458b2-2d46-4d7e-b7bf-b7dea99287f2" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="svlan"/>
                <item name="cvlan">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="service"/>
                <item name="uni_port"/>
                <item name="priority"/>
                <item name="instance_cnt"/>
            </arguments>
        </item>
        <item name="create_cfm_service" isPublic="true">
            <steps>
                <item guid="61199b3a-f059-4f97-a948-d38635949443" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4372d4b7-c796-48ae-bc8a-649714c12052" action="eval">
                    <command>
                        <body>puts &quot;$sVlan    $cvlan    $service_type    $service_profile&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8a2e06ab-73df-418e-95b8-e701513dff5e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4baf0013-2ac9-4039-b692-626cf2f5e330" action="eval">
                    <command>
                        <body>set svlan $sVlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="833d6258-8a28-4902-ada4-9baa21721578" action="eval">
                    <command>
                        <body>set vs_name ${service_type}-[string toupper [string range $service_profile 0 0]]-${svlan}-${cvlan}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="16ac3d66-e5cb-42b9-8468-1aee4f043af0" action="eval">
                    <command>
                        <body>set vs_name [lindex [gget CIENA_VS_DB] 0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="51d47654-b146-4cd3-990c-106661cde390" action="eval">
                    <command>
                        <body>set md_name $md</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ede41982-cb40-48eb-bd05-3477aeee507b" action="eval">
                    <command>
                        <body>set cfm_name ${md}${ma}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5dfb9812-d558-42b2-864c-577f859dd850" action="comment">
                    <command>
                        <body>cfm enable </body>
                    </command>
                    <nestedSteps>
                        <item guid="8e718ec9-a580-49d6-abda-021184ed61ac" action="command" session="$session">
                            <command>
                                <body>cfm enable </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5c088178-a5e7-4e1c-9e3c-de51626ff84e" action="comment">
                    <command>
                        <body>cfm md create md VPLS:2001-4 level 4</body>
                    </command>
                    <nestedSteps>
                        <item guid="98e24768-a607-4a66-9c3b-7b508920b7d7" action="command" session="$session">
                            <command>
                                <body>cfm md create md $md_name level $level</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6b2b277d-8f0a-4489-9740-4aa1d1b3ce69" action="comment">
                    <command>
                        <body>cfm service create vs EWS-SGOS-2001.1 name VPLS:2001-4serv md VPLS:2001-4 ma-name-string serv</body>
                    </command>
                    <nestedSteps>
                        <item guid="f33f9789-79c2-4d36-b355-072581cd9ced" action="command" session="$session">
                            <command>
                                <body>cfm service create vs ${vs_name} name $cfm_name md ${md_name} ma-name-string ${ma}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="da88fd63-38a4-4df7-b22b-a12ea6ec53d0" action="comment">
                    <command>
                        <body>cfm service set service VPLS:2001-4serv ccm-interval 10sec</body>
                    </command>
                    <nestedSteps>
                        <item guid="3386326f-0329-458d-80d2-18f0c971cf6c" action="command" session="$session">
                            <command>
                                <body>cfm service set service ${cfm_name} ccm-interval ${ccm_interval}sec</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c61fb9ea-3507-4f10-8f65-b48c485b90b2" action="comment">
                    <command>
                        <body>cfn service enable $cfm_name</body>
                    </command>
                    <nestedSteps>
                        <item guid="74f70d89-c6c7-4fb2-a3df-4f9c126f1710" action="command" session="$session">
                            <command>
                                <body>cfm service enable service $cfm_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="62b89d85-4bec-4965-956e-c1b7c032b2f4" action="comment">
                    <command>
                        <body>Save the changes</body>
                    </command>
                    <nestedSteps>
                        <item guid="8e3da836-0487-43f0-8b4d-99518fdb2f69" action="command" session="$session">
                            <command>
                                <body>configuration save</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cbbd3be2-6405-4180-8d91-5b659ff27f44" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2f57792d-15d8-4ef9-b0d9-9231a75fcd06" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b86cd0a6-7596-4bed-88d0-1f8247628494" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Utilized by CFM Y1731 test instance</multilineDescription>
            <arguments>
                <item name="ccm_interval">
                    <description>ccm service interval as defined in the cfm_config.csv</description>
                </item>
                <item name="ma">
                    <description>MA_name defind in cfm_config.csv
Valid values: serv or diag</description>
                    <defaultValue>serv</defaultValue>
                </item>
                <item name="md">
                    <description>Example: VPWS:299999-4
constructed from: $service_name:$service_number-${level}&quot;</description>
                </item>
                <item name="sVlan">
                    <description>service vlan as defined in service_info.csv</description>
                </item>
                <item name="cvlan"/>
                <item name="level">
                    <description>cfm service level</description>
                    <defaultValue>4</defaultValue>
                </item>
                <item name="service_type"/>
                <item name="service_profile"/>
            </arguments>
        </item>
        <item name="delete_cfm_service" isPublic="true">
            <steps>
                <item guid="aa3c4491-0297-4daa-a999-fafce1cf1ee5" action="command" session="$session">
                    <command>
                        <body>cfm service delete service VPLS:${vpls_no}-4serv </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="40f8e5f6-3250-4b03-9989-f7453f976330" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2d3cf76b-fa08-43be-8b31-8d666e0b8be7" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="vpls_no">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="device_login">
            <steps>
                <item guid="779cfd30-d4a4-45eb-a4a6-301f48ce351a" action="comment">
                    <command>
                        <body>Login to the device. These credentials are taken from each users&apos;s global parameter file.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="37cf398a-4bfc-4803-83a6-381b9da61aa8" action="comment">
                    <command>
                        <body>This is a local procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="22714626-91aa-4bf6-ae45-b7f322af8a92" action="command" session="$session" normalOffset="6.17" estimatedStepExecutionTime="0.344">
                    <command>
                        <body>telnet $IP</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.531" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b9538799-1941-43c8-909e-48cfa3069005" action="call">
                    <command>
                        <body>send_login -userid $userid -password  $password</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="839f5f54-2195-427e-960d-fee2928dab99" action="command" session="$session" normalOffset="3.531" estimatedStepExecutionTime="0.157">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.157" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="IP">
                    <description>device IP</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="disable_cfm_service" isPublic="true">
            <steps>
                <item guid="4908d979-574b-453f-8d00-7790aa766cbc" action="command" session="$session">
                    <command>
                        <body>cfm service disable service $service_id</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="disable_lldp" isPublic="true">
            <steps>
                <item guid="f5da4d98-15a3-4662-a184-5949e42e1220" action="command" session="$session">
                    <command>
                        <body>lldp  set port $port_num mode disable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="disable_multihome_untouched" isPublic="true">
            <steps>
                <item guid="5b7f43b6-81b2-446e-bb59-554ca6c855ec" action="eoam_disable_port" session="$session">
                    <command>
                        <body>-port_num $nniPort2</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5115a7a7-0ed8-4edb-b5ab-2d81e5060a16" action="command" session="$session">
                    <command>
                        <body>eoam set port $nniPort2 pdu-timer 1000</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e9633ea4-ff22-48e6-9a93-0f900edc97f0" action="command" session="$session">
                    <command>
                        <body>eoam set port $nniPort2 link-lost-timer 5000</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="417fe1af-7e5d-47a0-9223-2829a4ddba7b" action="command" session="$session">
                    <command>
                        <body>vlan remove vlan $svlan port $nniPort2</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="bb70ce25-a284-4715-9a7d-d5c0ae89a1df" action="eoam_disable_port" session="$session">
                    <command>
                        <body>-port_num $nniPort</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="124006a1-313b-4bf1-ad68-90d866fc64d2" action="command" session="$session">
                    <command>
                        <body>eoam disable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2d493bd6-3ffc-48f0-ae3a-038f5a4bc6b4" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="nniPort"/>
                <item name="nniPort2"/>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="disable_port" isPublic="true">
            <steps>
                <item guid="2c269501-f0b2-4dea-8f76-017db396eb3c" action="command" session="$session">
                    <command>
                        <body>port disable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="enable_cfm_service" isPublic="true">
            <description>enable_cfm_service: Called From cfm_service_verify - internal library call - trap for cfm globally disabled!!!!</description>
            <steps>
                <item guid="53eb68db-5345-49fb-be7f-64a2bceb70d3" action="command" session="$session">
                    <command>
                        <body>cfm service enable service $service_id</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <arguments>
                <item name="session"/>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="enable_lldp" isPublic="true">
            <steps>
                <item guid="07b36a03-c5e1-4f4a-8214-cc15ae63ea49" action="command" session="$session">
                    <command>
                        <body>lldp set port $port_num mode tx-rx</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="enable_port" isPublic="true">
            <steps>
                <item guid="e6bb336a-31da-4c6b-80b6-7b26d1a2276e" action="command" session="$session">
                    <command>
                        <body>port enable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="eoam_disable_port" isPublic="true">
            <steps>
                <item guid="f5141bb3-5a8d-4a3c-b350-1d3aa83c7d75" action="command" session="$session">
                    <command>
                        <body>eoam disable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="eoam_enable_port" isPublic="true">
            <steps>
                <item guid="91554585-b78f-4ed0-a4cc-6432217d73b1" action="command" session="$session">
                    <command>
                        <body>eoam enable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="eoam_multihome" isPublic="true">
            <description>Setup EOAM on saos next generation devices</description>
            <steps>
                <item guid="3a6bdaa4-fd15-4298-968f-085ca1056650" action="comment">
                    <command>
                        <body>AAF - Mike</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9c66e573-d884-4de3-811a-08f28dc66959" action="command" session="$session">
                    <command>
                        <body>eoam enable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ba0f1463-d03c-47e0-b832-f8debdddeea8" action="command" session="$session">
                    <command>
                        <body>eoam enable port ${port}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e268944a-abe0-4f79-b785-4c4686534cb2" action="command" session="$session">
                    <command>
                        <body>eoam set port ${port} errd-frame-ev-notify on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1d68b963-bede-448e-98b8-e478d242821c" action="command" session="$session">
                    <command>
                        <body>eoam set port ${port} errd-frame-period-ev-notify on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ea71057c-6de4-4cb6-8082-a89e0ba77262" action="command" session="$session">
                    <command>
                        <body>eoam set port ${port} errd-frame-secs-summary on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c2665e67-6801-4bc6-9d5b-f3ae92907dc2" action="command" session="$session">
                    <command>
                        <body>eoam set port ${port} dying-gasp on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="709e84da-c13d-42c2-9731-955c9b1c5f19" action="if">
                    <command>
                        <body>[get primary]</body>
                    </command>
                    <nestedSteps>
                        <item guid="c94b4c92-f3e5-4267-ad23-f48d93540c47" action="then">
                            <nestedSteps>
                                <item guid="781ec926-5757-4d7c-9534-fcf103e840b0" action="command" session="$session">
                                    <command>
                                        <body>eoam set port ${port} pdu-timer 100</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="6c79e51c-d367-4a1d-a66f-9ae8936c122c" action="command" session="$session">
                                    <command>
                                        <body>eoam set port ${port} link-lost-timer 500</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3c55861c-6066-4286-90de-8b6b4ae061e3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1041dd0c-b753-4784-8708-68966d034aa2" action="command" session="$session">
                    <command>
                        <body>configuration save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9039fd1b-1bd8-424d-bd43-8e8b71272b0d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <arguments>
                <item name="port"/>
                <item name="primary">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="eoam_show" isPublic="true">
            <steps>
                <item guid="30062eca-ff7b-4f5d-b759-27e035168919" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>eoam show</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="eoam_show_port" isPublic="true">
            <steps>
                <item guid="90d2bea8-6989-46c5-8c3b-5d1ea35eff28" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>eoam show port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>table1_Info_PduTx(1)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>info_pdu_tx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>table1_Info_PduRx(1)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>info_pdu_rx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show_port1.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="3c27082a-250c-4bcf-8f55-b7cf77f470d9" action="write">
                    <command>
                        <body>Info PduTx $info_pdu_tx -- Info PduRX $info_pdu_rx</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="83c7fa49-8e6d-4eca-ae03-d85c895e9434" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="eoam_show_port_status" isPublic="true">
            <steps>
                <item guid="6db5bbf7-80ad-40cc-9bed-1cc8bd8f4927" action="eval">
                    <command>
                        <body>set AdminState &quot;SendAny&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ef051ce9-cb33-4fc0-8e99-b47a9807d536" action="eval">
                    <command>
                        <body>puts $port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="657c90ae-5081-49cf-8af7-66722cbb041b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>eoam show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Admin_State_by_Port($port)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>AdminState</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>PortStatus</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="4dc24d9c-e9ff-4141-b6c1-4f074da7e8bd" action="write">
                    <command>
                        <body>$AdminState</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="ethernet_ping" isPublic="true">
            <steps>
                <item guid="d71d2924-af44-44cd-bb07-a7a0f7c760a6" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1b3b8311-6fbd-49b4-b1dc-3af1a6ea6add" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f74ff2b3-01cf-4659-b3ec-aeb77df2826e" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="081b458a-4277-4bb5-8a43-3fa2d078119e" action="comment">
                    <command>
                        <body>cfm loop send service &quot;${md}$ma&quot; local mep_id mep target_mep_id c 10</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="feb6289a-4a01-4264-9199-930f22766e2c" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="11921508-0293-4b9a-adbb-3c4a322fb782" action="then">
                            <nestedSteps>
                                <item guid="2a335e64-9a82-4819-bfe9-327f9605da5f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b9645c8e-b62f-416b-bda0-33e6f95fe3f2" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="74c3cad5-ea42-4037-ac87-fbed48046daf" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send service ${service_id} local $source_mep_id mep $destination_mep_id count $count</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="1b898a69-977f-4698-8c9f-ff9aaab90138" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="dcd9b05b-9645-4c1f-aa56-9efcb602099d" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="58e49383-ccca-4368-9f20-9c3953ff44eb" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm loop show service ${service_id}</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_loopback_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="500b6f57-2c3d-459a-b797-92f0261bc9b7" action="comment">
                                    <command>
                                        <body>Calculate and write results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0cb6f4cc-ed5b-4372-a9dc-ec989d852b8b" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="ef0d2804-1d44-4175-952e-e1a0181c334d" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="dc899fcc-b4aa-435a-9faf-516e3c30d52d" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4e4c7c1d-7e7b-42f9-9fde-04ffb7ea927b" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f00ed982-9faf-4bbf-8ce5-c176df262e37" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="929f07a1-1904-44ab-9c4f-b012f984f380" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c5e58860-c651-41f2-884b-4c36b43e520c" action="else">
                            <nestedSteps>
                                <item guid="343d12af-6340-4234-86d2-2927b8c6b878" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send service $service_id local $source_mep_id mep $destination_mep_id count $count</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="d6937de8-f00d-4610-a357-e19cc7d93adf" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="440c546b-2496-4478-a6f2-a7c519a37661" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fa340afa-ce89-4f68-b719-efb78b6276be" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm loop show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_loopback_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="c6c32509-23f3-41e1-8c85-799b0dbf41f1" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8997d586-3b09-4d7b-b079-5d8624341338" action="command" session="$session">
                                            <command>
                                                <body>cfm service show service $service_id statistics</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="454ba2ee-aa80-47c4-b913-425e0caff262" action="comment">
                                    <command>
                                        <body>Calculate and write results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c0ee38e0-e26d-4f5f-9c98-1a683785a45f" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="f58fa432-40c7-491f-99e5-1db6cf501cd8" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="272159d7-f51e-4b4b-b206-2bae5868cb6c" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="c70c5ef1-d5cc-494c-8b5d-945949d79fd3" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a0a0eb82-b706-45a1-9328-6de702e5a484" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7317d129-ae2c-4132-a5c5-25c2ce980717" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id">
                    <description>Handle constructed for MD and MA</description>
                </item>
                <item name="md"/>
                <item name="ma"/>
                <item name="source_mep_id"/>
                <item name="destination_mep_id"/>
                <item name="count"/>
                <item name="ping_interval"/>
                <item name="priority"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="ethernet_ping_mac_hop" isPublic="true">
            <steps>
                <item guid="3611b150-7a8f-45c9-b32c-326db85cf65a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1fbea45b-63b0-4fb5-bd86-d191d41b07bf" action="comment">
                    <command>
                        <body>Seed the local variables: active_service, local_mep and list of remore_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="96a54a6e-9d94-48a0-9462-fe061252b4b2" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1c49902f-a9f2-46e1-a597-9ebd0bcb770c" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5380a984-5877-403c-a29d-d4400d78ff6d" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="69821fc5-7932-42cc-9759-40e6d288b67b" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="703aed44-a29d-41a7-9bf1-80ffb16eba93" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>cfm link show service $service_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>service()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>active_service</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>local_mep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>local_mep</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>remote_mep_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>remote_mac_addr_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ingress_mac()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ingress_mac_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>egress_mac()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>egress_mac_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="7611fa73-fcdd-4195-aff7-a8d060de2cd7" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e4dabb0-1d1e-46ff-b1f3-c4813ad2cc45" action="eval">
                    <command>
                        <body>set hop_cnt 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3e30bc91-e65c-422d-bd6a-e33cd2e22dcb" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b0cdd2e2-abeb-4b39-862c-8769cfecc645" action="comment">
                    <command>
                        <body>Strip the tail of stored mac address list, flip it and let&apos;s get to the testing.</body>
                    </command>
                    <nestedSteps>
                        <item guid="d987791d-300b-45eb-9c27-1570baf30ae2" action="eval">
                            <command>
                                <body>puts [get remote_mac_addr_list]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="fe59095b-9330-47ee-8807-5c2c9ff03545" action="eval">
                            <command>
                                <body>set active_mac_list [lreverse [lrange $remote_mac_addr_list 0 end-1]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8f09feb9-5e32-4c4f-bc44-2d7050def402" action="eval">
                            <command>
                                <body>puts $active_mac_list</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6376c3ac-5189-4afe-85fc-bb0b10ffd8c1" action="if">
                    <command>
                        <body>![get l2cc]</body>
                    </command>
                    <nestedSteps>
                        <item guid="c72ad514-6993-4485-8fd7-c18fef8073e6" action="then">
                            <nestedSteps>
                                <item guid="96500378-5a2c-4b8a-99d5-13d1323f0f15" action="comment">
                                    <nestedSteps>
                                        <item guid="fa1aadff-6057-4b94-a69b-1328377c92ce" action="foreach">
                                            <command>
                                                <body>mac_addr [get active_mac_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="56edd2fb-4d7e-451a-ac7f-91e39fbe8737" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="5127604a-9a52-4738-b457-f580e748dd25" action="eval">
                                                    <command>
                                                        <body>set hop_cnt [incr hop_cnt]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="243c5184-407d-4563-bddc-67cc04350bfd" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="ed852a96-e2a3-496c-868c-75f86f2c98e8" action="if">
                                                    <command>
                                                        <body>$log_report == 1 || $log_cmd == 1</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="44274764-b06d-4446-8b79-28b2e5dc883f" action="then">
                                                            <nestedSteps>
                                                                <item guid="f2e5a295-8ebc-4f82-9936-d66f3e19302c" action="eval">
                                                                    <command>
                                                                        <body>set seperator &quot;================================================================================&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="046419d6-337d-484d-adc1-e1d8aafd3f31" action="command" session="$session">
                                                                    <command>
                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="37006c61-ed49-477a-9fdc-ac9f05ab58b1" action="eval">
                                                                    <command>
                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="bd95b360-f8c8-48ee-b93e-6b7145370a7e" action="sleep">
                                                                    <command>
                                                                        <body>$delay</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="33197738-acf0-434d-8d36-432840d8f82e" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                                    <command>
                                                                        <body>cfm loop show service $service_id</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                    </applicationProperties>
                                                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_loopback_show_service_NAME.ffrm</responseMap>
                                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                                </item>
                                                                <item guid="064b6fff-77b1-47de-9df3-4e2836c29ac4" action="comment">
                                                                    <command>
                                                                        <body>Write the results</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="8b5e8bd0-79ef-4f0e-8e32-e01cbc457511" action="eval">
                                                                            <command>
                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="54d4fd27-cb52-4e80-bdc9-e9b2b1903df4" action="eval">
                                                                            <command>
                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="bf79ea4f-eae8-4891-8664-0ea9edd0cb42" action="eval">
                                                                            <command>
                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="3206464d-17d2-4b53-a74e-985a12a0c97b" action="eval">
                                                                            <command>
                                                                                <body>lappend status_list $rate2</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="645712ba-eb5e-424d-954e-5a0934cdf5a4" action="write">
                                                                            <command>
                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="770ae82c-2bf4-41a4-a70e-716e34495886" action="write">
                                                                            <command>
                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f6125eb5-9541-4983-b980-efa42c2acbf5" action="write">
                                                                            <command>
                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="467d653c-e1cc-4f1b-838d-1f7d7fcd6813" action="write">
                                                                            <command>
                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="09ce1fc2-8cae-4e05-ab1b-5a99a9029ed8" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="e59afefa-3703-4c63-b8e9-ac45118487d3" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="a05d0684-7350-47a6-8b7a-bc4173007701" action="else">
                                                            <nestedSteps>
                                                                <item guid="541268fc-3aeb-4e25-af1f-2e2808215018" action="command" session="$session">
                                                                    <command>
                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <appendSession inherit="false">true</appendSession>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                </item>
                                                                <item guid="ce105b6c-24cd-41f8-aafd-72df89a54ed1" action="eval">
                                                                    <command>
                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="785dc174-5ada-4e1b-b714-8634a1d89f30" action="sleep">
                                                                    <command>
                                                                        <body>$delay</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="8566a905-199c-4a44-961c-c2b2bdec2e27" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                                    <command>
                                                                        <body>cfm loopback show service $service_id</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                        <appendAction inherit="false" defaultValue=""/>
                                                                        <appendSession inherit="false" defaultValue=""/>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_loopback_show_service_NAME.ffrm</responseMap>
                                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                                </item>
                                                                <item guid="a80c32ea-6883-4fc6-b8b5-575b09d0a9b1" action="comment">
                                                                    <command>
                                                                        <body>Take a look at the stats and report as needed</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="fda94af8-27a0-40c9-9731-65c6bb3e80cb" action="command" session="$session">
                                                                            <command>
                                                                                <body>cfm service show service $active_service statistics</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="a265d7f4-198e-4900-9fef-0afceaf63642" action="comment">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="aae42103-798c-4ede-b811-86a79fb6f767" action="comment">
                                                                    <command>
                                                                        <body>Write the results</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="7a13048c-a657-448a-97e0-b252dd235e26" action="eval">
                                                                            <command>
                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="9cc67b9b-eb6a-4a9d-afdf-8141b6be7070" action="eval">
                                                                            <command>
                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="5141e325-11a8-4f6f-bd2e-e9024f6fb1a4" action="eval">
                                                                            <command>
                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="9905cb19-eb1b-4c2b-8a97-35c8fb2c0cd1" action="eval">
                                                                            <command>
                                                                                <body>lappend status_list $rate2</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="c347b0e6-0a37-485b-86a0-88a8e1c09ee1" action="write">
                                                                            <command>
                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="3cc9899e-3b6d-4cb1-a47a-779adbc6be07" action="write">
                                                                            <command>
                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="53831293-96d4-4bde-a29f-a0fa263c7ef1" action="write">
                                                                            <command>
                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="84503ff7-4c51-4e53-9db4-777dfa686b06" action="write">
                                                                            <command>
                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="6d41dd5d-a4b9-4470-91db-2dcdff66d70a" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="50a7ed73-bea9-4c02-8d32-525ba4eb3282" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="7245df0b-1f55-4d02-aa87-ddff723521d5" action="comment">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <eventHandlers>
                                                        <item name="OnInterpreterError">
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>puts 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </item>
                                                    </eventHandlers>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="72b6187a-dd65-4f6f-b7ac-5663630079df" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7d891f46-9316-473c-9821-47e4e474cca7" action="else">
                            <nestedSteps>
                                <item guid="44ac0a4f-0500-4fd2-8d98-d3b571bc6542" action="comment">
                                    <command>
                                        <body>L2CC present Utlize the ingress_mac_list here.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ff8124bc-014f-4a0e-86fa-b3aec1f177f7" action="foreach">
                                            <command>
                                                <body>mac_addr [get ingress_mac_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d6b087bb-b614-4891-ac27-f9f397175438" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="f34bb992-a830-415d-8adf-84e936815058" action="if">
                                                    <command>
                                                        <body>[string length [string trim [get mac_addr]]]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="29840b77-654e-47e9-9c23-ee5cf145704e" action="then">
                                                            <nestedSteps>
                                                                <item guid="e338d31e-7b35-4612-8899-3a435b54aec0" action="eval">
                                                                    <command>
                                                                        <body>set hop_cnt [incr hop_cnt]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="78785a65-bfa3-4fec-b05f-26d12f1f63b1" action="comment">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="0c07e2bb-a49a-45a2-bb5e-e42dc574069b" action="if">
                                                                    <command>
                                                                        <body>$log_report == 1 || $log_cmd == 1</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="d07adec6-0205-41d0-b157-8b1c872231b5" action="then">
                                                                            <nestedSteps>
                                                                                <item guid="fe0716b8-7340-4bee-9d38-e5cdf8dbb7da" action="eval">
                                                                                    <command>
                                                                                        <body>set seperator &quot;================================================================================&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="aad3a130-d6fc-4fa6-ae5a-81e5f1244e37" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="119b8de7-ce5c-40f2-bd9c-8e51921781d8" action="eval">
                                                                                    <command>
                                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="6318b727-ef2b-46be-bc4b-5531bc161b09" action="sleep">
                                                                                    <command>
                                                                                        <body>$delay</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="9b37b315-5e00-4e6c-bae8-be529b9d3823" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm loop show service $service_id</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="6876a0dc-bf69-4b49-90f1-b53741e21ccd" action="comment">
                                                                                    <command>
                                                                                        <body>Write the results</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="c8fc6409-845e-4592-aa52-fe858547a382" action="eval">
                                                                                            <command>
                                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="bded8ab1-5068-4832-9c44-656b444d1104" action="eval">
                                                                                            <command>
                                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="e8f32291-aff5-4965-98aa-97e0fb5194f8" action="eval">
                                                                                            <command>
                                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="b438fef0-6473-4ebe-aa8d-acfd4af38631" action="eval">
                                                                                            <command>
                                                                                                <body>lappend status_list $rate2</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="000586da-f705-4123-b1b5-6b30fe036c96" action="write">
                                                                                            <command>
                                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="97ec25a6-1716-47b7-a553-077c7b7a9274" action="write">
                                                                                            <command>
                                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="3ea81962-fed8-4a37-b044-1ea1f861a650" action="write">
                                                                                            <command>
                                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="a924ee79-39f4-4897-9133-63da0ecea8c3" action="write">
                                                                                            <command>
                                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="8758f662-1ca5-4c59-b9c7-beeb1b4b1c09" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="6118411b-4b51-4dac-be1d-c01a33b325dc" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="47822734-055a-4aac-99d6-a86aad14e615" action="else">
                                                                            <nestedSteps>
                                                                                <item guid="0bff3734-6102-4210-b6e2-e9dd20d596f6" action="comment">
                                                                                    <command>
                                                                                        <body>cfm loopback send-mac service &quot;${md}$ma&quot; local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="e04d693c-01e4-4f35-bbba-0166239b3113" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <appendSession inherit="false">true</appendSession>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                </item>
                                                                                <item guid="e7cae154-99cd-4882-80c6-1cbffc0c4d17" action="eval">
                                                                                    <command>
                                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="c2013d51-b555-43cb-93d1-8f0fa967328e" action="sleep">
                                                                                    <command>
                                                                                        <body>$delay</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="154e34ea-4434-4b0c-88ff-a9790e86d62b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                                                    <command>
                                                                                        <body>cfm loopback show service $service_id</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                                        <appendAction inherit="false" defaultValue=""/>
                                                                                        <appendSession inherit="false" defaultValue=""/>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                    <responseMap>project://di_ciena/response_maps/cfm_loop_show.ffrm</responseMap>
                                                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                                                </item>
                                                                                <item guid="dd405c09-ea17-49c8-a252-b77fb462521b" action="comment">
                                                                                    <command>
                                                                                        <body>Take a look at the stats and report as needed</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="0aaf4769-d466-481e-be63-76817ca6c6f3" action="command" session="$session">
                                                                                            <command>
                                                                                                <body>cfm service show service $active_service statistics</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="94f2dd80-5fce-4bbe-af76-596db76fde7a" action="comment">
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="b45ff141-a42b-4ed8-b33a-c39553712cb2" action="comment">
                                                                                    <command>
                                                                                        <body>Write the results</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="ad836ea3-5af9-4ef2-9bf3-abbbfef0e522" action="eval">
                                                                                            <command>
                                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="fc7301e8-4df3-4009-8f6e-19eec6819506" action="eval">
                                                                                            <command>
                                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="819ceab9-b22d-4981-bd86-d74f38981893" action="eval">
                                                                                            <command>
                                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="518c2dd2-099b-46af-94cf-07d325ffbf3c" action="eval">
                                                                                            <command>
                                                                                                <body>lappend status_list $rate2</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="5d5fcece-835d-42b9-8bfc-844f4a16b449" action="write">
                                                                                            <command>
                                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f3b1812a-7245-41fe-890e-3b6e68bae7be" action="write">
                                                                                            <command>
                                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="79ab8e8c-ba9f-4956-8f12-f5f9dc120fdd" action="write">
                                                                                            <command>
                                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f41a0124-3f04-4762-a3d7-06d64bc9661f" action="write">
                                                                                            <command>
                                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="99a907e5-6bc6-4fa4-9316-583191279f77" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="4f828a04-6da9-4b58-ad80-d020fe166740" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="9270d9d1-847b-4877-8767-d03a01d572e8" action="comment">
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <eventHandlers>
                                                                        <item name="OnInterpreterError">
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>puts 0</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </item>
                                                                    </eventHandlers>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="db429744-5e0f-4054-9fcd-9ef398929f4c" action="else">
                                                            <nestedSteps>
                                                                <item guid="f4b124cc-0d93-434b-a59c-77ce7a9f337b" action="comment">
                                                                    <command>
                                                                        <body>Insert steps here for when the expression evaluates to false</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4d56eee3-3d4c-4b40-9d68-d0d3eafccb9e" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f385e6c0-d37f-4549-8c6e-5155d9c370ba" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="65146ddc-13a8-4e3c-87fb-18f97166f539" action="comment">
                    <command>
                        <body>Write seperator if we are logging commands</body>
                    </command>
                    <nestedSteps>
                        <item guid="a9210682-3ca9-4d04-97ce-78778557ffc0" action="if">
                            <command>
                                <body>[get log_cmd]</body>
                            </command>
                            <nestedSteps>
                                <item guid="375a63c1-f82f-43a1-9092-751215399cf4" action="then">
                                    <nestedSteps>
                                        <item guid="611cff02-497f-4322-93f3-383b5f412966" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is true</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="aa518bd9-29b3-4eb3-9ffb-3755728a9c91" action="writeFile">
                                            <command>
                                                <body>[gget ${session}_file] $seperator</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3f489369-fe1f-4fad-9f25-de298b61d2e6" action="eval">
                    <command>
                        <body>puts [lsearch -all -not $status_list 100.0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6ccbff7-6648-4f80-b978-cd1c12170015" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2b238cc8-419d-41dd-aa9a-4d897d829a79" action="if">
                    <command>
                        <body>[lsearch -all -not $status_list 100.0] == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="57aead34-7bc0-495c-9f65-adcb88ed6614" action="then">
                            <command>
                                <body>All hop were sucessful</body>
                            </command>
                            <nestedSteps>
                                <item guid="cc1e1161-671c-4bb5-b045-cb07400c0a6f" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="37a7c32d-e28f-4c86-b967-34ceec9f48e7" action="write">
                                    <command>
                                        <body>Loopback HOP Overall STATUS: PASS</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ca372007-3b89-4eea-9dca-b411558aef30" action="else">
                            <nestedSteps>
                                <item guid="b46fb00c-c135-40c6-ac52-c457b10e9a94" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1b842b91-f805-4408-82ac-7f68c51ea020" action="write">
                                    <command>
                                        <body>Loopback HOP Overall STATUS: FAIL</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6325410c-e679-4eae-967e-541a56cd0f7d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="source_mep_id"/>
                <item name="destination_mep_id"/>
                <item name="count"/>
                <item name="ping_interval"/>
                <item name="priority"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
                <item name="l2cc">
                    <description>Switch utilized to process l2cc level 4 data</description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="ethernet_ping_mac_mep" isPublic="true">
            <steps>
                <item guid="1f1b7c93-1af1-49a7-9a79-dcce20c4b76c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="36694772-4514-4607-aff2-fbe8b3c52ad8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b3333784-b61d-48cc-b1b9-fbd379e0a513" action="comment">
                    <command>
                        <body>Seed the local variables: remote_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="ffd461ed-cfd5-4d3d-91b2-89b5c8b95de4" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ddbf0b2e-14fa-4443-bd50-801298ac2bbc" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id</body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="bbb41795-dda3-480d-8d5a-26bcc4c789b8" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d6ddf47e-92b0-424a-a261-28e201552032" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="f1782119-c68f-4e24-ac31-0e9eebe6f77e" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>cfm link show service $service_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>target_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>mac_addr</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena_next_generation/response_maps/cfm_linktrace_show_service_NAME.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="6a207b9d-a8e4-4f92-87da-c311ff9403ac" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="19c849e5-f71a-470f-8f13-4c4efc2a1300" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5ad155fe-1406-4a2d-b86c-e9801a424349" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="44bb11cc-a1b5-4757-9c39-7b14797327ed" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="49798f48-285d-452c-8855-9294efa14313" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="5415fe1e-6c33-4519-b9fe-859bd54562f9" action="then">
                            <nestedSteps>
                                <item guid="d5d3c606-93af-4b5d-b08e-639c3612d474" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6347ba2f-8a33-4db7-9f49-a3ef59f9beec" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count</body>
                                    </command>
                                    <postProcessing>
                                        <appendTimestamp inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="4a84d622-40af-49f3-ab6a-6947cc9938db" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2ff516e1-17e7-4bb4-83b0-cef78ffb59de" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="22d879a6-4e6e-4b54-996d-65c8f5b37094" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm loop show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                        <appendAction inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_loopback_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="57187357-48ee-4fe6-93a0-cf794d5e09f8" action="comment">
                                    <command>
                                        <body>Do the validation, log to file and write results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="aeb136ce-bc4d-4ff7-9dd5-e5f3576b9590" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="0f7ade42-7f2b-4ab8-817e-d9f4995f6366" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="bdc90e0b-4d57-406a-b63d-124901576273" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="102bdcf9-196f-4899-bb85-94c497b2a83c" action="write">
                                            <command>
                                                <body>Local MEP id: [get source_mep_id]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="efb3fc17-f727-451b-b296-fa820a384887" action="write">
                                            <command>
                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b506df63-dfa9-426e-897e-0e9b83c026c9" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6e9dfd48-06ac-4640-9c11-63a4f3fb0730" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6c89d1af-f646-4dfb-aafb-40e38720935c" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="08513a60-197f-4cfc-8089-48afe63a76eb" action="else">
                            <nestedSteps>
                                <item guid="b0e662a0-215e-413f-b3d6-dd7c754cc94d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="46a177c0-ad2e-4627-b348-f6f278e363d2" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="cd8d8904-c8ad-4a94-8f8b-6d5ac8fe2b10" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="d36442af-be12-4c83-bbec-cb65b14474e1" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c3e58112-f231-4d63-9c08-2f6506f66898" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm loopback show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                        <appendAction inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena_next_generation/response_maps/cfm_loopback_show_service_NAME.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="8905355a-1acd-4dbc-a6d8-ba903d10348c" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ce6f6da3-7614-4de6-bff0-8c01f963b51a" action="command" session="$session">
                                            <command>
                                                <body>cfm service show service $service_id statistics</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="847cd619-90c0-4428-b00a-ff53e5903a32" action="comment">
                                    <command>
                                        <body>Do the validation and write results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e1268f47-ee49-420b-99bc-194cc9d9e415" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="118df719-1a82-4689-b468-aa8d0388eeb3" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="8d2f109f-db64-4c52-8081-4bcc3dffde4c" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="f81c8082-a5da-4e32-a366-906108818bd9" action="write">
                                            <command>
                                                <body>Local MEP id: [get source_mep_id]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="927480ef-4d8a-4729-9eab-a7d359333210" action="write">
                                            <command>
                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="64dde680-5e2c-4c1c-b097-db121b123d24" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3143b55e-0ec3-46b1-ba88-462b6effad54" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="611b1102-44ac-4314-bcac-4c957de6af0a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="source_mep_id"/>
                <item name="destination_mep_id"/>
                <item name="count"/>
                <item name="ping_interval"/>
                <item name="priority"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="get_active_port_throughput" isPublic="true">
            <steps>
                <item guid="d1bf6a52-4582-4349-b138-74d026c9fd55" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show throughput active</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">tx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_tx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">rx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_rx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>port_show_status</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="eb40c978-4056-41e7-a9d4-ceec86322aae" action="sleep">
                    <command>
                        <body>2</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a5a07428-46b9-4da5-bbd2-47861432c61b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show throughput active</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">tx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_tx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">rx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_rx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>port_show_status</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="cf4e1d8d-83d3-457a-93ef-da8124f80add" action="write">
                    <command>
                        <body>port_througput_bps_tx=$port_througput_bps_tx \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="92dec03e-c61b-46e4-913d-196394142152" action="write">
                    <command>
                        <body>port_througput_bps_rx=$port_througput_bps_rx \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_agg_links" isPublic="true">
            <steps>
                <item guid="12db510b-d529-43d3-ac84-c0553a680212" action="command" session="$session">
                    <command>
                        <body>aggregation show agg $agg</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>agg_links</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9ba767f4-3d47-464f-99e5-ac9a0a44dd2c" action="eval">
                    <command>
                        <body>set total_lags [query agg_links total_lags()] </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="793e072b-e8ae-4e6d-93b0-79a0a16f8c03" action="eval">
                    <command>
                        <body>set lag_interfaces [query agg_links lag_interfaces()]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9715b52a-63b9-4b06-8db9-a35a48d01d60" action="write">
                    <command>
                        <body>total_lags=$total_lags \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="edfa7ef9-f194-4afe-9220-a55821d4548d" action="write">
                    <command>
                        <body>lag_interfaces=$lag_interfaces \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="agg">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_interface_port_link_state" isPublic="true">
            <steps>
                <item guid="ca954a07-50f2-4f53-b85e-deb8c159d438" action="command" session="$session">
                    <command>
                        <body>port show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">operational_link_by_port_name(&apos;$port&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>state</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="097371d4-8508-48e6-ab50-931b76128424" action="return">
                    <command>
                        <body>$state</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="get_mac" isPublic="true">
            <description>Return the port MAC</description>
            <steps>
                <item guid="7ff19c35-f157-46b5-8592-e2005912831d" action="command" session="$session" normalOffset="2.676" estimatedStepExecutionTime="0.23">
                    <command>
                        <body>port show port $port_no</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>MAC_Address()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>MAC</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="21b05c28-9064-4c38-8f70-571ee79c3e71" action="eval">
                    <command>
                        <body>puts $MAC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7b05bc34-69bb-4cfd-b12e-8c90d1a0693e" action="write">
                    <command>
                        <body>$MAC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Use &apos;port show port port#&apos; to display the MAC, then return the value</multilineDescription>
            <arguments>
                <item name="port_no">
                    <description>Port number for which to show the mac</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_neighbor_interface" isPublic="true">
            <steps>
                <item guid="c291b3d7-de6b-4aa8-9322-52eb703a64bb" action="eval">
                    <command>
                        <body>set remote_port NULL</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1f427065-b943-4d82-8223-56db7e634f6c" action="command" session="$session">
                    <command>
                        <body>lldp show neighbors</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Remote_Port_by_Local_Port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>remote_port</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnNoMatchesFoundToStore">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set </statement>
                                </actionProperties>
                            </item>
                        </item>
                        <item name="OnNoMatchesFound">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>No matches found for {type}: {info}</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/lldp_show_neighbors.ffrm</responseMap>
                </item>
                <item guid="af65b021-5ccc-4706-b2d4-916946b08c84" action="eval">
                    <command>
                        <body>puts $remote_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="499e65f1-169c-4cdb-b822-b3c561982b2c" action="write">
                    <command>
                        <body>$remote_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="get_next_gen_cbs" isPublic="true">
            <description>Get the CBS value based on passed value of CIR. This is utilized for next generation saos devices.</description>
            <steps>
                <item guid="030781d6-de1c-4120-b0a0-b66ef92e8657" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fe8fdf74-cfbc-4184-941d-a41a057c3f45" action="if" skip="true">
                    <command>
                        <body>${cir} &lt;= 1000</body>
                    </command>
                    <nestedSteps>
                        <item guid="8146a965-83e5-4deb-9855-c234f4cf83c2" action="then">
                            <nestedSteps>
                                <item guid="9f91c1b8-338a-4965-a30e-342c18fd2327" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3efd24d3-37bc-4611-8218-6defeb0b160e" action="eval">
                                    <command>
                                        <body>set cbs 256</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c4fe101e-e047-4398-9c19-b52623fada53" action="elseif">
                            <command>
                                <body>${cir} &gt; 1000 &amp;&amp; ${cir} &lt;= 2000</body>
                            </command>
                            <nestedSteps>
                                <item guid="999f6a0d-e847-4c1c-9f94-a1b593407249" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bdc0ca16-162c-4820-b567-ee7675c4a41e" action="eval">
                                    <command>
                                        <body>set cbs 512</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7c3e3ba8-ae4b-4e32-96f0-27ce714bc0a3" action="elseif">
                            <command>
                                <body>${cir} &gt; 2000 &amp;&amp; ${cir} &lt;= 4000</body>
                            </command>
                            <nestedSteps>
                                <item guid="001c1d55-3f67-4750-adff-800d558da4ab" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b7353fd4-c82d-4c75-ba5c-724ccc666b85" action="eval">
                                    <command>
                                        <body>set cbs 1024</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="835f62a2-0899-4874-9aca-2a2194257c1d" action="elseif">
                            <command>
                                <body>${cir} &gt; 4000 &amp;&amp; ${cir} &lt;= 8000</body>
                            </command>
                            <nestedSteps>
                                <item guid="3fb34189-4419-47da-892b-4a83e102eae3" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="828cfe5c-2adf-4c10-ae46-31a8d5196333" action="eval">
                                    <command>
                                        <body>set cbs 2048</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="84d18326-ce09-4b89-ab2b-8056d28c6d48" action="elseif">
                            <command>
                                <body>${cir} &gt; 8000 &amp;&amp; ${cir} &lt;= 10000</body>
                            </command>
                            <nestedSteps>
                                <item guid="f1e16d54-3489-432e-abce-4404e83e2184" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ade4df9a-24ff-498c-824f-8fb55674d774" action="eval">
                                    <command>
                                        <body>set cbs 3000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4439888d-f234-4145-a0bb-4d86c872ebdb" action="else">
                            <command>
                                <body>CIR is greater than 10G</body>
                            </command>
                            <nestedSteps>
                                <item guid="181f80b6-913b-4a26-9b6e-93d04e8f158d" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3e83c449-be5b-4c37-a4e7-be02b3361bce" action="eval">
                                    <command>
                                        <body>set cbs 4000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bc4ba25c-364f-407f-a400-cd4c32dcf1aa" action="if">
                    <command>
                        <body>${cir} &lt;= 30</body>
                    </command>
                    <nestedSteps>
                        <item guid="f921a5c9-491f-4ddb-af35-930bff89da35" action="then">
                            <nestedSteps>
                                <item guid="f6d246b2-79d7-464a-a11a-cf117aa24332" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="101cdb00-1cc0-4be8-ba24-e12e3141314c" action="eval">
                                    <command>
                                        <body>set cbs 256</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7e6467da-e6f9-457e-b385-1784b3222555" action="elseif">
                            <command>
                                <body>${cir} &gt; 30 &amp;&amp; ${cir} &lt;= 100</body>
                            </command>
                            <nestedSteps>
                                <item guid="a2a61a54-4bea-4587-b314-6e4246e0a081" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2aa7d1c8-8d08-4ec1-9208-62541402347f" action="eval">
                                    <command>
                                        <body>set cbs 1000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ca0504f3-2ffb-4e53-8e12-b51c1fcb6c89" action="elseif">
                            <command>
                                <body>${cir} &gt; 100 &amp;&amp; ${cir} &lt;= 1000</body>
                            </command>
                            <nestedSteps>
                                <item guid="5bdd9b29-d60f-4de7-9ee0-eebaff1cf74d" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e846d3f2-a23c-4ca7-8681-784c252fa5d4" action="eval">
                                    <command>
                                        <body>set cbs 1000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="75bd621f-462d-47ce-8216-59288c85789f" action="elseif">
                            <command>
                                <body>${cir} &gt; 1000 &amp;&amp; ${cir} &lt;= 2000</body>
                            </command>
                            <nestedSteps>
                                <item guid="b09c5786-6bc1-4d88-9524-9ef8e0dfa9eb" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f2ffe264-1c61-4b2f-b3a1-cb8456e20e07" action="eval">
                                    <command>
                                        <body>set cbs 3000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="f6633dc6-34e4-498b-b9b9-b09651d56541" action="elseif">
                            <command>
                                <body>${cir} &gt; 2000 &amp;&amp; ${cir} &lt;= 4000</body>
                            </command>
                            <nestedSteps>
                                <item guid="4bbe89af-6952-493b-96b7-8058f2d4a3d6" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bad66e9a-5602-4306-8d0b-5232b6ef470a" action="eval">
                                    <command>
                                        <body>set cbs 3000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="d779511d-7119-46b9-860f-2b8ff79a6838" action="elseif">
                            <command>
                                <body>${cir} &gt; 4000 &amp;&amp; ${cir} &lt;= 8000</body>
                            </command>
                            <nestedSteps>
                                <item guid="3ef5eacc-3849-4d37-99b4-f44f72974e5f" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f9cfa409-4872-4312-b7f3-9c8037827176" action="eval">
                                    <command>
                                        <body>set cbs 3000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="9a37d444-8cf0-488e-9a19-f78e8fb63c73" action="elseif">
                            <command>
                                <body>${cir} &gt; 8000 &amp;&amp; ${cir} &lt;= 10000</body>
                            </command>
                            <nestedSteps>
                                <item guid="678caff7-1c71-447b-a4a8-2123c87a0bf6" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a2612774-9b16-47c0-a4e1-1cf8ae4e2f07" action="eval">
                                    <command>
                                        <body>set cbs 3000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7222e27d-0242-4439-881d-99f3634c72c2" action="elseif">
                            <command>
                                <body>${cir} &gt; 10000 &amp;&amp; ${cir} &lt;= 40000</body>
                            </command>
                            <nestedSteps>
                                <item guid="30b78512-b0c9-4b2e-b080-4f2149027496" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f284145e-9d8d-4160-8898-1a435f4accd2" action="eval">
                                    <command>
                                        <body>set cbs 4000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="bf109131-6611-4491-8260-2d82223af70b" action="elseif">
                            <command>
                                <body>${cir} &gt; 40000 &amp;&amp; ${cir} &lt;= 100000</body>
                            </command>
                            <nestedSteps>
                                <item guid="33a15af2-e435-44d2-953c-be9bf6f2df08" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b39b697c-4fe3-458d-95a8-0b7f263392a5" action="eval">
                                    <command>
                                        <body>set cbs 4000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="116b6910-7448-4e49-90ce-31139bb289e2" action="else">
                            <command>
                                <body>Error unknown CIR value - need message</body>
                            </command>
                            <nestedSteps>
                                <item guid="79638c4b-3f65-4c63-ba99-8016035cff8c" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="843c1913-1747-4801-82b9-f35d4b0a7559" action="eval" skip="true">
                                    <command>
                                        <body>set cbs 4000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e83350dd-aff1-4b4a-b49d-d008e4cadc70" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b09d1c78-b995-4aa9-acfd-c0f2a28d8f56" action="return">
                    <command>
                        <body>$cbs</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>v1.0</version>
            <arguments>
                <item name="cir">
                    <description>Value defined in service_config.csv</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_port_base_mac" isPublic="true">
            <steps>
                <item guid="77142933-d9e9-4067-a3a9-f9fabe67b006" action="command" session="$session" normalOffset="2.676" estimatedStepExecutionTime="0.23" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>chassis show mac</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Port_Base_mac()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_mac</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                    <responseMap>project://di_ciena/response_maps/chassis_show_mac.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="cb87ef1a-3283-4175-8e6f-fc7e7c80599d" action="eval">
                    <command>
                        <body>puts $port_mac</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9688a7dc-3e74-4c63-ac57-00680d38211f" action="write">
                    <command>
                        <body>$port_mac</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="get_port_speed" isPublic="true" isVBlock="true">
            <description>Use &quot;port show port&quot; to retrieve the port speed and speed units</description>
            <steps>
                <item guid="f405e884-e3b3-4ffc-916f-748e627afc57" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Speed()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query> [return speed]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>admin_units()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query> [return units]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_port.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <multilineDescription>Use &quot;port show port &lt;port number&gt;&quot; to retrieve the </multilineDescription>
            <arguments>
                <item name="port">
                    <description>Get the configured port speed for this port</description>
                    <defaultValue>1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;speed&quot;:&quot;value&quot;,&quot;units&quot;:&quot;value&quot;}</response>
        </item>
        <item name="get_pm_stats" isPublic="true">
            <steps>
                <item guid="a3978b3b-bb2b-4f83-b22a-1d15d18d7d47" action="comment">
                    <command>
                        <body>MIKE new 8x</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b933dd54-3898-4691-8469-9091bf613841" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="718dbf91-0573-43fe-ae61-406236d3a91e" action="comment">
                    <command>
                        <body>Put the Message configuration verification process</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message> =====  Getting PM-INSTANCE SP$port.${sp_id}  on Ciena NTE $session =================</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cd5ba904-627f-4b24-9a65-16dbc76cec71" action="eval">
                    <command>
                        <body>puts &quot;$port          $profile_name          $sp_id          $session&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="876c39cc-caf7-4a33-9065-df9852ea3cf4" action="eval">
                    <command>
                        <body>set pm_port $port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3c8b8907-2b7a-45e9-b0cb-8067ba38fd5b" action="eval">
                    <command>
                        <body>set pm_port SP${port}.${sp_id}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ffc6f958-da3a-419f-b5cb-01d4b68aa07b" action="foreach">
                    <command>
                        <body>port $port</body>
                    </command>
                    <nestedSteps>
                        <item guid="e5981ce5-671f-4f29-a9a2-8671b15d7a9f" action="eval">
                            <command>
                                <body>set pm_port SP${port}.${sp_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="5a9641f0-39bf-47ef-9db0-396bb1f2c8c9" action="command" session="$session">
                            <command>
                                <body>pm show pm-instance $pm_port throughput</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0d99d824-959d-4aac-871e-c5f860db1c57" action="command" session="$session">
                            <command>
                                <body>pm show pm-instance $pm_port total-statistics</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="283dc2c2-5382-42bb-ae75-f0c56353a004" action="command" session="$session">
                            <command>
                                <body>pm show pm-instance $pm_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a31a1a4e-adf7-4d7e-a0c0-508346b0ddde" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="profile_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="session"/>
                <item name="sp_id"/>
            </arguments>
        </item>
        <item name="get_port_stats" isPublic="true">
            <steps>
                <item guid="ff94147b-7d01-4dde-b0f2-cffda785054e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3425e0b1-af71-410b-967b-912fee63400e" action="comment">
                    <command>
                        <body>Rx and TX Unicast Packet data -  NOT PRESENT set default of N/A</body>
                    </command>
                    <nestedSteps>
                        <item guid="0c9029e1-1fd1-43d6-aa01-2c14fd325824" action="eval">
                            <command>
                                <body>set tx_unicast N/A</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="dfce5c92-c493-4ead-8a54-b89329535f7f" action="eval">
                            <command>
                                <body>set rx_unicast N/A</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c93c0797-2ac9-444a-8e32-b5d33354c3bd" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d65e0713-f9b7-4913-9b98-dbd67a8feb29" action="command" session="$session">
                    <command>
                        <body>port show port $port statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;RxPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_rx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;TxPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_tx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;RxUcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;TxUcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;RxMcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;TxMcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>parameter()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>paramData</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>valueData</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4122e430-59d9-4135-9297-bcf86bee2642" action="comment">
                    <command>
                        <body>Write the captured data out</body>
                    </command>
                    <nestedSteps>
                        <item guid="796f1910-1e17-4ad9-ac4a-85f358f73d06" action="write">
                            <command>
                                <body>port_TX = $nte_tx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="34ba6196-abe1-4fd4-b507-8658323c2163" action="write">
                            <command>
                                <body>port_RX = $nte_rx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="54e87507-b42e-4977-aeea-051075dc851c" action="write">
                            <command>
                                <body>port_UniTX = $tx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="df5ce768-f744-4a78-b0f0-e047fe824de9" action="write">
                            <command>
                                <body>port_UniRX = $rx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6b715e6f-c7d8-452c-a1cd-a9d9d7c6d2e1" action="write">
                            <command>
                                <body>port_MultiTX = $tx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="004d8abc-4e9a-4f3d-b0dd-8fdc2b7f7934" action="write">
                            <command>
                                <body>port_MultiRX = $rx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2007ad10-c96c-4490-867e-b08af808e5da" action="write">
                            <command>
                                <body>port_GrnDrop = NA \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c45d324d-ff10-4c8d-a10a-52f9ce4b473a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_resolved_cos_profile" isPublic="true">
            <steps>
                <item guid="0911904b-281e-41e4-8aa9-73abd18790d8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0e306cc2-ab70-46de-96f7-34f160ea9a5c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="19657017-a1d6-46c0-8f9b-bca608050222" action="command" session="$session">
                    <command>
                        <body>traffic-services cos-mapping resolved-cos-profile show</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a2d7b63d-e259-486b-b0de-5bff76d9379c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="47e3af2e-5dab-4250-9904-80ddc512d2b5" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1dd7895a-0337-4890-877a-deb64f9248c0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="get_rx_rate_on_port" isPublic="true">
            <steps>
                <item guid="6e742395-db0b-4645-80a1-b28b469bb994" action="comment">
                    <command>
                        <body>This procedure returns average rate in Mb/s on the rx passed as argument.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="51161bf7-4e06-4c63-a78b-df6872a07e7c" action="comment">
                    <command>
                        <body>It tries 5 times to get the output and takes an average and returns it.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f826ba0b-722a-4850-83c7-d8430cdc41b6" action="eval">
                    <command>
                        <body>set total  0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0c94377a-069b-464a-ae8d-a40a99efa3c8" action="eval">
                    <command>
                        <body>set repeat 5</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3ec15484-17ec-4198-a772-0f4e7e571cbe" action="for">
                    <command>
                        <body>{set i 0} {$i &lt; $repeat } {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="19eaaa15-798b-4c7a-b74b-0f3a72f37e8b" action="comment">
                            <command>
                                <body>Repeat this command for up to 3 times and get an average</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6b14b7ed-6136-4b32-b556-69bee5478588" action="command" session="$session" useResponseMapLibraryApplicability="false" useAutoMap="false">
                            <command>
                                <body>port show throughput act</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_activity</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                        <item guid="1ea319f7-f1dd-4e03-8fd4-f4c6cc4b3db7" action="eval">
                            <command>
                                <body>set value  [query port_activity rx_bit_rate_by_port($myport)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="51063eea-bd42-4b7c-8f2c-feabb7d8d984" action="comment">
                            <command>
                                <body>remove the character &quot;*&quot; in the value if present.</body>
                            </command>
                            <nestedSteps>
                                <item guid="77c892e1-4189-4fa4-83c6-a813c83c5b27" action="eval">
                                    <command>
                                        <body>set value  [regsub {\\*} $value  &quot;&quot;]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4e76a27f-e75d-4b7e-8f71-d4cd5e57363d" action="if">
                            <command>
                                <body>[string length $value ] == 0 </body>
                            </command>
                            <nestedSteps>
                                <item guid="d324d8a2-a0e8-437a-b731-1ea8f36de868" action="then">
                                    <nestedSteps>
                                        <item guid="401df307-957c-4af9-ba10-71be44986528" action="comment">
                                            <command>
                                                <body>empty string</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8eeb08a4-957a-4ab2-8a0b-7ee901c3b035" action="else">
                                    <nestedSteps>
                                        <item guid="685cd6d2-e2ff-4458-86f1-1be1f00fa855" action="comment">
                                            <command>
                                                <body>Now you can add the value.</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="5dc450e8-921e-48c2-8c0e-3818e7313a3d" action="eval">
                                            <command>
                                                <body>set total [ expr $total + $value]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c24fbf5b-b46a-4669-9a2e-b1722fc6db60" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9b89ecaa-c554-49f8-a718-ce0d48d97ac0" action="eval">
                    <command>
                        <body>set average [ expr $total/$repeat]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6a2ed602-2ca4-482f-bf52-9eb2e727f43e" action="return">
                    <command>
                        <body>$average</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="session">
                    <description>This is the seesion</description>
                </item>
                <item name="myport">
                    <description>Port on which the rx rate is requested - Rate is Mb/s.</description>
                </item>
            </arguments>
        </item>
        <item name="get_traffic_profiling_stats" isPublic="true">
            <description>SAOS 8x &apos;get_traffic_profiling_stats&apos;; Utilizes sub-port statistics</description>
            <steps>
                <item guid="1a79bdf3-f882-4eb6-bfd0-8d6b5c7ec1b8" action="comment">
                    <command>
                        <body>MIKE new 8x</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2771069-70fa-4aa6-a190-0ac4f4165d0a" action="eval">
                    <command>
                        <body>puts &quot;$port          $profile_name          $sp_id         $session &quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b31cd475-ca1a-422a-bc2b-401040970147" action="comment" skip="true">
                    <command>
                        <body>Show the PM statistics - informational ONLY</body>
                    </command>
                    <nestedSteps>
                        <item guid="b07da8a7-a9ca-4bd4-8978-81ff1a12808e" action="call">
                            <command>
                                <body>get_pm_stats -port $port -profile_name $profile_name -session $session -sp_id $sp_id</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4f6d731d-0e35-4251-ad19-9408903200be" action="command" session="$session">
                    <command>
                        <body>sub-port statistics show sub-port SP${port}.${sp_id}</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Rx Accepted Frames&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>acceptedPackets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Rx Dropped Frames&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>droppedPackets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Sub Port Name&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>profileName</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Rx Accepted Bytes&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>acceptedBytes</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Rx Dropped Bytes&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>droppedBytes</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Tx Forwarded Frames&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>forwardedPackets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Value_by_Parameter(&quot;Tx Forwarded Bytes&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>forwardedBytes</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7f3f0856-c839-409c-8ebe-e2a575efc15a" action="comment">
                    <command>
                        <body>Set write data</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d427720c-14f5-4611-820a-9c8dc7bfccfc" action="write">
                    <command>
                        <body>ingress_GrnTotal = $acceptedPackets \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9a8b8cf8-7260-4722-a725-6f2ea377c408" action="write">
                    <command>
                        <body>ingress_Red = $droppedPackets \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="profile_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="sp_id"/>
            </arguments>
        </item>
        <item name="get_tx_rx_stats" isPublic="true">
            <steps>
                <item guid="63f3fd5a-d960-482c-8c7b-5ccb53c83e06" action="command" session="$session">
                    <command>
                        <body>port show port $port statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_rx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_tx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4fd2b425-7dcd-4e6a-a0d5-f054cf5b711a" action="comment">
                    <command>
                        <body>Write the stats to the output of the QC</body>
                    </command>
                    <nestedSteps>
                        <item guid="67d0d81a-5cf9-48ee-890e-ba142bdbadef" action="write">
                            <command>
                                <body>nte_tx_frames = $nte_tx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f07e11b2-4c8c-4d7d-b6ac-33593d9d2f7d" action="write">
                            <command>
                                <body>nte_rx_frames = $nte_rx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="341a1c50-53a8-4e32-b47b-796b8fb87fc3" action="write">
                            <command>
                                <body>tx_unicast = $tx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c9d4c511-7649-42b2-9ff0-f535f4eb421b" action="write">
                            <command>
                                <body>rx_unicast = $rx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ed8f4198-65c6-4676-be79-80b9610f9b07" action="write">
                            <command>
                                <body>tx_multicast = $tx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e8ce3f26-d5ef-42bc-bf0f-395139559657" action="write">
                            <command>
                                <body>rx_multicast = $rx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="86e8117b-7cd8-41a5-bcfe-c522ea342437" action="write">
                            <command>
                                <body>ingress_green_drop = NA \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7ad18b42-e667-46f1-bf78-d5e95925dc2e" action="write">
                            <command>
                                <body>ingress_green_total = $accepted \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a3489769-5913-4942-9f72-8d9beb24ebd5" action="write">
                            <command>
                                <body>ingress_red_frames = $dropped \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="profile_name"/>
            </arguments>
        </item>
        <item name="get_version" isPublic="true">
            <steps>
                <item guid="9b68cf9e-2f13-4535-bcc4-d54c9984b486" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="56495aef-8dd0-449b-a09f-070f6b44996e" action="comment">
                    <command>
                        <body>* Procedure to return the nte hostname and software version.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fd6df009-fdde-424f-919a-13d9d003cc5c" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="00a8f2c6-7076-43cd-b778-115e190ecc16" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b78e5a12-2597-4798-81a9-c0c2d9525354" action="command" session="$session">
                    <command>
                        <body>system show host-name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\| Oper \\|\\s+(\\S+)\\s+\\|$</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>host_name</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e06594ff-c899-4fe9-ab9e-726140406d21" action="command" session="$session">
                    <command>
                        <body>software show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>installed_package()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>version</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>software_package_summary_status_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>summary_list</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>software_package_summary_release_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>release_list</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/so_show_saos.ffrm</responseMap>
                </item>
                <item guid="1f838c3b-4841-4620-b800-d6cfff26bb52" action="comment">
                    <command>
                        <body>search the summary_list for the location of &apos;running&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d20a5040-69b8-497c-bdd8-4b8482234596" action="eval">
                    <command>
                        <body>set running_loc [lsearch -all $summary_list running]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="35762d22-8ca9-4634-961c-a004f30e5751" action="eval">
                    <command>
                        <body>set version [lindex $release_list ${running_loc}]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7fb44d5e-a914-4a90-bec9-b1ba9bf51321" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="06ba7f4a-f99a-43ac-8cb8-47d3648945f8" action="write">
                    <command>
                        <body>${host_name}: $version</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="login" isPublic="true" isVBlock="true">
            <steps>
                <item guid="f76b89f8-6392-4df9-b0e7-76c1ba93106e" action="comment">
                    <command>
                        <body>This is the login procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="925ccc02-08ad-4246-ba8d-94b8887c021e" action="comment">
                    <command>
                        <body>This procedure determines if the open is for the TACACS server (BRIDGETON_NOC). </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c8fde238-fd74-4086-aa73-bce01003f642" action="comment">
                    <command>
                        <body>If so it logs in and then telnet&apos;s to the device. If not, the login is to the device directly.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="04e3735e-bb35-4dda-9c56-04d12b17a315" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="6b5c9b89-10e6-4299-a2a8-df2ee3fee64b" action="eval">
                            <command>
                                <body>puts &quot;$ip $userid $password&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a598d280-2625-4ae9-892e-a415bd650648" action="eval">
                    <command>
                        <body>set continue_login 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="80f955b4-b593-4cab-b6b8-bac94b8e2a51" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;*&gt; &quot; $value]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;BRIDGETON NOC:&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message> Hit BRIDGETON_NOC</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>noc_login</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>device_login -session $session -userid $userid -password $password</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;login&quot; || $value == &quot;username&quot; || $value == &quot;Username&quot; </expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set continue_login 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message> Did not receive login prompt. Prompt: $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set continue_login 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5e6d41c1-d30b-4d44-8163-4b55e86eee3e" action="if">
                    <command>
                        <body>$continue_login</body>
                    </command>
                    <nestedSteps>
                        <item guid="b948ca4a-747a-4090-ba6a-aabf5ca2834f" action="then">
                            <nestedSteps>
                                <item guid="f3c3f375-93ae-46f3-8113-2aeeb5857a76" action="comment">
                                    <command>
                                        <body>Continue the login - send credentials and return the prompt</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6dfc651e-b2fb-473f-8183-222ef5405919" action="call">
                                    <command>
                                        <body>send_login -session $session -userid $userid -password $password</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/promptname</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>[return promptname]</query>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c661b509-b8da-4eb6-917a-6a694f93515a" action="else">
                            <nestedSteps>
                                <item guid="9c143d32-2841-47b8-ae67-889143076243" action="eval">
                                    <command>
                                        <body>puts &quot;Login Failed&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^Login Failed$</regex>
                                                        <extractionGroupIndex>0</extractionGroupIndex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>[return promptname]</query>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Check the prompt to determine if login is through a hop-off server (Bridgeton NOC).
A block procedure which returns the promptname.
Then call appropriate login procedure, send_login(),  noc_login()
Checks the prompt for success, or other.
Other prompts include username: or Username</multilineDescription>
            <arguments>
                <item name="userid">
                    <description>User name for login</description>
                    <defaultValue>[param device/userid]</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <description>User password for login</description>
                    <defaultValue>[param device/password]</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ip">
                    <description>If logging in through the NOC then the IP of the destination is required</description>
                </item>
            </arguments>
            <response>{&quot;promptname&quot;:&quot;value&quot;}</response>
        </item>
        <item name="noc_login">
            <description>Bridgeton NOC login</description>
            <steps>
                <item guid="959b2b54-2da1-473c-9463-303a7ea60eaf" action="comment">
                    <command>
                        <body>Login to the bridgeton NOC. These credentials are taken from the global parameter file in each user&apos;s project.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="98d2878f-e84c-402f-8436-6c5f8fa358ef" action="comment">
                    <command>
                        <body>This is a local procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="524ce229-1de5-4820-ad3a-b1d84bcc0d8a" action="command" session="$session">
                    <command>
                        <body>send_login -userid $userid -password  $password</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5de2c667-5001-4242-85ce-4a08fb78f5a2" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="port_show_ethernet-config" isPublic="true">
            <steps>
                <item guid="a441de1c-4ec6-46d0-828b-96bbdb6b7627" action="comment">
                    <command>
                        <body>port show ethernet-config</body>
                    </command>
                    <nestedSteps>
                        <item guid="76b195f7-59c7-4480-b18d-1f5eaacd14ca" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>port show ethernet-config</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_show_output</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>$nni_port does not exist on $session</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show1.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="port_show_port" isPublic="true">
            <steps>
                <item guid="89d9274a-3abd-402c-b487-7fea25399007" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>admin_by_field(&quot;MAC Address&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_mac_address</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/ciena_port_show_port.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="f42b97fd-e8fa-4859-ae6a-819c2b6f67aa" action="write">
                    <command>
                        <body>mac_address $nte_mac_address</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="remove_cfm_service_mep" isPublic="true">
            <steps>
                <item guid="aaa259b6-1a65-4b87-91e9-fb429c408e1e" action="command" session="$session">
                    <command>
                        <body>cfm mep delete service &quot;${md}serv&quot; mep $mep_id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2c54bf8b-7b88-45b6-a7c0-f0182d4ef441" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="35e42f62-0a29-4222-84aa-1b23035915f0" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="mep_id"/>
            </arguments>
        </item>
        <item name="remove_mep" isPublic="true">
            <steps>
                <item guid="d89e72f1-d309-4073-9633-52a6eaf83965" action="comment">
                    <command>
                        <body> cfm mep delete service vpls:2980-4serv mep 1030</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3d3cd7fd-3062-4ae3-830f-4f5b1af19b60" action="command" session="$session">
                    <command>
                        <body>cfm mep delete service &quot;${md}serv&quot; mepid $mep_id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="level"/>
                <item name="ccm_interval"/>
                <item name="component"/>
                <item name="vlan"/>
                <item name="port"/>
                <item name="interface">
                    <defaultValue>2</defaultValue>
                </item>
                <item name="mep_id"/>
                <item name="up_down_status">
                    <defaultValue>up</defaultValue>
                </item>
                <item name="ccm_priority">
                    <defaultValue>6</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="retrieve_port_statistics" isPublic="true">
            <steps>
                <item guid="bdde572c-1776-4be3-9bd4-3bacd494f10c" action="command" session="$session">
                    <command>
                        <body>port show port $port_number  statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>RxPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_received_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>RxInErrorPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_error_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>RxDropPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_drop_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JabbersPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_jabber_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9cbfa65f-745b-4e41-b0fe-a0836a9e6395" action="write">
                    <command>
                        <body>Recd_pkts:$Rx_received_packets\\r\\nRecd_error_pkts:$Rx_error_packets\\r\\nRecd_drop_pkts:$Rx_drop_packets Recd_jabber_pkts:$Rx_jabber_packets\\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7fab5106-9a8d-44d8-9c56-9c0e6f09728a" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="port_number"/>
            </arguments>
        </item>
        <item name="retrieve_port_tp" isPublic="true">
            <steps>
                <item guid="90207079-9ab3-4840-8cc2-1a706c4b24c6" action="comment">
                    <command>
                        <body>This retrieves traffic profile for a given port. This will work both for EWS and ERS ( the output is slightly different).</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="20b74eb8-4c18-4b49-8f15-b6a61f94a2d9" action="comment">
                    <command>
                        <body>Returns three values: port  traffic-profile-name and cir</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f4348b1b-b952-4851-927e-26eb2468f628" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile sho port $port_number</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>port()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>r_port_number</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>traffic_profile()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>r_tp_name</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>cir()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>r_cir_value</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9e17a906-894f-46a4-9a1e-df793c9b96a8" action="return">
                    <command>
                        <body>port:$r_port_number\\r\\ntraffic_profile:$r_tp_name\\r\\ncir:$r_cir_value\\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="faa06734-19b9-4abf-b0c7-599bddf9a790" action="comment">
                    <command>
                        <body>****************************************************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d3ea81f4-6996-4899-aa7d-fcf6cd3c6d91" action="comment">
                    <command>
                        <body>** getCBS - calculates the CBS/EBS for a given Ciena NTE and CIR                     ***</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="725b1c4c-ebcf-4d1a-bc83-057acb107b93" action="comment">
                    <command>
                        <body>** The lookup table is in the csv file jumpTable.csv in the session profile Ciena     ***</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2956107e-9733-4c52-a96d-c6fa4b8cb6ad" action="comment">
                    <command>
                        <body>****************************************************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="port_number"/>
            </arguments>
        </item>
        <item name="retrieve_port_vs" isPublic="true">
            <steps>
                <item guid="a3e94dda-b97c-4741-8e07-5cab379abd1c" action="comment">
                    <command>
                        <body>This retrieves a virtual-switch name on a given port on the nte.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5e617ecd-b612-4cfd-abaa-1141c6d6b8ac" action="comment">
                    <command>
                        <body>This finds multiple occurrences of the virtual-switch on the UNI  port. If there are multiple occurrences then</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4111a7c3-da59-4f02-ae19-8340adaadaa5" action="comment">
                    <command>
                        <body>this return will have to parsed to get each one separately.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7c2e0f5f-12af-49bc-86eb-789ec50e33c1" action="command" session="$session">
                    <command>
                        <body>virtual-sw ethernet show </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rowCount()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>no_of_vs</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>vs_show_all</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="090b1505-03c3-4849-8577-2e1b53e70500" action="for">
                    <command>
                        <body>{set i 0} {$i &lt; $no_of_vs} {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="12dc20d8-3052-4604-a786-231b617515ff" action="comment">
                            <command>
                                <body>table indexing begins with 1 NOT 0 and so the index needs to be adjusted here.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3e0ff9ae-0646-4f40-b35a-b1e8de0d7ce9" action="eval">
                            <command>
                                <body>set table_i [ expr $i +1 ]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="415a10a7-87b7-4c06-9542-b07b44149883" action="eval">
                            <command>
                                <body>set r_vs_name [query vs_show_all (mapped/Tabular/virtual_sw_total/table/row/vs_name)\\[$table_i\\]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0fad6d16-130a-4802-b607-400d13dbe6e3" action="retrive_vs_info" session="$session">
                            <command>
                                <body>-ciena_nte ciena -virtual_switch $r_vs_name</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>group1()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>r_port</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                        <skip>true</skip>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>r_port</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ff22c17b-b821-4d2d-a131-65d8e60f7654" action="if">
                            <command>
                                <body>$r_port == $port_number</body>
                            </command>
                            <nestedSteps>
                                <item guid="7816844e-b841-463f-9fb3-b84ff7893690" action="then">
                                    <nestedSteps>
                                        <item guid="2641f70f-c63e-4982-99fa-346d65ba923a" action="write">
                                            <command>
                                                <body>&quot;$r_vs_name &quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="84b0e5c8-e001-4147-bf51-5df4be8f2b0a" action="else">
                                    <nestedSteps>
                                        <item guid="5b4a0ea2-61b2-42fc-aa88-dea0125d8976" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="port_number"/>
            </arguments>
        </item>
        <item name="retrive_vs_info" isPublic="true">
            <steps>
                <item guid="6b6b8c40-25c7-4271-a443-b49e42018707" action="command" session="$session">
                    <command>
                        <body>virtual-switch ethernet show vs $virtual_switch </body>
                    </command>
                    <postProcessing isStoreResponseGlobal="true">
                        <storeResponseAt>rtrv_response</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2ecbf282-8999-429d-aab3-e32d7efb815a" action="eval">
                    <command>
                        <body>set port [query /data/rtrv_response port()]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3667824a-d002-4680-9c4e-bcc51f2972db" action="if">
                    <command>
                        <body>$port == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="6cea868e-30be-459a-b071-d02e93b2e765" action="then">
                            <nestedSteps>
                                <item guid="843d9797-121a-4f9e-89fb-e18a8de96c09" action="eval">
                                    <command>
                                        <body>set port 9999</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="83c687d8-840c-423f-b825-8b99a3fc9630" action="else">
                            <nestedSteps>
                                <item guid="8ea2f5da-1f99-4c32-92f5-a9919aa17c7c" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6da77894-a3d4-49d1-909e-abf4d966c3fa" action="eval">
                    <command>
                        <body>set cvlan [query /data/rtrv_response cvlan()]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="636c80ae-9fae-4ec8-88b1-e8ec8b7d5dd8" action="return">
                    <command>
                        <body>$port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="virtual_switch"/>
            </arguments>
        </item>
        <item name="send_login" isPublic="true" isVBlock="true">
            <description>Quickcall for Juniper login</description>
            <steps>
                <item guid="31c45a8f-2cf0-4573-88d9-625e048f8542" action="comment">
                    <command>
                        <body>Send userid, password to the session</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="69580ae9-13f0-4f86-b447-3132e9c3b386" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="1821970a-9bd3-4089-a009-914304d29468" action="eval">
                            <command>
                                <body>puts &quot;$session $userid $password&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a016289c-07a6-4b5f-89d8-ce2f0ff33960" action="comment">
                    <command>
                        <body>If authentication times out repeat up to 3 times</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9adafffc-43cf-444f-9193-5846839a8fd0" action="for">
                    <command>
                        <body>{set tries 1} {$tries &lt;= 2} {incr tries}</body>
                    </command>
                    <nestedSteps>
                        <item guid="c71c8699-9cc8-4968-a0a5-d9be79f25d20" action="command" session="$session">
                            <command>
                                <body>$userid</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="1e8b5435-675d-4852-ba74-57be28aa48d1" action="command" session="$session">
                            <command isEncrypted="true">
                                <body masked="true">CNDluA9EJ23wammPrSnywg==</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>The system is low on memory.</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message> Cannot login  $session : The system is low on memor</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set login_failed 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Break">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set login_failed 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>promptName()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>[string match normal $value]  ||  [string match private $value]</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Break">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>promptName()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>var1</storageLocation>
                                                <query>[return promptname]</query>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="10.0" expectedIdleTime.inherit="false">
                                    <idleChannel inherit="false" sub="true">1000</idleChannel>
                                </completionProperties>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0eff544e-66f9-4cd0-9a3f-efa359cffdca" action="comment">
                    <command>
                        <body>If we retried and can&apos;t login set failure</body>
                    </command>
                    <nestedSteps>
                        <item guid="3aed18c5-84d4-44e7-8584-58ef66aceee0" action="if">
                            <command>
                                <body>$tries == 3 || $login_failed</body>
                            </command>
                            <nestedSteps>
                                <item guid="57334021-701b-4e97-a824-469772a64ee3" action="then">
                                    <nestedSteps>
                                        <item guid="28258acf-d0a9-4370-9c26-9079dcdd5fd9" action="comment">
                                            <command>
                                                <body>Login failed</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="9cc19c65-683a-4be4-8f91-e70145427527" action="eval">
                                            <command>
                                                <body>puts &quot;Login Failed&quot;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="regex">
                                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                                <regex>^Login Failed$</regex>
                                                                <extractionGroupIndex>0</extractionGroupIndex>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>var1</storageLocation>
                                                                <query>[return promptname]</query>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Quick call for Juniper devices through the Bridgeton NOC
A block procdure which returns the promptname. This is checked by the caller to determine success/fail.</multilineDescription>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;promptname&quot;:&quot;value&quot;}</response>
        </item>
        <item name="set_cfm_domain" isPublic="true">
            <steps>
                <item guid="19d1426a-2708-48a9-abc6-0b3a52d2eed3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2552a1c0-9b47-4a56-afc4-feca3d01f110" action="command" session="$session">
                    <command>
                        <body>cfm md set md ${md} name ${new_md}</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="14ef43d3-ed96-45fc-beaa-e6f89e3464f0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="new_md"/>
            </arguments>
        </item>
        <item name="set_cfm_domain_level" isPublic="true">
            <steps>
                <item guid="5952521d-46c8-40ca-a088-ee658141ed12" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5e70233f-a60c-429a-b16e-efc1889f9ba3" action="command" session="$session">
                    <command>
                        <body>cfm service disable service ${service_id}</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b51f3df5-fc9e-4b3b-84f4-dfe38b3aeab6" action="command" session="$session">
                    <command>
                        <body>cfm md set md ${md} level $level</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a066d890-a42d-4fa0-8179-80a852b54541" action="command" session="$session">
                    <command>
                        <body>cfm service enable service ${service_id}</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="264d5aea-b126-4ac3-949c-a8d1e955eca5" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="service_id"/>
                <item name="level"/>
            </arguments>
        </item>
        <item name="set_cfm_service_ma" isPublic="true">
            <steps>
                <item guid="7fb59a39-31c6-4735-aa2c-a15efab8c326" action="command" session="$session">
                    <command>
                        <body>cfm service set service &quot;${md}$old_ma&quot; ma-name-string $ma</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="old_ma"/>
            </arguments>
        </item>
        <item name="show_agg_link_status" isPublic="true">
            <steps>
                <item guid="7b143e18-4b49-4eb8-9869-da9d12d8a5d0" action="comment">
                    <command>
                        <body>The procedure  checks the status of the aggregation link on a Ciena EMUX 3940 and 5140 </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3e27d1a1-d88e-4dc3-9c8f-d5c7eb664689" action="comment">
                    <command>
                        <body>Check port is active and the status is &apos;Up&apos;</body>
                    </command>
                    <nestedSteps>
                        <item guid="44a33083-f18a-4b2b-926a-14cf2c6d94c0" action="command" session="$session">
                            <command>
                                <body>port show</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true"> operational_link_by_port_name(&quot;$port&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value eq $expected_status</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message> Port: $port on $session is ${expected_status} ...</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message> Port: $port on $session is not ${expected_status} ...  Please investigate</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>port_show_output</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>$nni_port does not exist on $session</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show1.ffrm</responseMap>
                        </item>
                        <item guid="e4910203-b7d5-40d5-8924-a5af1ca6efd2" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>port show throughput active</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_show_status</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="expected_status">
                    <defaultValue>Up</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="show_oam_ethernet_link_fault_management_interface" isPublic="true">
            <steps>
                <item guid="e11d6b66-ee49-4ae3-be0b-13d663b94a6b" action="command" session="$session">
                    <command>
                        <body>show oam ethernet link-fault-management $interface</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="interface"/>
            </arguments>
        </item>
        <item name="shut_down_ccm" isPublic="true">
            <steps>
                <item guid="21a0333b-f2d7-4fc5-a8e9-6b4fcd34ad31" action="command" session="$session">
                    <command>
                        <body>cfm service disable service &quot;${md}serv&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5dc9ff2a-ea79-4833-b0e0-240d4fd90197" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="interface"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="toggle_cfm_global_state" isPublic="true">
            <description>Toggle the CFM service state</description>
            <steps>
                <item guid="3292e989-c81a-4451-ba64-63d70d5ad0fb" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="35c789cf-1774-40c0-9748-2cff8e05c22e" action="command" session="$session">
                    <command>
                        <body>cfm [get global_state]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b2447a21-dc53-478f-8ad1-2551aa079bbe" action="comment">
                    <command>
                        <body>Show and store global admin state</body>
                    </command>
                    <nestedSteps>
                        <item guid="0a422014-0120-489c-aee1-8e47cc0234c6" action="command" session="$session">
                            <command>
                                <body>cfm show</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>cfm_global_config_value_by_key(&quot;Admin State&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_state</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e80b401-6101-45b7-a62c-5303f8d69301" action="comment">
                    <command>
                        <body>manupulate the stored value text to utilize for state validation</body>
                    </command>
                    <nestedSteps>
                        <item guid="412cbd00-9c57-4f65-a060-1041919f82e7" action="eval">
                            <command>
                                <body>set mod_current_state [string tolower ${current_state}]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a8b022f3-e8e7-4e42-b9e0-9df67cd6abfc" action="comment">
                    <command>
                        <body>Report/Return result</body>
                    </command>
                    <nestedSteps>
                        <item guid="66be28f7-7d7c-49a6-8d0a-630f626e0489" action="if">
                            <command>
                                <body>[string equal -nocase [get global_state] [get mod_current_state]]</body>
                            </command>
                            <nestedSteps>
                                <item guid="efe99e14-7ca2-44c3-a7da-f5d90fe9e4d7" action="then">
                                    <command>
                                        <body>state == requested</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e42c7dea-c8d9-406e-8f36-63fb24a6e3d5" action="return">
                                            <command>
                                                <body>SUCCESS: State set to [get current_state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="95fc8a57-128e-4af1-b239-d57bff3af74a" action="else">
                                    <command>
                                        <body>state != requested</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="16361dd3-e1e0-491d-88a1-a17be2b764a9" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4eebba2d-abac-47e9-b0a3-5a66cdd5a20d" action="return">
                                            <command>
                                                <body>ERROR: Setting New State value [get current_state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2ba3bf2-7e19-41c3-83f1-3844c0119b77" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>1.1</version>
            <multilineDescription>Globally enable or disable a cfm service</multilineDescription>
            <arguments>
                <item name="global_state">
                    <defaultValue>enable</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="toggle_mep_state" isPublic="true">
            <description>Toggle the MEP state of defined device</description>
            <steps>
                <item guid="c15a1407-0edd-43e2-8889-1b7c7e4fe8b8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6688e58e-3ebd-4ad7-b4f1-de8c9441cb88" action="command" session="$session">
                    <command>
                        <body>cfm service [get mep_state] service [get service_name]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6fda3cd7-ff3a-4fad-8ce2-1a44a8f51209" action="comment">
                    <command>
                        <body>Get the state after toggle</body>
                    </command>
                    <nestedSteps>
                        <item guid="58140976-ab60-4e6e-9cf5-0abd68a04bc2" action="command" session="$session">
                            <command>
                                <body>cfm service show service [get service_name] mep</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="a90c2330-ef40-4239-a5a7-cf823ac1ae3c" action="command" session="$session">
                            <command>
                                <body>cfm service show service [get service_name]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>Value_by_Parameter(&quot;Admin State&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_state</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1d36ada2-34e8-41d4-8eeb-9693d44812f3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7a5a4375-995e-4aea-81aa-6d03c0b280db" action="if">
                    <command>
                        <body>[string match -nocase [get mep_state] enable]</body>
                    </command>
                    <nestedSteps>
                        <item guid="d98f3d10-4fa7-4b20-80aa-3bf81735d7b9" action="then">
                            <nestedSteps>
                                <item guid="438f4764-c53b-4f39-a0bc-af155890171c" action="comment">
                                    <command>
                                        <body>Build return message</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="35c2fd07-ab15-436d-bce2-96bb1b61aa92" action="eval">
                                    <command>
                                        <body>puts [get current_state]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^enabled$</regex>
                                                        <extractionGroupIndex>0</extractionGroupIndex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;enabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat SUCCESS: MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat ERROR: Setting New MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ac9b8fa4-ee9e-496f-b18d-214bff2c0c8e" action="return">
                                    <command>
                                        <body>[get return_msg]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a5a89400-a546-4369-81a8-5950b5bb669f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4b4d2837-8af7-4b8f-8ccc-2da1eb28df00" action="elseif">
                            <command>
                                <body>[string match -nocase [get mep_state] disable]</body>
                            </command>
                            <nestedSteps>
                                <item guid="9b440cf8-ed8d-4ec9-ae43-65a9b14a5bf8" action="comment">
                                    <command>
                                        <body>Build return message</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2caa063d-daed-42fc-8e10-1b8ee16f1f36" action="eval">
                                    <command>
                                        <body>puts [get current_state]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^disabled$</regex>
                                                        <extractionGroupIndex>0</extractionGroupIndex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;disabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat SUCCESS: MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat ERROR: Setting New MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="77314892-e25c-4290-929e-663305382a11" action="return">
                                    <command>
                                        <body>[get return_msg]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="106600c2-d3d6-43e6-8d3c-2f7e5c37dc0f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cbecea5c-779b-4687-9389-95ff7bd41990" action="else">
                            <nestedSteps>
                                <item guid="40c8127a-a440-403a-836b-fb267483e77c" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="754fbaa1-9301-44e6-8e3a-ffaec831e7d2" action="return">
                                    <command>
                                        <body>ERROR:Invalid MEP State value [get mep_state]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1ec6385d-cead-4825-a112-fc7a1308b1c3" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a66caf68-fd44-48f7-b9bd-f08f5e6ff6c0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>1.1</version>
            <arguments>
                <item name="mep_state">
                    <description>Valid values: enable | disable</description>
                    <defaultValue>disable</defaultValue>
                </item>
                <item name="service_name">
                    <description>service handle associated with MEP</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mepid">
                    <description>MEP id to operate upon</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="verify_cfm_service_fault" isPublic="true">
            <description>Query each service domain for status and report</description>
            <steps>
                <item guid="a76bf56c-61f8-4c83-9882-7cb930ee73f1" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9137abb3-8575-4de7-8d5f-4880d907e2c4" action="comment">
                    <nestedSteps>
                        <item guid="bc75f953-5172-492a-b656-d7b4c4543253" action="eval">
                            <command>
                                <body>set nullExpected &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c7aee54a-70c0-4552-a5d8-9b3439e60c13" action="eval">
                            <command>
                                <body>set serviceError &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="b90d19fd-97e9-46b7-8e41-7b88e93524b8" action="eval">
                            <command>
                                <body>set serviceFaultPresent 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="42adf921-1be8-45d6-b605-b5bff1ce0907" action="if">
                    <command>
                        <body>$log_report</body>
                    </command>
                    <nestedSteps>
                        <item guid="213c5241-18c9-4912-9e65-fa29e83a8482" action="then">
                            <nestedSteps>
                                <item guid="1803ed4d-b038-4e10-b74c-bf94065ed2a4" action="comment">
                                    <command>
                                        <body>write output to log file</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5d8128e5-1e24-43b6-b2f6-0dcc1be3e504" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>fault_list</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>cfm_service_show_service</storeResponseAt>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="95587947-eac9-47af-914e-8bffa551c1dd" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6f317a2c-af93-45dc-a806-f41b6ec4feb4" action="else">
                            <nestedSteps>
                                <item guid="c8c249d4-16d8-430c-94b1-8c680fa74b8e" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="27e24323-7b12-4027-b67d-836ad19e6f6f" action="comment">
                                    <command>
                                        <body>Use to store response to: cfm_service_show_service</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="794c55d9-6050-4e04-968d-2be6b67ede92" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>fault_list</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="fee0347f-8460-47b7-9b47-6218bbd07e81" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7ff3bc58-a205-4bc8-a1b6-82d1ac4242dd" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a5361c4a-c437-41e0-a76f-a3576363f9d2" action="write">
                    <command>
                        <body>Service Fault is: [get fault_list]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9dd9ddbd-7a78-4d95-ac3a-03f268c70d78" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="415a9ea1-dbe2-4489-bd20-f7ce8fe5101a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Foreach valid service query for service errors. If error(s) are present,wait 15 seconds and repeat step up to 6 times. If count is exceeded flag set, return value is adjusted accordingly.</multilineDescription>
            <arguments>
                <item name="service_id"/>
                <item name="md">
                    <description>Maintance Domain key</description>
                </item>
                <item name="ma">
                    <description>Maintance Association key</description>
                </item>
                <item name="log_report">
                    <description>debug switch. default value 0 Causes single show command write output to file. </description>
                    <defaultValue>0</defaultValue>
                </item>
                <item name="expected_fault"/>
            </arguments>
        </item>
        <item name="verify_eoam_loopback" isPublic="true">
            <steps>
                <item guid="843853f5-083a-4b8e-a344-102097d95ece" action="command" session="$session">
                    <command>
                        <body>eoam loopback show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Lb_by_Port($port)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;Yes&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>EOAM LOOP BACK is fine</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>EOAM LOOP back is not fine</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="verify_statistics_flag" isPublic="true">
            <steps>
                <item guid="278ca8c8-797e-4788-9de7-b6a0fda82504" action="command" session="$session">
                    <command>
                        <body>virtual-circui eth show vc $vc_name</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>stats_info</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="171659f1-c78f-4bef-9a25-a6f7ecb8814e" action="return">
                    <command>
                        <body>[query stats_info (.//stats_flag)\\[7\\]]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="vc_name"/>
            </arguments>
        </item>
        <item name="verify_version" isPublic="true">
            <steps>
                <item guid="daf5f696-9b73-419b-a5e3-70a76077b819" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="48e51947-a57c-4f7c-bce3-98d640c21cd2" action="comment">
                    <command>
                        <body>* Procedure to verify the version on the ciena nte. It  verifies</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9aff9eeb-72bf-4974-a02d-63a3863ff6b9" action="comment">
                    <command>
                        <body>* that the version running on it is what is required (in the global</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7b867f72-dad5-49af-bdf8-c60898abd076" action="comment">
                    <command>
                        <body>* parameter file.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4c2f20d1-1d98-4b83-b3b3-11d202191039" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5108cfbb-154b-41cf-bde4-a0fc870d6b06" action="eval">
                    <command>
                        <body>set ciena_version_running  [param Versions/ciena]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="916240b5-9888-41af-be04-d2a6c24e098e" action="command" session="$session">
                    <command>
                        <body>system show host-name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\| Oper \\|\\s+(\\S+)\\s+\\|$</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ciena_host_name</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9a391e76-8984-4733-9fa4-b2d9ff3abf46" action="command" session="$session">
                    <command>
                        <body>software show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>installed_package()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq $ciena_version_running</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>The correct version ($ciena_version_running) is running on $ciena_host_name.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>The running version ($value) is not the required version ($ciena_version_running) on $ciena_host_name.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/so_show_saos.ffrm</responseMap>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="verify_service_instance" isPublic="true" defaultSessionProfile="project://di_ciena_next_generation/session_profiles/ciena_saos_next_gen_ref_telnet.ffsp">
            <steps>
                <item guid="0f3dee5a-cbc6-4de2-a2e0-4121ba23ea6f" action="comment">
                    <command>
                        <body>MIKE new 8x</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3c0c651f-b8f2-4279-83a5-3a4f37a53d74" action="comment">
                    <command>
                        <body>Put the Message configuration verification process</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message> =====  Starting Verification of $service_type Configuration on Ciena NTE $session =================</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b1977772-62a7-402e-9b84-0468a5d4f809" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="97709c6d-57eb-4e0f-93dc-60bf8f2220bc" action="eval">
                            <command>
                                <body>puts &quot;rcos_profile_name: ${rcos_profile_name}   svlan: $svlan   cvlan: $cvlan   uni_port: $uni_port   nni_port: $nni_port&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c93010ab-b7f5-4b18-9f32-67bb15a3ca06" action="eval">
                            <command>
                                <body>puts &quot;service_type: $service_type   service: $service   profile_id: $profile_id     nni_precedence: $nni_precedence    uni_precedence: $uni_precedence&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="befee753-5fdf-4f6d-9493-2c6d5b9d14e9" action="eval">
                            <command>
                                <body>puts &quot;vs_name: $vs_name&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="515865e7-1142-43a1-a75a-d694ed4c0372" action="comment">
                    <command>
                        <body>Local variables</body>
                    </command>
                    <nestedSteps>
                        <item guid="99b52391-2ed3-40c8-80c3-a685c2bcdde8" action="eval">
                            <command>
                                <body>set nni_sp_id SP${nni_port}.${profile_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7190db33-635f-4112-815d-781ad63be8c9" action="eval">
                            <command>
                                <body>set uni_sp_id SP${uni_port}.${profile_id}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e950bab9-7d37-4039-8e5a-1940599fcf15" action="eval">
                            <command>
                                <body>set nni_parent_ok 0; set nni_sp_ok 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8dc54e27-b861-49eb-8566-cba0b720943e" action="eval">
                            <command>
                                <body>set uni_parent_ok 0; set uni_sp_ok 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0de8ae05-fee5-4dbe-88c9-95071fa36057" action="eval">
                            <command>
                                <body>set vs_ok 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ff6c36f1-daaa-47a1-86a8-ec70f74dbed0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0a8b61b4-b313-40c0-aedd-6288fde7e11d" action="if">
                    <command>
                        <body>[string match -nocase ${service_type} &quot;ERS&quot;]</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a781927-66ba-4dd9-bd35-dc355c22645f" action="then">
                            <nestedSteps>
                                <item guid="005f2646-247f-4c55-903b-ced362c11e6f" action="command" session="$session">
                                    <command>
                                        <body>sub-port show parent-port $nni_port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Sub_Port_by_Name(\\&quot;[get nni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nni_sp_key</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>[get nni_sp_id]</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$nni_sp_id NOT Found on parent-port $nni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Parent_Port_by_Name(\\&quot;[get nni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$nni_sp_id NOT Found on defined parent-port $nni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Precedence_by_Name(\\&quot;[get nni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $nni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$nni_sp_id precedence mis-match found! Expected: $nni_precedence    Found: $value</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="1cd15307-4fb3-43a1-82c5-b45fefd7e9d2" action="command" session="$session">
                                    <command>
                                        <body>sub-port show parent-port $uni_port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Sub_Port_by_Name(\\&quot;[get uni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>uni_sp_key</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>[get uni_sp_id]</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$uni_sp_id NOT Found on parent-port $uni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Parent_Port_by_Name(\\&quot;[get uni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $uni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$uni_sp_id NOT Found on defined parent-port $uni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Precedence_by_Name(\\&quot;[get uni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $uni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$uni_sp_id precedence mis-match found! Expected: $uni_precedence    Found: $value</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="4d38f30d-c254-4ed5-a2c2-534a20a15c3b" action="command" session="$session">
                                    <command>
                                        <body>sub-port show sub-port SP$nni_port.$profile_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nni_sp_id</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port ID&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $nni_sp_key</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port Link State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;Enabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Precedence&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $nni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Attached VS Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $vs_name</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ba977200-b81e-4af7-86b5-b5e9d5b7200c" action="command" session="$session">
                                    <command>
                                        <body>sub-port show sub-port SP$uni_port.$profile_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $uni_sp_id</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port ID&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $uni_sp_key</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $uni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port Link State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;Enabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>project://di_ciena/session_profiles/ciena_saos_qc.fftc#enable_port -port_num $uni_port -session $session</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="5" delayBetweenRepeats="2.0"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Precedence&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $uni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Attached VS Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $vs_name</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="93bd656e-d474-4a2e-af65-4bff4c22b457" action="command" session="$session">
                                    <command>
                                        <body>virtual-switch show vs $vs_name</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $vs_name</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>attached_sub_port()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>[lsearch $uni_sp_id $value] &gt;= 0</expression>
                                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>attached_sub_port()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>[lsearch $nni_sp_id $value] &gt;= 0</expression>
                                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>attached_cpu_subintfc()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == [concat CPU-SUB$uni_port-$cvlan]</expression>
                                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="2a661511-a620-481f-ab2f-29c2f3d7b67a" action="elseif">
                            <command>
                                <body>[string match -nocase ${service_type} &quot;EWS&quot;]</body>
                            </command>
                            <nestedSteps>
                                <item guid="e6a6f3a3-1717-421d-9449-0771e1e0232f" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b3fff804-250a-4088-ae6b-8e0055a2a716" action="command" session="$session">
                                    <command>
                                        <body>sub-port show parent-port $nni_port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Sub_Port_by_Name(\\&quot;[get nni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nni_sp_key</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>[get nni_sp_id]</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$nni_sp_id NOT Found on parent-port $nni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Parent_Port_by_Name(\\&quot;[get nni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$nni_sp_id NOT Found on defined parent-port $nni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Precedence_by_Name(\\&quot;[get nni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $nni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$nni_sp_id precedence mis-match found! Expected: $nni_precedence    Found: $value</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="7a5c164c-fe23-43c4-b1dd-7478aa9f50ee" action="command" session="$session">
                                    <command>
                                        <body>sub-port show parent-port $uni_port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Sub_Port_by_Name(\\&quot;[get uni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>uni_sp_key</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>[get uni_sp_id]</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$uni_sp_id NOT Found on parent-port $uni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Parent_Port_by_Name(\\&quot;[get uni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $uni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$uni_sp_id NOT Found on defined parent-port $uni_port</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">Precedence_by_Name(\\&quot;[get uni_sp_id]\\&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $uni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_parent_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>$uni_sp_id precedence mis-match found! Expected: $uni_precedence    Found: $value</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="d6eef7d6-d4c2-475c-ab3d-165e33dcaa66" action="command" session="$session">
                                    <command>
                                        <body>sub-port show sub-port SP$nni_port.$profile_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nni_sp_id</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port ID&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $nni_sp_key</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port Link State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;Enabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Precedence&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $nni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Attached VS Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $vs_name</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set nni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="1a83b316-e581-4c61-942c-3efd7488c60d" action="command" session="$session">
                                    <command>
                                        <body>sub-port show sub-port SP$uni_port.$profile_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $uni_sp_id</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Sub Port ID&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $uni_sp_key</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $uni_port</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Parent Port Link State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;Enabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>project://di_ciena/session_profiles/ciena_saos_qc.fftc#enable_port -port_num $uni_port -session $session</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="5" delayBetweenRepeats="2.0"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Precedence&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $uni_precedence</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>sub_port_info_Value_by_Parameter(&quot;Attached VS Name&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $vs_name</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set uni_sp_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="b7f8949c-ecd6-445c-a423-10af3a9590d5" action="command" session="$session">
                                    <command>
                                        <body>virtual-switch show vs $vs_name</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == $vs_name</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>attached_sub_port()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>[lsearch $uni_sp_id $value] &gt;= 0</expression>
                                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>attached_sub_port()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>[lsearch $nni_sp_id $value] &gt;= 0</expression>
                                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>attached_cpu_subintfc()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == [concat CPU-SUB$uni_port-$svlan]</expression>
                                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set vs_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c27818da-5038-44f4-9026-68be3c23e89a" action="command" session="$session">
                                    <command>
                                        <body>pm show pm-instance SP$uni_port.$profile_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="cc57cc85-d69d-477b-92b9-7ca1f10f6a3b" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8cb1f128-af98-4eb5-a428-df802615b9db" action="else">
                            <nestedSteps>
                                <item guid="060b9da1-fd77-435b-b6ac-c899b751fda3" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="392beb09-6a12-4974-8985-850bc55a5504" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9f62920b-c093-49dc-9184-215b67b7d3f7" action="if">
                    <command>
                        <body>[get nni_parent_ok] &amp;&amp; [get uni_parent_ok] &amp;&amp; [get nni_sp_ok] &amp;&amp; [get uni_sp_ok] &amp;&amp; [get vs_ok]</body>
                    </command>
                    <nestedSteps>
                        <item guid="b4cf1237-aa54-4c16-b25e-edc12291046a" action="then">
                            <nestedSteps>
                                <item guid="92d73e6c-1318-4661-aa09-d164d462218c" action="eval">
                                    <command>
                                        <body>set config_status Passed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1a592545-7fd0-4517-b5ad-80fa6b841bc5" action="comment">
                                    <command>
                                        <body>Message we&apos;re finished</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message> =====  Configuration Verification on Ciena NTE $session has $config_status =================</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a7066c62-c5ff-493a-b8b5-32155f8ed3ad" action="else">
                            <nestedSteps>
                                <item guid="34ee1a5f-a4ee-4b23-8f28-1546ea688f6c" action="eval">
                                    <command>
                                        <body>set config_status Failed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="33037de8-655d-45db-9e6a-3fe24f6d9695" action="comment">
                                    <command>
                                        <body>Message we&apos;re finished</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Warning">
                                                        <message> =====  Configuration Verification on Ciena NTE $session has $config_status =================</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="90f6d912-395d-4907-9173-389a2c87267e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8d6394ea-07fd-4b1b-9843-72e03322bdaf" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f4ae2454-57e3-44a5-bfaf-302400f2869d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service"/>
                <item name="service_type"/>
                <item name="rcos_profile_name"/>
                <item name="nni_port"/>
                <item name="uni_port"/>
                <item name="profile_id"/>
                <item name="cvlan"/>
                <item name="svlan"/>
                <item name="nni_precedence"/>
                <item name="uni_precedence"/>
                <item name="vs_name">
                    <description>A value from global &apos;CIENA_VS_DB&apos; for current instance</description>
                </item>
            </arguments>
        </item>
        <item name="check_cfm_global_state" isPublic="true">
            <description>Check the CFM service state during cfm_setup and enable as required.</description>
            <steps>
                <item guid="5cf630f6-1359-46c0-af0d-43f7b2cd9cf0" action="comment">
                    <command>
                        <body>cfm_global_config_value_by_key(&quot;Admin State&quot;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c49f2f10-a9fb-466c-8003-52acd06f14f5" action="eval">
                    <command>
                        <body>set state_ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d860f566-1541-460f-98ec-efac029b7bce" action="command" session="$session">
                    <command>
                        <body>cfm show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>cfm_global_config_value_by_key(&quot;Admin State&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;Disable&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set state_ok 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="afe41a42-738f-4a38-b212-51f0c07a02f0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a0de6fe5-d2d7-492b-9b25-0bd0b2969bcd" action="if">
                    <command>
                        <body>![get state_ok]</body>
                    </command>
                    <nestedSteps>
                        <item guid="9eb6bec6-fc9d-4d5d-afb4-3b66101d7916" action="then">
                            <nestedSteps>
                                <item guid="a7c81ebc-d6af-458c-9929-8222e4c53fff" action="comment">
                                    <command>
                                        <body>Fix it this is called from cfm_setup &amp; ensure it really is.</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ea7f68a7-687a-4822-8013-af5105b75267" action="command" session="$session">
                                    <command>
                                        <body>cfm [get global_state]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="306a8c39-fc43-4916-80e9-0b13a102aa4b" action="command" session="$session">
                                    <command>
                                        <body>cfm show</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>cfm_global_config_value_by_key(&quot;Admin State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq &quot;Enable&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set state_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="72a9bdd4-8ebc-44f5-bbdb-e3e6094748e0" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e67ccb22-5b09-4114-9951-20c338839927" action="if">
                                    <command>
                                        <body>![get state_ok]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0194ed2f-47db-4379-87d8-83aaeb2af324" action="then">
                                            <nestedSteps>
                                                <item guid="fafc7529-a0e0-47c7-a495-cd1901390dc5" action="comment">
                                                    <command>
                                                        <body>Write an error to test report</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="be75dd1e-55e2-4ca3-8624-7dce579719cf" action="else">
                                            <nestedSteps>
                                                <item guid="31c9ad52-902e-4958-8485-12990cb87865" action="comment">
                                                    <command>
                                                        <body>Insert steps here for when expression is false</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="58109ccc-507d-4a4b-a3e1-08849c338b2d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a666cde9-cb62-4caa-9dcc-a056eb47540a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="126623b9-1b30-4b11-9b00-2f6caa15c97f" action="return">
                    <command>
                        <body>[concat state_ok : $state_ok]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7fac60e0-cabe-46c3-8085-c69dcea3a67d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Globally enable or disable a cfm service</multilineDescription>
            <arguments>
                <item name="session"/>
                <item name="global_state">
                    <defaultValue>enable</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="manage_nm_aaf" isPublic="true">
            <steps>
                <item guid="0cbb96ac-7b99-4c19-ad09-3ea0c6d1e24f" action="comment">
                    <command>
                        <body>AAF - Mike New</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="62bcc6ba-06ce-4656-a70c-bc5ed30e5a35" action="if">
                    <command>
                        <body>[string match -nocase ${action_type} &quot;configure&quot;]</body>
                    </command>
                    <nestedSteps>
                        <item guid="f29f2f92-c6ac-4193-8a9c-f1f7bbd8b2d3" action="then">
                            <nestedSteps>
                                <item guid="59e22d11-2ab5-4446-8208-ebe92ba7d05b" action="command" session="$session">
                                    <command>
                                        <body>sub-port add sub-port [concat SP${primary_nni_port}-remote_mgt] class-element 1 vtag-stack 4092</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="faa422c6-4efa-47fe-9af4-a3757a150dd7" action="command" session="$session">
                                    <command>
                                        <body>sub-port add sub-port [concat SP${backup_nni_port}-remote_mgt] class-element 1 vtag-stack 4092</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="93423a71-1cd3-45bd-86a7-34e461404353" action="elseif">
                            <command>
                                <body>[string match -nocase ${action_type} &quot;cleanup&quot;]</body>
                            </command>
                            <nestedSteps>
                                <item guid="bb879252-c29b-4187-9b49-5b2650d57119" action="command" session="$session">
                                    <command>
                                        <body>sub-port delete sub-port [concat SP${primary_nni_port}-remote_mgt] class-element 1 vtag-stack 4092</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c11eb4da-9aaf-4ac9-9851-de2848bf5dc2" action="command" session="$session">
                                    <command>
                                        <body>sub-port delete sub-port [concat SP${backup_nni_port}-remote_mgt] class-element 1 vtag-stack 4092</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6ea85892-94b4-458f-9d1b-e16e26c738b9" action="else">
                            <nestedSteps>
                                <item guid="5f6f069e-fc4a-4b4e-9055-3d13b65abbed" action="comment">
                                    <command>
                                        <body>MIKE - NEED ERROR TRAP</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="680b6193-b35a-492e-9427-f4d7270c2fad" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cfda9779-168f-4b4f-aa77-1ac29706c17c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="action_type">
                    <description>Valid values: configure or cleanup</description>
                </item>
                <item name="primary_nni_port"/>
                <item name="backup_nni_port"/>
            </arguments>
        </item>
    </procedures>
</testCase>

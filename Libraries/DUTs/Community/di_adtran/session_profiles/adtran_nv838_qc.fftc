<?xml version="1.0"?>
<testCase version="6.1.0.e2e4ec0">
    <general>
        <documentation>Quickcall library for Adtran NV838</documentation>
        <notes>QuickCalls for ADTRAN NV838.</notes>
        <sessionClass includeTestCase="true" sessionType="nv838_ref_telnet.ffsp"/>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="d4033233-98c2-42a5-b40d-af5b3c9b490e" action="comment">
                    <command>
                        <body>Test for local procedures</body>
                    </command>
                    <nestedSteps>
                        <item guid="52e1667e-faa8-4ae5-a4ae-9375b53b9ec7" action="eval">
                            <command>
                                <body>set IP &quot;192.168.113.225&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="738b457b-ecbc-42c3-94da-0f2514cdbbe3" action="eval">
                            <command>
                                <body>set eth_port &quot;1/0/1&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a24eda8b-fc71-4473-a59f-2b210aa8e3d3" action="open" session="adtran">
                            <command>
                                <body>nv838_ref_telnet.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties"/>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="a090e620-d5b0-4c06-8e5e-27dde6fffe16" action="login" session="adtran">
                            <command>
                                <body>-userid [param nte/userid] -password [param nte/password]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c9dcf39f-8844-4d9e-ad86-ba01bbc067d5" action="get_tx_rx_stats" session="adtran">
                            <command>
                                <body>-ethernet_port $eth_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cdd3843f-d431-42ba-af86-25816a083182" action="comment">
                    <command>
                        <body>Test verify_version - PASSED</body>
                    </command>
                    <nestedSteps>
                        <item guid="bf5254e0-28d4-448d-9d27-96afac984de7" action="verify_version" session="nv838-1" skip="true">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6342ae8-1b21-43a3-9920-28ca378eb8b6" action="comment">
                    <command>
                        <body>Test config_ethernet_port - PASSED</body>
                    </command>
                    <nestedSteps>
                        <item guid="3dcea1c4-a041-455e-9cf8-46b8e3103bcf" action="call" skip="true">
                            <command>
                                <body>config_ethernet_port -session nv838-1 -uni_port 1/0/1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d19b44e7-a62d-4930-9385-64386b1c302f" action="comment">
                    <command>
                        <body>Test config_gig_ethernet_port - PASSED</body>
                    </command>
                    <nestedSteps>
                        <item guid="1da38540-ebc8-4788-b72a-ed023c3105fd" action="call" skip="true">
                            <command>
                                <body>config_gig_ethernet_port -session nv838-1 -uni_port 1/0/1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="03fe4efb-d0fd-4992-9e83-ea8751af3c5a" action="comment">
                    <command>
                        <body>Test config_evc - PASSED</body>
                    </command>
                    <nestedSteps>
                        <item guid="e3a440e2-d831-4a61-b18e-249c597f61b8" action="call" skip="true">
                            <command>
                                <body>config_evc -session nv838-1 -evc_name js-ews-490 -s_tag 490</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6ab59b1c-7ddf-471f-b35b-585d9039d598" action="comment">
                    <command>
                        <body>Test config_evc_map - PASSED</body>
                    </command>
                    <nestedSteps>
                        <item guid="d7cdefaa-0273-4bf6-b94e-e3576c3beb1f" action="call" skip="true">
                            <command>
                                <body>config_evc_map -session nv838-1 -map_name js-ews-490 -evc_name js-ews-490 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="login" isPublic="true">
            <steps>
                <item guid="32718c56-85b1-48f7-acb6-b0d2f05e739e" action="comment">
                    <command>
                        <body>This is the login procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cc2207d9-7d05-4b9c-9df1-56cca3b02b1b" action="comment">
                    <command>
                        <body>This procedure determines if the open is for the TACACS server (BRIDGETON_NOC). </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d33d109e-0cc6-447c-af44-98afb6fea2b7" action="comment">
                    <command>
                        <body>If so it logs in and then telnet&apos;s to the device. If not, the login is to the device directly.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="820daba0-92db-433a-98a9-f0c0e4ced8b8" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="23f7a252-714d-4456-98bf-1fc3caa63c04" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;BRIDGETON NOC:&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message> Hit BRIDGETON_NOC</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>noc_login</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>device_login -userid $userid -password $password</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Prompt &quot;$value&quot; does not match &quot;BRIDGETON NOC:&quot;</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;Username:&quot; || $value eq &quot;login:&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message> Received login prompt for $session </message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>send_login -session $session -userid $userid -password $password -abort_execution $abort_execution</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message> No match on prompt $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="5"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="abort_execution">
                    <description>If there is a failure in login this argument determines if execution is aborted or not.
Default value is 1 (for yes). This corresponds with current behavior.</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="noc_login">
            <description>Bridgeton NOC login</description>
            <steps>
                <item guid="1a60d201-7c44-4400-aa04-1cf3129c3b60" action="comment">
                    <command>
                        <body>Login to the bridgeton NOC. These credentials are taken from the global parameter file in each user&apos;s project.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4dc9351d-ce40-4216-857a-e2b21f42efa3" action="comment">
                    <command>
                        <body>This is a local procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2d9ca43e-974a-4817-849f-460cc3188091" action="command" session="$session">
                    <command>
                        <body>send_login -userid $userid-password $password</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="224ef3bd-55aa-441b-b442-4f53b8884179" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="device_login">
            <steps>
                <item guid="733e0080-a026-4e0c-a0c8-9170a847c64f" action="comment">
                    <command>
                        <body>Login to the device. These credentials are taken from each users&apos;s global parameter file.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fa405d20-b879-42a9-9252-c44fc608d54a" action="comment">
                    <command>
                        <body>This is a local procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d317ff73-aa08-4399-9e4e-dea48961b8ba" action="command" session="$session" normalOffset="6.17" estimatedStepExecutionTime="0.344">
                    <command>
                        <body>telnet $IP</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.531" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="ec6ea181-ded9-4b75-a5e0-95281ff8c6b6" action="call">
                    <command>
                        <body>send_login -userid $userid -password $password -abort_execution $abort_execution</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6c10734b-4386-47cd-8d4f-74a37c4f6254" action="command" session="$session" normalOffset="3.531" estimatedStepExecutionTime="0.157">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.157" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="IP">
                    <description>device IP</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="abort_execution">
                    <description>If there is a failure in login this argument determines if execution is aborted or not.
Default value is 1 (for yes). This corresponds with current behavior.</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="send_login">
            <steps>
                <item guid="25de5d34-9eb1-4f26-b271-6ba3bb73dd69" action="comment">
                    <command>
                        <body>Return value: 0 failed to login; 1 login successful</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0faef920-5446-4c4b-a4c0-bda7f156884d" action="comment">
                    <command>
                        <body>Send userid, password to the session</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2a41ef7c-45e8-444f-8044-ef10e435e2cc" action="eval">
                    <command>
                        <body>puts &quot;userid/password: $userid/$password&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="58a12660-0444-4af0-8597-20435188458d" action="foreach" skip="true">
                    <command>
                        <body>i {1  2  3 4  5}</body>
                    </command>
                    <nestedSteps>
                        <item guid="e81e4d97-7bcc-419f-894e-45a5ed6d4cb8" action="sleep">
                            <command>
                                <body>5</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f65dafe8-5987-412b-bbe7-e7109085d41c" action="command" session="$session">
                    <command>
                        <body>$userid</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value ne &quot;Password&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message> Did not receive Password prompt. Try again.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message> promptName: $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="5" delayBetweenRepeats="2.0"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnRepeatStepMaxCountExceeded">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                    <message>Maximum repeat count of {0} has reached the limit. Aborting.</message>
                                </actionProperties>
                            </item>
                            <item actionId="FailTest">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                            <item actionId="AbortExecution">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="cf8e4743-9652-48a2-9c23-fc5c6bd602b2" action="command" session="$session">
                    <command>
                        <body>$password</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value ne &quot;enable&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message> Login failed on $session. Credentials not accepted.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message> promptName: $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>gset ret 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message> Login on $session is successful.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>gset ret 1</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set abort_execution 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="9c5eb27e-3b57-4dd3-aa91-ac39c0dcc5fd" action="command" session="$session">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <eventHandlers>
                        <item name="OnRepeatStepMaxCountExceeded">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                    <message>Maximum repeat count of {0} has reached the limit. </message>
                                </actionProperties>
                            </item>
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                    <message>Invalid Credentials</message>
                                </actionProperties>
                            </item>
                            <item actionId="FailTest">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set repeat_count_exceeded 1</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4b1f76f9-d5d0-4ca9-b623-2fb61492fa73" action="if">
                    <command>
                        <body>$abort_execution</body>
                    </command>
                    <nestedSteps>
                        <item guid="0363a286-e446-4451-b9b4-dcc810b2ece1" action="then">
                            <nestedSteps>
                                <item guid="87f006c3-5370-461a-94f1-b4a4b169a416" action="comment">
                                    <command>
                                        <body>abort exection</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="50a7f42d-285d-4501-b384-8cd209945cd5" action="exit">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9ba5b450-5776-428a-a884-8321ae0fb3d1" action="write">
                    <command>
                        <body>[gget ret]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Quick call for Juniper devices through the Bridgeton NOC</multilineDescription>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="abort_execution">
                    <description>If there is a failure in login this argument determines if execution is aborted or not.
Default value is 1 (for yes). This corresponds with current behavior.</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="get_version" isPublic="true">
            <steps>
                <item guid="8ff6db20-17fe-4264-aae1-6cb614bb9713" action="command" session="$session">
                    <command>
                        <body>show version</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Regex/Body/pattern2_nv838/running_app_code_version</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq $required_version</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Running version is $value</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Running version $value does not match expected version $required_version</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="93ffe222-f496-4196-bf7c-7127a657d57f" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="required_version">
                    <defaultValue>[param Versions/ad_nv838]</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="verify_version" isPublic="true">
            <steps>
                <item guid="51209097-54fe-4e53-9f25-7118ec631ea1" action="command" session="$session">
                    <command>
                        <body>show version</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Regex/Body/pattern2_nv838/running_app_code_version</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq $required_version</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Running version is $value</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Running version $value does not match expected version $required_version</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="49f7b5bb-f959-437d-9a8f-1324be517214" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="required_version">
                    <defaultValue>[param Versions/ad_nv838]</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_ews" isPublic="true">
            <description>Configure EWS (Port based) Service</description>
            <steps>
                <item guid="ba043105-b7c3-4937-942e-36528f9ef8c2" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
        </item>
        <item name="config_ers" isPublic="true">
            <steps>
                <item guid="9d4dbb60-ee67-401f-a901-ce4b744975a0" action="comment">
                    <command>
                        <body>Specify CVLAN id in evc map</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="delete_cfm_service" isPublic="true">
            <steps>
                <item guid="a5bad10b-5fe8-43e8-bb91-0ea9e9e950ab" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
        </item>
        <item name="config_ethernet_port">
            <description>Config the ethernet port</description>
            <steps>
                <item guid="4c18153e-50a5-4481-9573-51ab78742224" action="comment">
                    <command>
                        <body>Config the ethernet port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="737cef21-145b-4277-9ce2-64edb072eb08" action="command" session="$session" normalOffset="2.457" estimatedStepExecutionTime="0.102">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value != &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.19" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="c9a5e02c-81a1-4173-b938-d97212243388" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3af6d357-b23d-4b9f-84fc-1f0f04274bf3" action="command" session="$session" normalOffset="14.71" estimatedStepExecutionTime="0.231">
                    <command>
                        <body>interface ethernet $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.441" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="daf5bc23-bcc4-4bd6-aa1b-c19e8a756513" action="command" session="$session" normalOffset="13.79" estimatedStepExecutionTime="0.251">
                    <command>
                        <body>crossover auto</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="1.388" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="4acd7b42-37eb-4d86-a5a1-75c2d43a9717" action="command" session="$session" normalOffset="2.829" estimatedStepExecutionTime="0.232">
                    <command>
                        <body>speed $speed</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.316" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="9ea7e2f0-1d54-4bdc-87cb-4600cd64622b" action="command" session="$session" normalOffset="5.374" estimatedStepExecutionTime="0.239">
                    <command>
                        <body>full-duplex</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.414" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="fe7024cb-001a-4fb7-bacd-65ab39f2bf04" action="command" session="$session" normalOffset="11.409" estimatedStepExecutionTime="0.231">
                    <command>
                        <body>no ethernet evc-advertisement </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="0afc8823-712c-4e6a-a203-8e0fd75b34e9" action="command" session="$session" normalOffset="11.8" estimatedStepExecutionTime="0.244">
                    <command>
                        <body>no ethernet oam enable </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.203" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="6cb14086-815c-4c92-b4b5-419a58e91073" action="command" session="$session" normalOffset="5.588" estimatedStepExecutionTime="0.243">
                    <command>
                        <body>no shutdown </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="bfc4bede-2c55-4245-98c3-634a4ea4441c" action="command" session="$session" normalOffset="0.692" estimatedStepExecutionTime="0.073">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.176" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="00c479ec-e0ca-48e6-a2b4-eda0e1c7442a" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c65c09da-55d2-4fe2-9db4-684f629a3735" action="command" session="$session" normalOffset="1.166" estimatedStepExecutionTime="0.233">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.203" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <multilineDescription>This is a local procedure</multilineDescription>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="speed">
                    <defaultValue>100</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_gig_ethernet_port">
            <description>Configure the Gig-E port</description>
            <steps>
                <item guid="c6055772-065a-4ae7-8705-f5d3ce78fe86" action="comment">
                    <command>
                        <body>Config the gigabit ethernet port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="50a14a3f-296b-4296-a0e7-784532329ae9" action="command" session="$session" normalOffset="2.457" estimatedStepExecutionTime="0.102">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.19" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b0953c8f-c820-45c4-9d95-e7226bcab290" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f7ab7991-a1d2-490b-bd5a-12764d1c32b5" action="command" session="$session" normalOffset="14.71" estimatedStepExecutionTime="0.231">
                    <command>
                        <body>interface gigabit-ethernet $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.441" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b8fcd03a-817a-4d9c-981b-63b6063ceeeb" action="command" session="$session" normalOffset="11.409" estimatedStepExecutionTime="0.231">
                    <command>
                        <body>no ethernet evc-advertisement </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="4598f0ee-a683-4654-8308-30ceb88233db" action="command" session="$session" normalOffset="11.8" estimatedStepExecutionTime="0.244">
                    <command>
                        <body>no ethernet oam enable </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.203" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="327f433c-ee7e-45a7-a431-80d6fb4815d2" action="command" session="$session" normalOffset="5.588" estimatedStepExecutionTime="0.243">
                    <command>
                        <body>no shutdown </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b6075bf9-72a0-4c4e-b7f9-6ce185da48e5" action="command" session="$session" normalOffset="0.692" estimatedStepExecutionTime="0.073">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.176" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="c82da5b6-787f-49bb-90e4-1d684b941ad0" action="command" session="$session" normalOffset="1.166" estimatedStepExecutionTime="0.233">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.203" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="3cabb459-b468-4e52-a7fe-a15b87cc683d" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>This is a local procedure
session Id must be specified</multilineDescription>
            <arguments>
                <item name="session">
                    <description>The session must be specified for local procedures</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_evc" isPublic="true">
            <description>Configure the EVC</description>
            <steps>
                <item guid="749423d5-4cfe-4112-b366-1a838b90a8dc" action="comment">
                    <command>
                        <body>Provision the EVC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d8266303-ba54-46bc-bb31-cb3180c8798b" action="comment">
                    <command>
                        <body>An EVC shall always use efm-group 1 as its MEN-port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1a20af9f-a929-4c1b-b738-47e4d9577f2a" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d7a772b2-7a9b-48eb-9d0d-49ac75a21a30" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1f922aa6-23e4-4c6e-8f70-30d738366694" action="command" session="$session">
                    <command>
                        <body>evc $evc_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4dcfb674-6af1-4277-bf87-787535e43fee" action="command" session="$session">
                    <command>
                        <body>connect men-port efm-group $efm_group</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="742f02ca-847e-48d8-b62e-43d72828611e" action="command" session="$session">
                    <command>
                        <body>s-tag $s_tag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="cdc5a702-1fb4-48b9-b45a-f520062475ab" action="command" session="$session">
                    <command>
                        <body>preserve-ce-vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ade4d817-3966-4f40-b8a9-31fc8b00d96e" action="command" session="$session">
                    <command>
                        <body>no shutdown</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="dc8ed76c-48e3-474c-9e86-68390d0e9ad5" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8cbff7ea-7290-4633-aacb-c85e92d40228" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f3e4a79c-79d4-4824-b991-76834e58a522" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>This is a local procedure
</multilineDescription>
            <arguments>
                <item name="session">
                    <defaultValue>$session</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="evc_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="efm_group">
                    <defaultValue>1/0/1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="s_tag">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_evc_map" isPublic="true">
            <description>Configure EVC MAP</description>
            <steps>
                <item guid="a7d5fd67-155a-4964-b8fb-023e4ed0c03e" action="comment">
                    <command>
                        <body>Provision the map for EWS Service</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="597ad471-efae-4fae-a2b9-6ecb3afe21ec" action="comment">
                    <command>
                        <body>An EVC shall always use efm-group 1 as its MEN-port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="03359a10-9a65-4bd6-8db6-59309aa24814" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5f326597-bb12-4bec-a3a0-08d6c3d290b3" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="63991aab-5cad-4b9f-b273-6c1da0b8e967" action="command" session="$session">
                    <command>
                        <body>evc-map $map_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a32614f3-673a-4c1c-80f7-99568ecc95ca" action="command" session="$session">
                    <command>
                        <body>connect evc $evc_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="93118634-5213-41e1-a1af-48a2aaff4f46" action="command" session="$session">
                    <command>
                        <body>connect uni ethernet $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1631816b-f0bf-49f0-a05e-719ff88139a4" action="command" session="$session">
                    <command>
                        <body>men-pri $cos</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4cfdad03-b4b2-492f-af54-267471e7b81a" action="command" session="$session">
                    <command>
                        <body>no shutdown</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e8396e6f-1081-4e4a-9447-006f34fb9670" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1a2efbdf-6b19-4ce9-a55e-70d7d150cd2e" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4d5fdbce-866d-45d3-8ff2-00409072fb74" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>This is a local procedure
session id is required
This procedure is part of building the Port-based Service where the S-tag is associated with the port</multilineDescription>
            <arguments>
                <item name="session">
                    <description>session id is required for local procedures</description>
                    <defaultValue>$session</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="map_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="evc_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="uni_port">
                    <defaultValue>1/0/1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cos">
                    <defaultValue>4</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_vlan_evc_map" isPublic="true">
            <description>Config VLAN EVC Map</description>
            <steps>
                <item guid="8ef69368-f627-411e-9639-5c80aefea2da" action="comment">
                    <command>
                        <body>Provision the map for ERS Service</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="44fa4840-b2a1-4a01-a972-3f7503503ea1" action="comment">
                    <command>
                        <body>An EVC shall always use efm-group 1 as its MEN-port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4b73493b-5d55-4370-beaf-4ac08ce7e839" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ac274c00-c6d4-4028-9b90-af31d67b17d4" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7cfcba9b-31a0-41c9-98b7-adc7e30c0c01" action="command" session="$session">
                    <command>
                        <body>evc-map $map_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8bccb333-f6c7-4a93-bf1f-7dfe0c3c7dcf" action="command" session="$session">
                    <command>
                        <body>match ce-vlan-id $vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9c95161d-d26a-47cf-bbe4-881e5497677b" action="command" session="$session">
                    <command>
                        <body>connect evc $evc_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ba50a51a-7e0e-4ffc-a723-e189bb81ebc7" action="command" session="$session">
                    <command>
                        <body>connect uni ethernet $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e87982df-be5a-4e2c-9cbc-fbce86ce1605" action="command" session="$session">
                    <command>
                        <body>match ce-vlan-id $vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="36d6d81f-79fa-449b-8c09-2a30df1035e3" action="command" session="$session">
                    <command>
                        <body>men-pri $cos</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6e08884d-0b08-4b48-b8b0-73957af7cc05" action="command" session="$session">
                    <command>
                        <body>no shutdown</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ba7533f6-e849-43c1-94ea-63133d806e82" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="46866fd3-7f1b-40ab-80d4-6fb378735d11" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ee89c78f-4a15-45cf-b5ae-71b71c1c85c6" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <multilineDescription>This procedure is part of building VLAN-based Service where the S-tag on an EVC  is associated with the cd-vlan on frames from the Ethernet (UNI - customer) port</multilineDescription>
            <arguments>
                <item name="map_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="evc_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="uni_port">
                    <defaultValue>1/0/1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="vlan">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cos">
                    <defaultValue>4</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_policer_profile" isPublic="true">
            <description>Provision Service Profile for EWS</description>
            <steps>
                <item guid="a9c7daff-c458-42d4-ba16-3c2ad987cccd" action="comment">
                    <command>
                        <body>Provision the Policer Profile</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9cd2dfa8-ac47-437d-959e-7c9a65d850cf" action="eval">
                    <command>
                        <body>puts &quot;policer: $policer_name cir: $cir eir: $eir cbs: $cbs ebs: $ebs&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7c84311e-3900-424d-91cd-0de22a358c56" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a9073008-b585-4dba-a783-934432284f17" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e3c42a27-06f9-4cf5-a9c3-55cdf2dc8d25" action="command" session="$session">
                    <command>
                        <body>policer $policer_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="424073aa-c381-498d-a0aa-8bc9a89ba31b" action="command" session="$session">
                    <command>
                        <body>shutdown</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d14f7de2-07db-4373-a704-b6b49c8a3ed1" action="command" session="$session">
                    <command>
                        <body>cir $cir</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d6563590-ee0c-4ac3-9096-b0fd8be1aa42" action="command" session="$session">
                    <command>
                        <body>eir $eir</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9e90a33d-7e49-4738-82e7-9d3aa6665972" action="command" session="$session">
                    <command>
                        <body>cbs $cbs</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f20541ce-151a-4f79-bb8f-851ded69ab9d" action="command" session="$session">
                    <command>
                        <body>ebs $ebs</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="efe78231-9bd1-4371-9ec9-0f148e8ef482" action="command" session="$session">
                    <command>
                        <body>per custom evc-map $map_name</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="45e890a2-5a08-4a95-807f-c5865528a597" action="command" session="$session">
                    <command>
                        <body>no shutdown</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2bb17138-2566-4352-91fa-0c0f4e2ab7c0" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ee323fe0-c942-4c51-bc6a-d8f52327a2d5" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c9ffcf13-02fa-4dd0-a13a-6b55325cd15a" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="policer_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cir">
                    <defaultValue>2000</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="eir">
                    <defaultValue>0</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cbs">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ebs">
                    <defaultValue>0</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="map_name">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_nv-838" isPublic="true" defaultSessionProfile="project://di_adtran/session_profiles/nv838_ref_telnet.ffsp">
            <steps>
                <item guid="42a1f388-ba3d-442c-af8f-afeef6ac5e46" action="comment">
                    <command>
                        <body>Configure the evc</body>
                    </command>
                    <nestedSteps>
                        <item guid="38815c2e-94dc-43aa-af1b-bbbcdf10fe8c" action="config_evc" session="$session">
                            <command>
                                <body> -evc_name $evc_name -efm_group $efm_group -s_tag $s_tag</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="66130ad6-043d-47e2-9502-16b011b04259" action="comment">
                    <command>
                        <body>Build the evc map</body>
                    </command>
                    <nestedSteps>
                        <item guid="b63358c7-e4e2-4077-bbb3-ad898a8e7241" action="if">
                            <command>
                                <body>$vlan == 0</body>
                            </command>
                            <nestedSteps>
                                <item guid="41cd0e23-1e20-4ffc-a36e-621d2d637926" action="then">
                                    <nestedSteps>
                                        <item guid="9032ca95-79d5-489b-83eb-e21c2f617b26" action="comment">
                                            <command>
                                                <body>EWS - vlan id not used</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="e8872b53-86bb-4b83-9f21-37cf10a67421" action="config_evc_map" session="$session">
                                            <command>
                                                <body> -map_name $map_name -evc_name $evc_name -uni_port $uni_port -cos $cos</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="30d3fb4f-bfe5-4236-ac60-5f30b58109b0" action="else">
                                    <nestedSteps>
                                        <item guid="459aad92-3ed3-4ea9-ac5b-525f3c7e9384" action="comment">
                                            <command>
                                                <body>ERS - set the vlan id</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="d3dcea61-3a01-498e-8237-fc824dd41825" action="config_vlan_evc_map" session="$session">
                                            <command>
                                                <body>-map_name $map_name -evc_name $evc_name -uni_port $uni_port -vlan $vlan -cos $cos  </body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2cbae25-8e74-4c41-96cd-ed2e312a7630" action="comment">
                    <command>
                        <body>Create the Policer and assign to the map</body>
                    </command>
                    <nestedSteps>
                        <item guid="e3ca8089-12b9-4dba-a392-59505f10d2f6" action="config_policer_profile" session="$session">
                            <command>
                                <body>-policer_name $policer_name -cir $cir -cbs $cbs -map_name $map_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="de2e40a2-adf2-4c91-8902-4d5471d9f37d" action="comment">
                    <command>
                        <body>Verify up and running</body>
                    </command>
                    <nestedSteps>
                        <item guid="e8410cf4-9309-4c93-bd22-db9f0de4ae9c" action="command" session="$session">
                            <command>
                                <body>show evc-map $map_name</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">admin_state_by_evc_map(&apos;$map_name&apos;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value eq &quot;Enabled&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message> EVC map $map_name admin state  is enabled</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message> Admin state for EVC map $map_name is $value. Check again.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="RepeatStep">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" delayBetweenRepeats="10.0"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">evc_map_status_by_evc_map(&apos;$map_name&apos;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value eq &quot;Running&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message> EVC map $map_name status is $value</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>  EVC map $map_name status is $value. Check again.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="RepeatStep">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" delayBetweenRepeats="10.0"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnRepeatStepMaxCountExceeded">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Maximum repeat count of {0} has reached the limit Exiting</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="AbortExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="07343523-3ddc-4e32-90cd-24e5f3c802e6" action="command" session="$session">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>For command &quot;show evc-map&quot; -
Changed step event for Repeat Step &quot;OnRepeatStepMaxCountExceeded&quot; to Abort Test</multilineDescription>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="evc_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="efm_group">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="s_tag">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="vlan">
                    <description>If the vlan is non-zero this is an ERS service and is used in the evc map. Otherwise this is EWS and it is not used.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="map_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cos">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="policer_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cir">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cbs">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="cleanup" isPublic="true">
            <steps>
                <item guid="8ad11e8f-974c-4f13-9adf-109b1e40f91a" action="comment">
                    <command>
                        <body>Debug - Print Args</body>
                    </command>
                    <nestedSteps>
                        <item guid="b95e5aa0-bedb-4f8e-853e-8db8edfa8bf6" action="eval">
                            <command>
                                <body>puts &quot;$nte_key&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="faf6a7b6-fbb6-4309-8ae4-fc6f5fdccddf" action="comment">
                    <command>
                        <body>Remove the NV838 configuration</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0e7ccb59-c289-4f51-b86e-05fc915fd041" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6edf7468-f6df-4717-bb13-af053267f9a1" action="command" session="$session">
                    <command>
                        <body>configure terminal</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="423a0138-e782-47ab-850a-5c4333f3121d" action="eval">
                    <command>
                        <body>set policer [query /data/GD(ADTRAN_CSV_RESPONSE)  Policer_by_Key(&quot;$nte_key&quot;)]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6930ec2e-b845-48b9-ac07-62a6a82a86c9" action="command" session="$session">
                    <command>
                        <body>no policer   $policer</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3d86d15f-cdb5-4a7d-b71f-a85b74030445" action="eval">
                    <command>
                        <body>set evc_map  [query /data/GD(ADTRAN_CSV_RESPONSE)  MapName_by_Key(&quot;$nte_key&quot;)]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9ac2bdd7-bca6-40fb-8c14-1026cf26c0fd" action="command" session="$session">
                    <command>
                        <body>no evc-map $evc_map</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d10c04f3-1ba1-4905-8968-687295d083dd" action="eval">
                    <command>
                        <body>set evc     [query /data/GD(ADTRAN_CSV_RESPONSE) EVC_Name_by_Key(&quot;$nte_key&quot;)]  </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="888321f3-527a-47e5-90e5-ccaf14c3f3e5" action="command" session="$session">
                    <command>
                        <body>no evc     $evc</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e61e08ac-d83b-4d6d-88a0-155e92c5f0b8" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f2ac5f58-3595-4edd-9837-a741d5875391" action="command" session="$session">
                    <command>
                        <body>write</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f4c4096e-fcfd-497b-90db-aded681e4c85" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="nte_key">
                    <description>Primary key into configuration data</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_tx_rx_stats" isPublic="true">
            <steps>
                <item guid="8795ac70-c54c-45b0-8efc-6039e8271481" action="command" session="$session">
                    <command>
                        <body>show policer</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>show_policer</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="93974feb-88df-4943-93dc-02a5ab422afc" action="command" session="$session">
                    <command>
                        <body>show interface ethernet $ethernet_port</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>show_interface</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8294218b-0dcd-4efb-b136-78162ba9aa03" action="write">
                    <command>
                        <body>ingress_green_total = [query show_policer Ingress_Green_Frames()] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="62281032-d2be-4bc1-b6ca-4a97add9fdbf" action="write">
                    <command>
                        <body>ingress_green_drop = [query show_policer Ingress_Green_Frames_discard()] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d083a26a-c30d-426d-ac3a-de8d5fcc0981" action="write">
                    <command>
                        <body>ingress_red_frames = [query show_policer Ingress_Red_Frames()] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="408ba585-ea16-4d08-b42a-5cac5f731948" action="write">
                    <command>
                        <body>tx_unicast = [query show_interface tx_unicasts_by_interface(&quot;$ethernet_port&quot;)] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0146e552-a554-47e7-b1e2-8b54f8f96d78" action="write">
                    <command>
                        <body>rx_unicast = [query show_interface rx_unicasts_by_interface(&quot;$ethernet_port&quot;)] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="872e4b5b-fcc6-4a3b-bd0f-8eacd6b19e6e" action="write">
                    <command>
                        <body>tx_multicast = [query show_interface tx_multicasts_by_interface(&quot;$ethernet_port&quot;)] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5dfc44d7-c228-4395-a4b3-afb2f088d7f2" action="write">
                    <command>
                        <body>rx_multicast = [query show_interface rx_multicasts_by_interface(&quot;$ethernet_port&quot;)] \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ethernet_port"/>
            </arguments>
        </item>
        <item name="clear_stats" isPublic="true">
            <steps>
                <item guid="07643146-ebb0-4a9a-bb7d-8eefe40809b6" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;enable&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Unable to enable configuration mode on nv838 $session</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1a15179e-f947-4c6a-9467-725494085ced" action="command" session="$session">
                    <command>
                        <body>clear counters policer</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1d995e75-1aed-45f4-a9c7-c88af61857c8" action="command" session="$session">
                    <command>
                        <body>clear counters ethernet $ethernet_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="ethernet_port"/>
            </arguments>
        </item>
        <item name="add_mep" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="c4ece018-d65d-46d3-b63e-f03d06befa6e" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>show ethernet cfm mep local </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>md()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match $md $value] != 1</expression>
                                        <actionOnMultiple>True if all true</actionOnMultiple>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md not added.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>MD $md already added.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="83e08c8a-e00e-4786-8539-7d6f567a9ed2" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match *config* $value]</expression>
                                        <actionsWhenFalse>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>enter_config_mode -session $session</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f51c25f1-c33f-4e2f-914f-5bafcd6763c8" action="command" session="$session" skip="true" normalOffset="22.807" estimatedStepExecutionTime="0.243">
                    <command>
                        <body>conf t</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b7132633-a1c8-4c2d-b01d-1a5575edf393" action="command" session="$session">
                    <command>
                        <body>ethernet cfm enable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="231c21cf-87e2-45c2-8df6-12354a955135" action="command" session="$session">
                    <command>
                        <body>ethernet cfm domain char-string $md level $level</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">status_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;created&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MD $md not created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnQueryExtractorInvalidQuery"/>
                        <item name="OnNoMatchesFound">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>No match for MD status.  MD already exists.</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="20f37d48-c232-4347-abf5-48471ff83a3a" action="command" session="$session">
                    <command>
                        <body>association char-string $ma</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">status_by_ma(&quot;$ma&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;created&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MA $ma created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MA $ma not created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnQueryExtractorInvalidQuery"/>
                        <item name="OnNoMatchesFound">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>No match for MA status.  MA already exists.</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d8d3182a-9edb-471e-b9fe-ad4b296c4066" action="command" session="$session">
                    <command>
                        <body>ccm interval ${ccm_interval}-s</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="138b0326-50f7-4eee-bfdc-0e3418d370cb" action="command" session="$session">
                    <command>
                        <body>mep-database auto-discovery auto-learn</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a82b2105-fa18-414b-bb87-c5612a1ab80d" action="command" session="$session">
                    <command>
                        <body>component $component vlan $vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="02615614-9a13-41ec-873d-c18fb6d24c7f" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="513ebedf-6192-4bff-9c62-67ce3e11faf6" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="991e76c5-82c5-4e6c-9355-bfe5dd9778d0" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0b8b1d8a-2a79-4da7-8361-610677350a5c" action="enable_ccm" session="$session">
                    <command>
                        <body>-interface $interface -mep_id $mep_id -md $md -ma $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8dbe35b3-4490-4ed7-a430-ed5c92100ef9" action="command" session="$session" skip="true">
                    <command>
                        <body>interface ethernet $interface</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2385d744-4f8e-46c4-bcb3-0b747c609aa5" action="command" session="$session" skip="true">
                    <command>
                        <body>ethernet cfm mep $mep_id $md $ma up</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="12daccf9-23e7-4b5c-9c94-630143d769a7" action="command" session="$session" skip="true">
                    <command>
                        <body>ccm-en</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4412928e-db1b-4782-a0f8-6a840a8219d1" action="command" session="$session" skip="true">
                    <command>
                        <body>no shut</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1a752b5e-1f8a-43c7-a4ab-fafab0172686" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d8ccf532-bc60-46ce-8b51-46fb7c6a46ef" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="dbf5b4f2-dada-4c68-9f41-9e21f786b191" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4536f9af-5add-4f51-ac55-a2133fcdc955" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>show ethernet cfm mep local </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>md()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match $md $value] == 1</expression>
                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md added.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MD $md not added.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">ma_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value ==$ma</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MA $ma added.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MA $ma not added.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">level_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == $level</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Level set correctly at $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Level not set correctly at $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">mep_id_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == $mep_id</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MEP ID was set correctly to $mep_id.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MEP ID is not set correctly.  It is set to $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">admin_status_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;En&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MEP is enabled.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MEP is not enabled.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">send_ccm_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;y&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Send CCM is set to $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Send CCM is set to $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">component_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == $component</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Component is set correctly: $component.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Component is not set correctly: $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">vlan_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>VLAN is set to {value}.  This will vary depending on if you&apos;re doing EWS or ERS.</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="0d2f7d65-b211-478e-885a-8fb739ec85a8" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>show ethernet cfm mep local detail</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">reset_time_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == [expr $ccm_interval * 1000]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Reset time is set to $value (ms).</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Reset time is set to $value (ms).</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="md">
                    <description>The name of the maintenence domain</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ma">
                    <description>The name of the maintenence association.  At AT&amp;T will always be &quot;serv.&quot;
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="level">
                    <description>The level for the maintenence domain.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ccm_interval">
                    <description>The interval to send CCM heartbeats in seconds.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="component">
                    <description>The component setting.  Typically 2.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="vlan">
                    <description>The vlan to associate.  In EWS this will be set to &quot;none.&quot;
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="interface">
                    <description>The interface to be used.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mep_id">
                    <description>The ID to assign to the MEP.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="remove_mep" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="3a9917e4-5f1a-4b15-8dee-22e11331624e" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match *config* $value]</expression>
                                        <actionsWhenFalse>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>enter_config_mode -session $session</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="94dfe2f7-5e7e-43c5-91fe-f70d8f3f46d3" action="command" session="$session" skip="true" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>conf t</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="fcff7f9d-28ac-49cc-b88a-2713ae845deb" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>no ethernet cfm domain char-string $md level $level</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b2ffa8a0-10ce-4500-bd2e-57a862c5215a" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="73e83c9e-50b7-40b1-8a3b-b6ee288a2e2d" action="command" session="$session">
                    <command>
                        <body>show ethernet cfm mep local </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>md()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match $md $value] != 1</expression>
                                        <actionOnMultiple>True if all true</actionOnMultiple>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md has been removed.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MD $md has not been removed.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md">
                    <description>The maintenence domain.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="level">
                    <description>The level of the maintenece domain.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="enter_config_mode" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="41541d5e-3ec5-4a8e-952c-cd710c81493e" action="command" session="$session">
                    <command>
                        <body>conf t</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="check_local_mep_error_status_by_mep_id" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="ea34caed-43a7-40e1-a20e-2eca666485aa" action="command" session="$session">
                    <command>
                        <body>show ethernet cfm mep local</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">highest_error_by_mep_id(&quot;$mep_id&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>local_status</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e7a927bf-3a9a-4135-843b-4661a0d9041d" action="write">
                    <command>
                        <body>Current status of MEP $mep_id is: $local_status</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="mep_id">
                    <description>The mep ID to check.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="check_remote_mep_error_status_by_mep_id" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="b1be9adc-8c12-46c5-a278-abb154ab8505" action="eval">
                    <command>
                        <body>set mep_recognized 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d1ad219d-607b-412d-af9a-4e14f545333a" action="command" session="$session">
                    <command>
                        <body>show ethernet cfm mep remote</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>Remote MEP database</searchString>
                                        <matchType>CaseInsensitive</matchType>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" delayBetweenRepeats="10.0"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f35c142e-2783-427f-8fce-bc75fd9545b3" action="command" session="$session">
                    <command>
                        <body>show ethernet cfm mep remote</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>remote_mep_id()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match $mep_id $value]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set mep_recognized 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>$mep_id not in remote table.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" delayBetweenRepeats="10.0"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>remote_mep_response</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b7623782-ff0e-4328-a749-1a7c3534bdf9" action="if">
                    <command>
                        <body>$mep_recognized == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="e6747da9-8c27-4177-9aa2-03e36e2135ae" action="then">
                            <nestedSteps>
                                <item guid="49736cc8-f8f4-406c-9243-2582d515aeba" action="write">
                                    <command>
                                        <body>Current status of Remote MEP $mep_id is: [query remote_mep_response state_by_remote_mep_id(&quot;$mep_id&quot;)]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="mep_id">
                    <description>The mep ID to check.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="check_cfm_service_status" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="57ca105f-c6e2-47d2-97d3-07fe87e9f0e8" action="command" session="$session">
                    <command>
                        <body>show ethernet cfm mep local detail</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_adtran/response_maps/show_ethernet_cfm_mep_local_detail.ffrm</responseMap>
                </item>
            </steps>
            <arguments>
                <item name="mep_id">
                    <description>The mep ID to check.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="shut_down_ccm" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="1e88ef9d-565a-4b35-be11-3e1c0ac067ed" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match *config* $value]</expression>
                                        <actionsWhenFalse>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>enter_config_mode -session $session</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3fba661a-88fb-47fe-bb19-fcafc7384df6" action="command" session="$session">
                    <command>
                        <body>interface ethernet $interface</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1836fdd1-8417-44f2-99b2-5fff3bac4c77" action="command" session="$session">
                    <command>
                        <body>ethernet cfm mep $mep_id $md $ma up</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5568c267-0374-49c4-b01a-3bd1e1336b90" action="command" session="$session">
                    <command>
                        <body>no ccm</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a1d1a56d-f643-4c34-bc61-8d52bbd3ccf1" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a0855935-2c13-40bb-8d1b-ba13b46131c4" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="90bae4ab-867a-4da6-9c5b-7f3767d0522c" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="interface">
                    <description>The interface to use.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mep_id">
                    <description>The numerical id of the MEP.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="md">
                    <description>The maintenence domain.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ma">
                    <description>The maintenence association.
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="change_ccm_interval" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="c40f96e4-ad2b-48ee-a62b-ee42ed4b54ce" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match *config* $value]</expression>
                                        <actionsWhenFalse>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>enter_config_mode -session $session</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="dd6de5c2-f400-4d6e-8a38-f95f5e39aa62" action="command" session="$session">
                    <command>
                        <body>ethernet cfm domain char-string $md level $level</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0640500c-f3ea-4a2f-a99a-d89bc0e513d7" action="command" session="$session">
                    <command>
                        <body>association char-string $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b5f4a530-588e-4366-a86c-3fdafd0b317a" action="command" session="$session">
                    <command>
                        <body>ccm interval ${ccm_interval}-s</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ad0d6985-f869-44f9-b576-3267005ace1c" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="fe9697f7-6e85-4dbf-b6b0-def842ba24e5" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0120c2dd-4702-48f9-b56a-a2598c8a227a" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md">
                    <description>The maintenence domain.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="level">
                    <description>The level of the MEP.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ma">
                    <description>The maintenence association.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ccm_interval">
                    <description>The CCM interval in seconds.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="enable_ccm" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="34192831-e150-4def-b2af-913b5392fb92" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match *config* $value]</expression>
                                        <actionsWhenFalse>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>enter_config_mode -session $session</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="36efcada-f2ab-444f-8438-7856aad68941" action="command" session="$session">
                    <command>
                        <body>interface ethernet $interface</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1419153e-3d9f-4395-9cc4-58510dae360c" action="command" session="$session">
                    <command>
                        <body>ethernet cfm mep $mep_id $md $ma up</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a346a21b-d9e2-4109-aab4-c885d68b42a6" action="command" session="$session">
                    <command>
                        <body>ccm-enabled</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1c62b6e0-467c-4856-afb6-fc3e9af2b464" action="command" session="$session">
                    <command>
                        <body>no shut</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9550dfc6-b869-45e0-9f62-959b00a17e4a" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="23b57add-e92b-4577-9bff-5f4b0cde27f6" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2182ee08-b8a8-4f47-abcb-e34d14057580" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="interface">
                    <description>The interface to use.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mep_id">
                    <description>The numerical id of the MEP.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="md">
                    <description>The maintenence domain.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ma">
                    <description>The maintenence association.
</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="ethernet_ping" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <description>This does an ethernet ping which would typically be used as part EOAM testing.</description>
            <steps>
                <item guid="9d1fbb91-5c76-4033-b4b0-bd2dec50c2f1" action="if">
                    <command>
                        <body>$verbose == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="fda58d7a-6f73-4c00-a111-cab19d85ed8c" action="then">
                            <nestedSteps>
                                <item guid="1e724d62-3e5f-4766-94b7-e02a871819b4" action="command" session="$session">
                                    <command>
                                        <body>ping ethernet $destination_mep_id source $source_md $source_ma $source_mep_id count $count priority $priority size $size timeout $timeout interval $interval data $data</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_response</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cceafdd0-a501-40fa-b73d-39b778d1b8f9" action="else">
                            <nestedSteps>
                                <item guid="44e08ddc-0ea6-48e6-92a3-f206ec8b87ef" action="command" session="$session">
                                    <command>
                                        <body>ping ethernet $destination_mep_id source $source_md $source_ma $source_mep_id count $count priority $priority size $size timeout $timeout interval $interval data $data verbose</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_response</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5cc751be-a380-4e1b-af24-a8dcd98a14cb" action="write">
                    <command>
                        <body>[response ping_response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <version>1.0 </version>
            <multilineDescription>This does an ethernet ping.</multilineDescription>
            <arguments>
                <item name="md">
                    <description>The MD of the source, e.g vpls:280029-4.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ma">
                    <description>The source MA of the MEP, e.g. serv.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="destination_mep_id">
                    <description>The destination MEP ID (e.g. 1011).
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="source_mep_id">
                    <description>The source MEP ID.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="count">
                    <description>Number of pings to send.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="priority">
                    <description>The priority.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="size">
                    <description>The size of the packets.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="timeout">
                    <description>The timeout (in ms).</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="interval">
                    <description>The interval to send pings (in ms).
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="data">
                    <description>Data to be carried in the loopback message (e.g. ABCDE).</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="verbose">
                    <description>If you want verbose output (1) or not (0).  Default is no.</description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_delete_domain" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <description>This does an ethernet ping which would typically be used as part EOAM testing.</description>
            <steps>
                <item guid="09a06642-53fd-4904-9af0-a7597ff72cf6" action="if">
                    <command>
                        <body>$verbose == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="dbaabbe8-a815-451a-82ff-2806c012b1b1" action="then">
                            <nestedSteps>
                                <item guid="32a04a3a-18f4-40b0-8325-1d6a0bec9129" action="command" session="$session">
                                    <command>
                                        <body>ping ethernet $destination_mep_id source $source_md $source_ma $source_mep_id count $count priority $priority size $size timeout $timeout interval $interval data $data</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_response</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6dbcf3e0-a8f5-46d9-905e-e5f375caa92f" action="else">
                            <nestedSteps>
                                <item guid="82bcb049-48cb-4f07-a6d0-9a5fdb1ab81f" action="command" session="$session">
                                    <command>
                                        <body>ping ethernet $destination_mep_id source $source_md $source_ma $source_mep_id count $count priority $priority size $size timeout $timeout interval $interval data $data verbose</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_response</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="882fb497-f3d0-48cf-a720-b8353992d5ba" action="write">
                    <command>
                        <body>[response ping_response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <version>1.0 </version>
            <multilineDescription>This does an ethernet ping.</multilineDescription>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="add_mep_1" isPublic="true" defaultSessionProfile="nv838_ref_telnet.ffsp">
            <steps>
                <item guid="6e3b7634-9e3b-4e67-9bd8-a15b81574935" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>show ethernet cfm mep local </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>md()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match $md $value] != 1</expression>
                                        <actionOnMultiple>True if all true</actionOnMultiple>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md not added.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>MD $md already added.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="9abc6594-9299-41a7-aa14-6fd11bcfc667" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match *config* $value]</expression>
                                        <actionsWhenFalse>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>enter_config_mode -session $session</command>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7991084e-4749-4b58-881e-adac32947567" action="command" session="$session" skip="true" normalOffset="22.807" estimatedStepExecutionTime="0.243">
                    <command>
                        <body>conf t</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="f7ec7ba9-5833-475d-9fac-e9259d5b0d2c" action="command" session="$session">
                    <command>
                        <body>ethernet cfm enable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1d79dc7c-fac3-447d-8bc6-fa8fb9873f09" action="command" session="$session">
                    <command>
                        <body>ethernet cfm domain char-string $md level $level</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">status_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;created&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MD $md not created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnQueryExtractorInvalidQuery"/>
                        <item name="OnNoMatchesFound">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>No match for MD status.  MD already exists.</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="38c4d053-092c-4eeb-8c2c-c0794ea4314e" action="command" session="$session">
                    <command>
                        <body>association char-string $ma</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">status_by_ma(&quot;$ma&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;created&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MA $ma created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MA $ma not created successfully.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnQueryExtractorInvalidQuery"/>
                        <item name="OnNoMatchesFound">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>No match for MA status.  MA already exists.</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b782ede6-9e53-47fd-9043-9908c3b8f46e" action="command" session="$session">
                    <command>
                        <body>ccm interval ${ccm_interval}-s</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b91f7658-d09e-4c63-95e1-1579e2671b0a" action="command" session="$session">
                    <command>
                        <body>mep-database auto-discovery auto-learn</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5f7c0dd8-80e0-4284-a41f-15e160b5f0c0" action="command" session="$session">
                    <command>
                        <body>component $component vlan $vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="de28c7b8-9d66-4662-9684-d7cecdcf62d8" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3c6e37f4-9c95-4b14-b010-2f453dc2fd4c" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3852be8e-bcb4-49ae-99e8-91d5fb5725f2" action="command" session="$session">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="62d828d8-c4fe-4500-934f-7df9529bbde9" action="enable_ccm" session="$session">
                    <command>
                        <body>-interface $interface -mep_id $mep_id -md $md -ma $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="71f45ae2-352c-47ac-b00a-bb3900f8426c" action="command" session="$session" skip="true">
                    <command>
                        <body>interface ethernet $interface</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="bc6d4e7f-3a2d-47a1-8ead-f4302ad008c0" action="command" session="$session" skip="true">
                    <command>
                        <body>ethernet cfm mep $mep_id $md $ma up</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="25c45159-05d4-4399-b36c-8d673114ecb2" action="command" session="$session" skip="true">
                    <command>
                        <body>ccm-en</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ac888150-3bc0-485d-b3b5-bc53cb311caf" action="command" session="$session" skip="true">
                    <command>
                        <body>no shut</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="baf6186f-94ba-4bfe-8ed4-d386e28a0232" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c2d7abd1-f956-4557-898c-df0ecd4e48f9" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="88c03f8b-c9ca-43b6-87e5-326cfc6111b7" action="command" session="$session" skip="true">
                    <command>
                        <body>exit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7587e3f7-759f-4c34-a80f-eb24972593f7" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>show ethernet cfm mep local </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>md()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match $md $value] == 1</expression>
                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MD $md added.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MD $md not added.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">ma_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value ==$ma</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MA $ma added.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MA $ma not added.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">level_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == $level</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Level set correctly at $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Level not set correctly at $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">mep_id_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == $mep_id</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MEP ID was set correctly to $mep_id.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MEP ID is not set correctly.  It is set to $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">admin_status_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;En&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>MEP is enabled.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>MEP is not enabled.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">send_ccm_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;y&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Send CCM is set to $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Send CCM is set to $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">component_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == $component</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Component is set correctly: $component.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Component is not set correctly: $value.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">vlan_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>VLAN is set to {value}.  This will vary depending on if you&apos;re doing EWS or ERS.</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="853b6d96-38d2-45d9-9d39-a469eec6cb53" action="command" session="$session" estimatedStepExecutionTime="0.3">
                    <command>
                        <body>show ethernet cfm mep local detail</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">reset_time_by_md(&quot;$md&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == [expr $ccm_interval * 1000]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Reset time is set to $value (ms).</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Reset time is set to $value (ms).</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.204" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="md">
                    <description>The name of the maintenence domain</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ma">
                    <description>The name of the maintenence association.  At AT&amp;T will always be &quot;serv.&quot;
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="port"/>
                <item name="level">
                    <description>The level for the maintenence domain.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ccm_interval">
                    <description>The interval to send CCM heartbeats in seconds.
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="component">
                    <description>The component setting.  Typically 2.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="vlan">
                    <description>The vlan to associate.  In EWS this will be set to &quot;none.&quot;
</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mep_id">
                    <description>The ID to assign to the MEP.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="set_cfm_service_ma" isPublic="true">
            <steps>
                <item guid="14c213ec-bb49-45d8-b0e8-e1e28fbcea4b" action="command" session="$session">
                    <command>
                        <body>cfm service create vlan $vlan name &quot;$md$ma&quot; md $md ma-name-string $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="delete_cfm_service_ma" isPublic="true">
            <steps>
                <item guid="64c31a14-7849-474d-8109-1907e485e932" action="command" session="$session">
                    <command>
                        <body>cfm service delete service &quot;$md$ma&quot; </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
        <item name="disable_cfm_service" isPublic="true">
            <steps>
                <item guid="480c7a44-cfc8-4a68-99bf-1801276ce33c" action="command" session="$session">
                    <command>
                        <body>cfm service disable service &quot;${md}serv&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
        <item name="enable_cfm_service" isPublic="true">
            <steps>
                <item guid="df8bf817-a041-4f40-966c-ed6cb7efbea8" action="command" session="$session">
                    <command>
                        <body>cfm service enable service &quot;${md}serv&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
        <item name="set_cfm_domain" isPublic="true">
            <steps>
                <item guid="fcd4a450-c695-4b24-bea7-e8b0205b9309" action="command" session="$session">
                    <command>
                        <body>cfm md set md ${md} name ${md}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
        <item name="set_cfm_domain_level" isPublic="true">
            <steps>
                <item guid="ed90c7b7-3a89-4853-9eed-5a5b21f0ba51" action="command" session="$session">
                    <command>
                        <body>cfm md set md &quot;${md}serv&quot; level $level</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="level"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
        <item name="cfm_link_trace" isPublic="true">
            <steps>
                <item guid="5261b1bd-d2b1-4b03-8b91-bbb60aaa6447" action="command" session="$session">
                    <command>
                        <body>enable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7eef5b89-3b34-4f8c-bc33-2c671cf5ea14" action="command" session="$session">
                    <command>
                        <body>traceroute ethernet $mep_id source $md serv $remote_mep_id</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Egress_MAC_Action()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;00:A0:C8:4C:A6:A0&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>The current Egress MAC matches expected MAC address:  &quot;00:A0:C8:4C:A6:A0&quot;</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>The current Egress MAC address doesnt match expected MAC address:  &quot;00:A0:C8:4C:A6:A0&quot;</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="level"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
    </procedures>
</testCase>

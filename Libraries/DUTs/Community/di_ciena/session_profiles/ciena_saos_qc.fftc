<?xml version="1.0"?>
<testCase version="6.1.0.e2e4ec0" entryPoint="get_tx_rx_stats">
    <general>
        <documentation>Quickcall library for saos ciena devices</documentation>
        <isProcedureLibrary>true</isProcedureLibrary>
        <sessionClass includeTestCase="true" sessionType="project://di_ciena/session_profiles/ciena_saos_ref_telnet.ffsp"/>
    </general>
    <procedures>
        <item name="main" defaultSessionProfile="project://di_ciena/session_profiles/ciena_ref_telnet.ffsp">
            <steps>
                <item guid="1073fe74-df1e-4da5-962f-43dd0488e643" action="comment">
                    <command>
                        <body>General comment before library</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="add_cfm_mep" isPublic="true">
            <steps>
                <item guid="a2391794-29bc-4527-b494-39666d022937" action="command" session="$session">
                    <command>
                        <body>cfm md create md $md level $level</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="50eb89d1-876f-40b6-a738-3780fbef3e6e" action="command" session="$session">
                    <command>
                        <body>cfm service create vlan $svlan name &quot;${md}$ma&quot; md $md ma-name-string $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ea489cea-4fa7-4470-b67d-1cc86d8ad491" action="command" session="$session">
                    <command>
                        <body>cfm service set service &quot;${md}$ma&quot; ccm-interval ${ccm_interval}sec</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="44bebdf0-156e-4da6-9795-2a2d9b8ae41e" action="command" session="$session">
                    <command>
                        <body>cfm service enable service &quot;${md}$ma&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="803a34c4-eebc-419f-893b-afea90a8e849" action="if">
                    <command>
                        <body>([string toupper $service_type] == &quot;EWS&quot;) || ([string toupper $service_type] == &quot;PBS&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="44fff57c-ba62-4384-84ef-c2761c922686" action="then">
                            <nestedSteps>
                                <item guid="f6c0ada0-4d0e-4f2a-a2ac-07f8f6030076" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port type up mepid $mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="97b7b702-8c52-48e9-86c0-444be2b90c79" action="elseif">
                            <command>
                                <body>([string toupper $service_type] == &quot;ERS&quot;) || ([string toupper $service_type] == &quot;VBS&quot;)</body>
                            </command>
                            <nestedSteps>
                                <item guid="e09caff0-5f17-42bb-a178-4fbf2047288a" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port vlan $cvlan type up mepid $mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="1335d0f3-06b7-4702-adfd-9e4aa2f96eb8" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="94918209-a14d-4e52-aeb4-7d819e737cf4" action="elseif">
                            <command>
                                <body>[string toupper $service_type] == &quot;FBS&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="e656bb56-4591-4fd7-97ff-999e4f293b3f" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port vlan 2 type up mepid $mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="76294798-2d09-4cd0-ab36-3fcd965ee1ac" action="command" session="$session">
                    <command>
                        <body>cfm mep set service &quot;${md}$ma&quot; local-mepid $mep_id ccm-priority $ccm_priority</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8bbfb0bf-700d-44fe-89c1-142ae5b5d6ae" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="level"/>
                <item name="ccm_interval"/>
                <item name="svlan"/>
                <item name="cvlan"/>
                <item name="service_type"/>
                <item name="port"/>
                <item name="interface">
                    <defaultValue>2</defaultValue>
                </item>
                <item name="mep_id"/>
                <item name="ccm_priority">
                    <defaultValue>6</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="add_mep_1" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="d567e702-bc5b-4778-8304-a99346ab4754" action="command" session="$session">
                    <command>
                        <body>cfm service delete service &quot;${md}$ma&quot;</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c6ec59c2-ade9-4233-abb0-9812fcae4526" action="command" session="$session">
                    <command>
                        <body>cfm service create vlan $svlan name &quot;${md}$ma&quot; md  ${md} ma-name-string $ma</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f900c216-394b-48cc-b66f-f87a9085145d" action="command" session="$session">
                    <command>
                        <body>cfm service set service  &quot;${md}$ma&quot;  ccm-interval ${ccm_interval}sec</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="41cbed52-e8f5-4ae8-8f69-e2bb9ab139f5" action="if">
                    <command>
                        <body>([string toupper $service_type] == &quot;EWS&quot;) || ([string toupper $service_type] == &quot;PBS&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="cd979532-0636-4248-b531-27b914037d80" action="then">
                            <nestedSteps>
                                <item guid="47b2cd00-8157-41d7-ba86-74a40bb5c5c1" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port type up mepid $mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0fcebd7a-6c6c-4224-a87d-c8962dc14604" action="elseif">
                            <command>
                                <body>([string toupper $service_type] == &quot;ERS&quot;) || ([string toupper $service_type] == &quot;VBS&quot;)</body>
                            </command>
                            <nestedSteps>
                                <item guid="065f98b2-e34e-4e9c-bdd3-c4bb1f7ba8aa" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port vlan $cvlan type up mepid $mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a7851118-67c5-4520-88d6-cec981a6c8c3" action="elseif">
                            <command>
                                <body>[string toupper $service_type] == &quot;FBS&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="dfe10536-6ed2-46b9-8e3b-b46109228fbd" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port vlan 2 type up mepid $mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fac4e0fd-3249-4ec4-8578-b5f2f5792df6" action="command" session="$session">
                    <command>
                        <body>cfm mep set service &quot;${md}$ma&quot; local-mepid $mep_id ccm-priority $ccm_priority</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="714cc745-4d38-435d-a68e-09dddbff2d1b" action="command" session="$session">
                    <command>
                        <body>cfm service enable service &quot;${md}$ma&quot;</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b7024932-b38b-414e-b413-8e8d1acf8be7" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="old_mep_id"/>
                <item name="ma"/>
                <item name="ccm_interval">
                    <defaultValue>10sec</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
                <item name="cvlan"/>
                <item name="port"/>
                <item name="mep_id"/>
                <item name="ccm_priority">
                    <defaultValue>6</defaultValue>
                </item>
                <item name="service_type"/>
            </arguments>
        </item>
        <item name="add_svlan_port" isPublic="true">
            <steps>
                <item guid="70b1c659-7041-4d35-b455-8d31f32cc3b9" action="command" session="$session">
                    <command>
                        <body>vlan add vlan $svlan  port $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="svlan"/>
                <item name="nni_port"/>
            </arguments>
        </item>
        <item name="cfm_delete_domain" isPublic="true">
            <steps>
                <item guid="55bb40e2-dbab-44a1-949f-898976fa3a13" action="command" session="$session">
                    <command>
                        <body>cfm service delete service &quot;${md}$ma&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0528495f-f25b-43ca-b2f8-d1c9480863ab" action="command" session="$session">
                    <command>
                        <body>cfm md delete md $md</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ad73a658-04b9-4b38-8c86-f6c9ad8030a4" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="cfm_dmm" isPublic="true">
            <steps>
                <item guid="52628482-70da-4661-81af-1756e50409e9" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="63b3a541-4236-46a1-9a86-6c95ae5d67ea" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="09f46dbc-4573-4a67-a0ab-ace598413536" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a5db3365-f3ee-4041-86a8-c087388ec88b" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e2011463-751d-4496-8064-39d912c45890" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d9867185-82f4-4ba0-bb32-ffcb7c0f376e" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="82830fcb-8553-4850-85bd-0e73b4f9b5a6" action="then">
                            <nestedSteps>
                                <item guid="eaf7e854-b9e5-4a19-959f-b3c4398c7882" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6e1bcab2-fa53-491a-af5a-cf09d5a41f7b" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="61456946-a379-4912-ae0b-2ebef579f468" action="command" session="$session">
                                    <command>
                                        <body>cfm delay send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="72aa10de-c88b-499f-885b-e50cb1ff5bb3" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="994d57d9-a57a-4b03-8a1b-8a34cd075abf" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7703bc11-e078-40df-b6ad-1df64fdecafb" action="command" session="$session">
                                    <command>
                                        <body>cfm delay show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_min()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMin</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_avg()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayAvg</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_max()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMax</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>delay_results</storeResponseAt>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="144144a7-dd2c-4208-84cb-c80be86c22c2" action="eval">
                                    <command>
                                        <body>puts [string toupper [get serviceError]]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="95c66535-5840-42df-b570-bd474d4ba6ae" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ae9155b8-908a-40ef-aba7-c90fbb7c05d2" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9c3a897f-3bcc-4023-a995-55198a66674b" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c154fd4a-e13d-4566-818f-d1596be552d7" action="else">
                            <nestedSteps>
                                <item guid="d1d7011a-207c-43ff-b7d4-faa1c743daa5" action="command" session="$session">
                                    <command>
                                        <body>cfm delay send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="6a47f678-e435-4d68-ad75-34133ee59864" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f20583ad-6a8f-4bb2-8811-d807df7d41ef" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="6e4138aa-0d76-487e-a84a-2738998227f4" action="command" session="$session">
                                    <command>
                                        <body>cfm delay show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>DMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>dmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_min()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMin</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_avg()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayAvg</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Delay_max()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>delayMax</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>delay_results</storeResponseAt>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="50e9d5d0-28c3-4ba4-84d7-0d4996bf667c" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="eaa4149d-6682-4c3c-a424-4c7444b22270" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="f691557e-f2b1-482e-b955-8bed1e4b2663" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="70933139-108a-4d72-a1d5-555cfe19a41b" action="if">
                    <command>
                        <body>[string toupper [get serviceError]] == &quot;INVALID&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="578e3be4-6f74-473c-91f9-d90bd34cf14c" action="then">
                            <nestedSteps>
                                <item guid="8069326a-523f-4ac8-9732-e74fcc4edfe3" action="write">
                                    <command>
                                        <body>Msg: [get serviceError]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4d3489e9-ce37-4158-ae58-79b284f0f5c3" action="else">
                            <nestedSteps>
                                <item guid="622f2ae4-f073-4cd9-a1e0-a291774c2d94" action="write">
                                    <command>
                                        <body>DMM success rate is: [expr [expr [format &quot;%0.2f&quot; [get dmmCnt]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fda23558-5cff-4c2d-bb57-b26d3228f7ca" action="if">
                                    <command>
                                        <body>[get delayMin] &gt; 0 &amp;&amp; [get delayMax] &gt; 0 &amp;&amp; [get delayAvg] &gt; 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="82bfe269-4d61-4b7d-ad11-8f066ea015cc" action="then">
                                            <nestedSteps>
                                                <item guid="687d3685-d656-42ad-a46d-58b1fa83eb03" action="eval">
                                                    <command>
                                                        <body>set flag &quot;OK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="7663c37e-35da-44f2-b6d7-75d1aa2439fd" action="else">
                                            <nestedSteps>
                                                <item guid="a856e93e-9314-467c-80df-2eee6ee0ccbc" action="eval">
                                                    <command>
                                                        <body>set flag &quot;NOK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="84592dfb-6a3c-44c5-955f-1a8c7a78a074" action="write">
                                    <command>
                                        <body>Delay in us greater than Zero: $flag\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8306f4b3-bb73-4b05-b14f-c18967c2e1e2" action="write">
                                    <command>
                                        <body>DMR count is: [get dmrCnt]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="523ab793-05b9-49ca-88bb-63183292bea9" action="write">
                                    <command>
                                        <body>Msg: Valid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="priority"/>
                <item name="count"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_link_trace" isPublic="true">
            <steps>
                <item guid="94148fb4-20a0-4aba-87b0-e485525f73ef" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="eaf5f1cd-68f8-4acb-bc51-8d7cf8146ed5" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bfdedba5-3856-4382-b4aa-83e681ca8ee8" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="19029407-98ca-4b46-b4d4-589266fe22ee" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="16569137-4e6f-4c26-822c-7ae55b4fdc68" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="7ec8aa1e-266f-4922-bec6-acc28aa0f599" action="then">
                            <nestedSteps>
                                <item guid="804617ed-cf89-4373-a915-c6b2f22cc509" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="19cd8596-e75b-4b4d-83dc-2d13d0ff70cc" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6d43b55c-9598-4355-8b41-1b3ee4936b74" action="command" session="$session">
                                    <command>
                                        <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="90b31732-0e5d-47b6-84de-3d262c706291" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="cb0b3714-678e-4d40-9bdd-e8a3502c1df8" action="command" session="$session">
                                    <command>
                                        <body>cfm link show service $service_id mep $source_mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>No Entries</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set t_mac_address &quot;&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set r_mac_address &quot;&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>link_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseFilterList merge="true">
                                        <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                            <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                        </item>
                                    </responseFilterList>
                                </item>
                                <item guid="7c58ca78-ca5a-4624-b1e4-81b15dc8c2b0" action="eval">
                                    <command>
                                        <body>puts [string equal $t_mac_address $r_mac_address]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fd72d60c-f872-4605-8fd4-1e9e527c7283" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fa60d6f2-f203-4dde-bd5b-0777ee68cf79" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0bbd4fa3-434c-4519-9587-7788d8d60138" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="82ea8906-f2df-450a-910d-84ebd531c870" action="else">
                            <nestedSteps>
                                <item guid="1b0156f4-ab27-49e6-a71a-667a3136b39f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1eb6a1ae-e2ac-4eae-883d-fc43527d7ff2" action="command" session="$session">
                                    <command>
                                        <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="428a9e91-94b7-4d57-a9c2-445797bd20e3" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a01d0821-5d13-4e58-b080-1765590585f2" action="command" session="$session">
                                    <command>
                                        <body>cfm link show service $service_id mep $source_mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>No Entries</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set t_mac_address &quot;&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set r_mac_address &quot;&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseFilterList merge="true">
                                        <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                            <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                        </item>
                                    </responseFilterList>
                                </item>
                                <item guid="723ffed5-f0f6-449e-ba88-4fd7686c8646" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bf430df3-53b7-4820-897c-12fed627c60c" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b11c17ee-ffaa-48da-a232-7a07602bc553" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="08346049-dd2a-4b7f-abd0-e90e393d238d" action="if">
                    <command>
                        <body>($t_mac_address != &quot;&quot;) &amp;&amp; ($r_mac_address != &quot;&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="d4302674-fc77-4502-92ae-652096400b75" action="then">
                            <nestedSteps>
                                <item guid="5a5c5796-2d12-4507-b71d-6c3d2cc63f23" action="if">
                                    <command>
                                        <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b529cf94-f67b-429d-916e-142ab4063b74" action="then">
                                            <nestedSteps>
                                                <item guid="4b2271e9-4e0e-435b-a934-6bac72b3e304" action="eval">
                                                    <command>
                                                        <body>set flag &quot;OK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4989b7f6-19f1-48a7-8329-fdf0e64f358d" action="else">
                                            <nestedSteps>
                                                <item guid="fccdfb51-9dbe-4130-99f8-795225ae0949" action="eval">
                                                    <command>
                                                        <body>set flag &quot;NOK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="949dafc3-92ae-4bb1-a2ac-2489c8fbb8d8" action="else">
                            <nestedSteps>
                                <item guid="d25675fe-6d22-4682-bc5a-7cbcde85cfbb" action="eval">
                                    <command>
                                        <body>set flag &quot;NOK&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c7c22020-f51a-4adf-a60d-3e4b9f4eb702" action="write">
                    <command>
                        <body>Link trace: $flag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_link_trace_mac_hop" isPublic="true">
            <description>Utilize MAC address and perform link-trace action to each HOP in the service topology.</description>
            <steps>
                <item guid="1b7f3528-62ef-46b1-9acd-447c80cf32cc" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="78b176c4-b46d-44d9-a1df-714129b92bc2" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="57d19675-7e9d-407a-be44-eb3c92db9df8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f4dd46b8-dc39-4c01-9da7-bf87bae5605e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2f574ff-eee6-486e-af71-5c6351241015" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fd4a42ee-1583-44fe-820a-976383ce86ac" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7ebfe9a7-f7ed-468b-8e2c-1507c8e883d6" action="comment">
                    <command>
                        <body>Seed the local variables: active_service, local_mep and list of remore_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="4229fd5b-69d7-4616-966b-8046d42b72a3" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cc9810e3-2121-4a60-b86d-e018b486c313" action="command" session="$session" skip="true">
                            <command>
                                <body>cfm link send service &quot;${md}$ma&quot; local $source_mep_id mep $destination_mep_id </body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="6f0f50b7-dc11-4970-8859-3e99ff0b0eb9" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="155f5345-d93c-4632-832d-ed2683140906" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="512a1266-8b27-4dd6-9858-57bb09de41f5" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a8bde6a9-4a91-4611-94a3-bfc45adeb7e7" action="command" session="$session" skip="true">
                            <command>
                                <body>cfm link show service &quot;${md}$ma&quot; mep $source_mep_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>service()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>active_service</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>local_mep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>local_mep</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>remote_mep_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>remote_mac_addr_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="04c48308-81fe-407d-bc0a-c9761563cf18" action="command" session="$session">
                            <command>
                                <body>cfm link show service $service_id mep $source_mep_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>service()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>active_service</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>local_mep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>local_mep</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>remote_mep_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>remote_mac_addr_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="a13f088c-f152-4b41-a79f-00dc5c37c45c" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e9dc4c27-2c65-4f15-9c1d-4bd3ab67ffaa" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bf997d01-7f5e-4dad-b433-e9472b4b9a67" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="508eabe4-b8df-47e4-abf2-a972752d443c" action="eval">
                    <command>
                        <body>puts [get remote_mac_addr_list]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a37d9e1f-a8d0-484f-8067-4bbc3c6c7713" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bc95cea1-e887-4fca-97be-ba7ec11180e4" action="comment">
                    <command>
                        <body>Flip the stored mac address list, strip the tail and let&apos;s get to the testing.</body>
                    </command>
                    <nestedSteps>
                        <item guid="483dc98d-c0f3-4ebf-a09f-9abe3d520230" action="foreach">
                            <command>
                                <body>mac_addr [lrange [lreverse [get remote_mac_addr_list]] 0 end-1]</body>
                            </command>
                            <nestedSteps>
                                <item guid="4fa8e901-e09e-492b-a61e-d05844698ae0" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7140944a-90a8-4425-8699-dda0c7786dc5" action="eval">
                                    <command>
                                        <body>set current_status 0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c2130f6a-0be8-4921-9e91-50bd390ff697" action="if">
                                    <command>
                                        <body>$log_report == 1 || $log_cmd == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a7f617a2-e828-4ed0-9c29-4139a93c5541" action="then">
                                            <nestedSteps>
                                                <item guid="315cbe0b-4165-4bcc-8f0b-6f5d0c8fa189" action="eval">
                                                    <command>
                                                        <body>set seperator &quot;================================================================================&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="30ba444d-573a-469f-b9e0-f63cec53468a" action="command" session="$session">
                                                    <command>
                                                        <body>cfm linktrace send-mac service $active_service mac $mac_addr local-mepid $local_mep</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                        <writePrompt inherit="false">false</writePrompt>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="f876ee0e-73ad-4d44-bdd2-f292f4f73eb3" action="sleep">
                                                    <command>
                                                        <body>10</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a3d6a641-7ff4-4468-9216-55c966364a49" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                    <command>
                                                        <body>cfm linktrace show service $active_service mep $local_mep</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>target_mac_address()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>t_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>r_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                        <writePrompt inherit="false">false</writePrompt>
                                                    </applicationProperties>
                                                    <responseMap>project://di_ciena/response_maps/cfm_link_show.ffrm</responseMap>
                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                </item>
                                                <item guid="5d4a9f46-d5f8-4075-991d-2ec4ffea693c" action="eval">
                                                    <command>
                                                        <body>puts [string equal $t_mac_address $r_mac_address]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="b145bad5-0994-4be2-bb8d-d9ea01853622" action="else">
                                            <nestedSteps>
                                                <item guid="2aedf794-126b-4208-8e52-27b966b516eb" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="30cbf06d-8d99-4bd1-b9ed-16809585174d" action="command" session="$session">
                                                    <command>
                                                        <body>cfm linktrace send-mac service $active_service mac $mac_addr local-mepid $local_mep</body>
                                                    </command>
                                                    <postProcessing>
                                                        <appendSession inherit="false">true</appendSession>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                                <item guid="5343593e-7088-4fda-8b78-6e7b5ab4e764" action="sleep">
                                                    <command>
                                                        <body>10</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9cb529ee-ebf9-4844-816c-d36f6287ffd9" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                    <command>
                                                        <body>cfm linktrace show service $active_service mep $local_mep</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>target_mac_address()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>t_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>r_mac_address</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>link_results_mac_mep</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <responseMap>project://di_ciena/response_maps/cfm_link_show.ffrm</responseMap>
                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                </item>
                                                <item guid="67eb7580-e87e-41d0-859c-563f3f3c6794" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="a445cef1-1125-4821-ab10-7ca2984d25de" action="comment">
                                                    <command>
                                                        <body>Take a look at the stats and report as needed</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="4b71eadb-3ad4-46e0-9ea9-cf10d9ff1a83" action="command" session="$session">
                                                    <command>
                                                        <body>cfm service show service $active_service statistics</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                                <item guid="7baeb870-53bb-4fb8-bca1-10049e674cc0" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f65e001f-35b2-41ec-b4dd-b085b68bc8fd" action="comment">
                                    <command>
                                        <body>Log the status of each iteration</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8916591e-0d67-4283-8d2c-42d6f7629c3b" action="if">
                                            <command>
                                                <body>($t_mac_address != &quot;&quot;) &amp;&amp; ($r_mac_address == &quot;&quot;)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="129249f2-aaff-4652-8f37-571698e09db0" action="then">
                                                    <nestedSteps>
                                                        <item guid="8aaebd81-33cd-44c9-96c7-06ebb746a3fe" action="eval">
                                                            <command>
                                                                <body>set t_mac [get t_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="023f26b4-b36f-446a-8196-5fe53a0cb056" action="eval">
                                                            <command>
                                                                <body>set r_mac remote_mac_null</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="235b9af8-8a58-4d11-bbe0-7f0e1e06233f" action="if">
                                                            <command>
                                                                <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e903061a-b928-4061-8dec-f4ec02b75475" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="e60047eb-11af-4738-ae9f-aac802e43afb" action="eval">
                                                                            <command>
                                                                                <body>set current_status 1</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="c112105a-1dba-4647-b317-668f127661ed" action="elseif">
                                                    <command>
                                                        <body>($t_mac_address == &quot;&quot;) &amp;&amp; ($r_mac_address != &quot;&quot;)</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="599bbcce-eede-4ca3-a372-0f28005150f7" action="eval">
                                                            <command>
                                                                <body>set t_mac target_mac_null</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="5342a3a3-36ae-4155-b351-d98a0901e6be" action="eval">
                                                            <command>
                                                                <body>set r_mac [get r_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="ff80c746-d6d3-4606-bd3f-9cbb6dc6b1aa" action="if">
                                                            <command>
                                                                <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="dbd1d62e-ac46-47e8-b6a8-9d11a5bd753d" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="3c7bd169-5a3e-4d5b-bb3f-4d79915043ac" action="eval">
                                                                            <command>
                                                                                <body>set current_status 1</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="e67f5a84-a431-4582-916d-d08c8d2d1f53" action="else">
                                                    <nestedSteps>
                                                        <item guid="4f6b766c-a421-4b17-a202-ed6aa69ed7e8" action="eval">
                                                            <command>
                                                                <body>set t_mac [get t_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="aeabd2fa-a3a9-488d-a8a2-a75600bed53a" action="eval">
                                                            <command>
                                                                <body>set r_mac [get r_mac_address]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="3195c538-0f27-4211-aeae-1b2cb9906e8e" action="if">
                                                            <command>
                                                                <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="19c5d936-e4ff-4035-92f7-8a5a576d3426" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="a50e9dad-144c-40e6-8f1b-95da441fc0a8" action="eval">
                                                                            <command>
                                                                                <body>set current_status 1</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4f4e40a3-4f46-4f7d-8f84-3d26acc686e4" action="comment">
                                    <command>
                                        <body>Update the running status_list, t_mac and r_mac</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6ae84044-c70e-4ecd-8d25-782d9262a53d" action="eval">
                                            <command>
                                                <body>lappend status_list [get current_status]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="340fca7c-ca61-43ed-9a5a-a04425d71fef" action="eval">
                                            <command>
                                                <body>lappend t_mac_list [get t_mac]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="cb438eb6-cb4a-4b06-9473-1ff040eb6812" action="eval">
                                            <command>
                                                <body>lappend r_mac_list [get r_mac]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6d3f10f-0634-42b8-83db-0d2c5ded4034" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e923447-b53a-4509-ab75-1a75cb2324dc" action="if">
                    <command>
                        <body>[get log_cmd]</body>
                    </command>
                    <nestedSteps>
                        <item guid="70ae0094-541f-44b3-ae9d-30f532a4cbd7" action="then">
                            <nestedSteps>
                                <item guid="51894311-e2c0-460c-8442-da2efdffa6a9" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bf9d3a38-e5a6-4d4a-879a-42aec40a509c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d797ce3d-7c2f-440c-944c-513fb20caea5" action="comment">
                    <command>
                        <body>Now detrimine the final exit status, search the status_list for the value of 0. A return of -1 represents a passing status.</body>
                    </command>
                    <nestedSteps>
                        <item guid="ce8adf76-d6bf-4cc4-b1ae-42b84de89275" action="eval">
                            <command>
                                <body>set flag &quot;NOK&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="839b3b5f-1fdc-418e-a62f-387a29085432" action="eval">
                            <command>
                                <body>set hop_cnt 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e471e547-d99e-43e0-a963-bc36d9c6a1d7" action="eval">
                            <command>
                                <body>set loc -1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1da0b56c-7d7e-4335-904f-22fe65f50fd4" action="if">
                            <command>
                                <body>[lsearch $status_list 0] == -1</body>
                            </command>
                            <nestedSteps>
                                <item guid="0daa3424-6f01-4753-b3be-eda0329f178b" action="then">
                                    <nestedSteps>
                                        <item guid="f70c91d6-295f-4fae-b160-648cced56f8b" action="comment">
                                            <command>
                                                <body>No failures reported (value of 0 not in list). reset the value of flag to OK </body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="347c23a3-f79d-4f9e-9910-a3289bbc3d8b" action="eval">
                                            <command>
                                                <body>set flag &quot;OK&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="d5d88b99-29ef-40ac-b750-3dc7243ae99b" action="foreach">
                                            <command>
                                                <body>hop [get status_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4e7cb20c-bdd1-437a-93bd-9be6ae24ef66" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt: [incr hop_cnt]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="29db8492-24bd-47a3-9eb4-b48f96885ec2" action="write">
                                                    <command>
                                                        <body>Link trace HOP Target MAC: [lindex [get t_mac_list] [incr loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="94e14e4a-6576-4a73-a4e9-5d04223ae844" action="write">
                                                    <command>
                                                        <body>Link trace HOP Remote MAC: [lindex [get r_mac_list] [get loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e14266e5-888c-492d-9a93-a564377a9100" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt [get hop_cnt] STATUS: OK\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8ee16310-532c-483c-a30b-6c502a56ce1e" action="write">
                                                    <command>
                                                        <body>\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5e199726-5d88-49f3-8a23-556b09255c5a" action="else">
                                    <command>
                                        <body>We have one or more errors</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="42fcedb3-65fc-45ce-9be2-57e644b70da7" action="comment">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="9264aace-a8ca-473f-8350-6f0b2e8f6c7f" action="foreach">
                                            <command>
                                                <body>hop [get status_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="49f59145-8b32-4d66-94b9-59127c59abaf" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt: [incr hop_cnt]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9c4a08e8-be64-48d9-9737-c141f4b8f899" action="write">
                                                    <command>
                                                        <body>Link trace HOP Target MAC: [lindex [get t_mac_list] [incr loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4c777017-b05b-4599-809b-b19259c9f7be" action="write">
                                                    <command>
                                                        <body>Link trace HOP Remote MAC: [lindex [get r_mac_list] [get loc]]\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9c6d9705-4630-4811-b213-84ba25f4eb34" action="write">
                                                    <command>
                                                        <body>Link trace HOP Cnt [get hop_cnt] STATUS: NOK\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="af099ec6-7807-44ce-8dbb-53e516bdd4b8" action="write">
                                                    <command>
                                                        <body>\\r</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="6f1af194-3ce2-4a4d-befc-aadf378014bf" action="comment">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="09995f17-3b9d-4ffd-86f2-9ed931c89ff1" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6bb59d63-8daa-45d2-ad37-9faf3032c12b" action="write">
                    <command>
                        <body>Link trace HOP Overall STATUS: $flag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ffd62950-0dc4-4cff-abac-5b36aedaea98" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mwalleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Send seed link-trace action and store MAC address data.
Utilize the store data to perform link-trace action to each hop within the service.</multilineDescription>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_link_trace_mac_mep" isPublic="true">
            <description>Utilize MAC address of destination device to perform end to end testing</description>
            <steps>
                <item guid="04fc92e7-c275-4d1b-8776-e145cf83f737" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="943adb85-ee9f-4acb-afcb-ab48046600f3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3ec4a25d-cf71-48b2-8105-b2c21c7b49e0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bf3ae5a0-8afb-469a-b9df-1ccb5ce13330" action="comment">
                    <command>
                        <body>Seed the local variables: remote_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="4b4047e5-8500-4f50-ab4e-dda8f0906de8" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7c54397b-294f-4f4c-8b17-d20cde536712" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id</body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="3cd2e27c-e977-4fdd-a8e7-6368a9136030" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="430593c7-d015-471f-8a56-737be751f72f" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="97e037b7-d235-45a6-bff0-6c9dd5349015" action="command" session="$session">
                            <command>
                                <body>cfm link show service $service_id mepid $source_mep_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>target_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>mac_addr</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="45b295ca-aebe-4b59-93cd-00e3e54c3523" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f0705775-f195-44d2-b6ad-8f9b035f7d86" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7d92eec1-06f3-45a2-a1d7-eb1da67b640b" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d7aa7398-91d4-4edb-85bb-10c8894286e6" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e513fd10-53e7-4504-a4bc-1e1f46b0f374" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="bbafab52-c3c0-4568-97ef-e1e2a4c319e7" action="then">
                            <nestedSteps>
                                <item guid="56f9cfc6-e56a-47c0-836f-2a656592d9b7" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7966455a-9057-46df-9f2d-827dc65b3080" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="34ca2b09-6ea4-4eea-b41e-6fec838d3eed" action="command" session="$session">
                                    <command>
                                        <body>cfm linktrace send-mac service $service_id mac $mac_addr local-mepid $source_mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="34a101c6-5a46-40f8-a4b3-3703847cbc63" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b727b5ca-a614-446c-9e20-a072d22aaff4" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a3424732-6c24-44ce-ada3-02a064b2391e" action="command" session="$session">
                                    <command>
                                        <body>cfm link show service $service_id mep $source_mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>link_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseFilterList merge="true">
                                        <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                            <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                        </item>
                                    </responseFilterList>
                                </item>
                                <item guid="125df404-789b-4be8-9f34-35da1764bc0e" action="eval">
                                    <command>
                                        <body>puts [string equal $t_mac_address $r_mac_address]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e458a8eb-0413-4fff-ba00-b09d675162f6" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2cc5104e-a818-4d09-8221-6a46ff02e0b2" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7fab4325-d123-4eeb-9051-09e214927d1d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="f7e26cb0-f42e-449f-a366-39a5215dd46d" action="else">
                            <nestedSteps>
                                <item guid="d1826e29-fa06-459b-b318-086bead91511" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b5b18d23-8478-4f33-b1ee-b17906eea136" action="command" session="$session">
                                    <command>
                                        <body>cfm linktrace send-mac service $service_id mac $mac_addr local-mep $source_mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="4559da39-42fb-42c5-8972-2b7a58c571af" action="sleep">
                                    <command>
                                        <body>10</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a6c75e40-cc3e-4ff1-a72e-b743ed263cb8" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm linktrace show service $service_id mepid $source_mep_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>target_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>t_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>(.//remote_mep_mac_address)[1]</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>r_mac_address</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>link_results_mac_mep</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_link_show.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="648ecbdb-36d4-4df7-9e5e-69eeb8ee08bc" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6bbfaf3a-95e0-456c-8969-e76a79e47cf8" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="85e77332-9286-468e-91d0-134754efb395" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b2c9e019-07a9-4dd0-aa4d-664d9e3734cc" action="comment">
                    <command>
                        <body>set the default exit status == NOK</body>
                    </command>
                    <nestedSteps>
                        <item guid="516c2604-d282-427b-a3ec-3d15fabc2cae" action="eval">
                            <command>
                                <body>set flag &quot;NOK&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="94fb7586-1dfd-4458-810c-fbbb121ad1e7" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="736ec4f9-5d9f-4358-8736-adccf7a5ceb0" action="if">
                    <command>
                        <body>($t_mac_address != &quot;&quot;) &amp;&amp; ($r_mac_address != &quot;&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="fe631a8f-0f98-43c6-81ce-f8b0d83ba3a5" action="then">
                            <nestedSteps>
                                <item guid="4fcd3c04-34bd-479f-851f-344c9f324998" action="if">
                                    <command>
                                        <body>[string equal $t_mac_address $r_mac_address] == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="de6b00f9-5eee-4719-8208-436551af7a62" action="then">
                                            <nestedSteps>
                                                <item guid="2149dfc7-2d76-450f-8a05-caa1e1deab5e" action="eval">
                                                    <command>
                                                        <body>set flag &quot;OK&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="570aafcb-b1e4-459e-9d20-9e1b046bb33e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="727883bf-cb70-4af8-a579-160a25237c34" action="write">
                    <command>
                        <body>Local MEP id: [get source_mep_id]\\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a1961f51-ce2e-4be5-9af6-87f53027dc8d" action="write">
                    <command>
                        <body>Target Mac Address: [get t_mac_address]\\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1759f53d-9ca9-410c-8e9c-4383ba212b29" action="write">
                    <command>
                        <body>Link trace MAC: $flag</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7f5c15d9-13d3-4c95-871a-3946333869e7" action="comment">
                    <command>
                        <body>Link trace Target MAC: [get t_mac_address]\\r</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mwalleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Send seed link-trace action and store MAC address data.
Utilize the store data to perform link-trace action to all remote MEP&apos;s within the service.</multilineDescription>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_lmm" isPublic="true">
            <description>Utilize the MEP ids and perform loopback end to end</description>
            <steps>
                <item guid="481b88fc-aafe-4c03-897b-79a24930d8a9" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a40c99a3-45e3-441f-adbc-258665098f4c" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7f881798-8c10-4f4f-b937-639d6ec187c8" action="eval">
                    <command>
                        <body>puts &quot;$service_id    $source_mep_id    $destination_mep_id    $count    $priority&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e1530b0b-ce6a-4367-bdda-cf08ac780695" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d9b8ddc4-8782-4d59-b2ea-993c70bf956a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ada86782-ed32-4f1b-91a1-3d51065b5081" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="9d6e428f-ca10-4395-a5ca-7d099f92fdd7" action="then">
                            <nestedSteps>
                                <item guid="7a7a40c2-c792-446a-8ace-a895cb38469c" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6f67d6bb-7171-49af-b8f0-5355f515dbaa" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                    <responseFilterList merge="true"/>
                                </item>
                                <item guid="5d46dfe3-f8be-4169-a0b0-786f706e0239" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1f3fa057-59c7-41d8-86de-b61ce0b703d0" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d1e86cb2-800c-45d0-87ee-8ae3518386ea" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Local_mepid()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>active_localMep</storageLocation>
                                                        <isStorageLocationGlobal>true</isStorageLocationGlobal>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Remote_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>[get session]_active_targetMacAddr</storageLocation>
                                                        <isStorageLocationGlobal>true</isStorageLocationGlobal>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_near()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_far()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>frame_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="3568e3ec-7572-4577-be27-5a070ddb9cf9" action="eval">
                                    <command>
                                        <body>puts [string toupper [get serviceError]]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7b6e72c5-f3f1-43d2-873b-919b327dd2fc" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="fa59bc2d-8286-4e92-b7ff-867f6820ffc7" action="else">
                            <nestedSteps>
                                <item guid="176bfed1-6268-4165-9247-25b6a289544e" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="f043ac15-d936-4287-8f0f-aba0f0365583" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0d4e0657-f95d-4097-9de7-62ec8834128c" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ad7a24fa-4fe5-4852-a635-e7b8d25d13a2" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Local_mepid()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>active_localMep</storageLocation>
                                                        <isStorageLocationGlobal>true</isStorageLocationGlobal>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Remote_mac_address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>[get session]_active_targetMacAddr</storageLocation>
                                                        <isStorageLocationGlobal>true</isStorageLocationGlobal>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_near()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_far()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>frame_results</storeResponseAt>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c18baa61-51b0-4159-a908-f80337084466" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3e2edb17-5fa0-4695-baf5-58fe5406f1d8" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c715fe97-b1d4-4fbd-b923-9e00f165e20e" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7990b6ef-c234-47b1-8bd9-36f921dcf0fa" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="781eaaa9-1e8f-4193-b2d7-194f47d96524" action="if">
                    <command>
                        <body>[string toupper [get serviceError]] == &quot;INVALID&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="a6ad39fc-f843-4f57-85b3-1a9aac87530a" action="then">
                            <nestedSteps>
                                <item guid="088a0c04-0288-4330-837e-efc41ceeca5c" action="write">
                                    <command>
                                        <body>Msg: [get serviceError]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4a437c30-4001-4ab9-a251-241f52c92a8a" action="else">
                            <nestedSteps>
                                <item guid="fe9f11be-ddd1-4769-a9be-bc2997ddb7f7" action="write">
                                    <command>
                                        <body>LMM success rate is: [expr [expr [format &quot;%0.2f&quot; [get lmmCnt]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ebbfa4bd-2cbc-449c-a4ad-4dbc42a8e8c6" action="eval">
                                    <command>
                                        <body>set lmr_loss_total [expr [expr [get lmrCnt] + [get nearLossCnt]] + [get farLossCnt]]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="13b8d79a-5250-479f-87dc-a008a1a71f8e" action="write">
                                    <command>
                                        <body>LMR success rate is: [expr [expr [format &quot;%0.2f&quot; $lmr_loss_total] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="16f9311b-b5c5-42df-b33b-c819d8db1b7b" action="write">
                                    <command>
                                        <body>LMR count is: [get lmrCnt]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="51b30804-695c-48c2-905f-e36d0564a30d" action="write">
                                    <command>
                                        <body>Msg: Valid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1bf9ed9b-dd00-43de-bb21-5a037b6a4b37" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="priority"/>
                <item name="count"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_lmm_mac_mep" isPublic="true">
            <description>Utilize MAC address and perform loopback to destination MEP</description>
            <steps>
                <item guid="5cd93ea1-39bd-412e-a39d-575dc5aa5064" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6a3103eb-07c0-4cf4-a524-fb0ab53374b8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="29834919-2e6e-4185-a965-855e1d514be0" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8be4399c-56cd-4283-a4b7-1a70b3f88c97" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6d44e9bd-517a-44bb-bdb5-a98771c4d8d7" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="51935eb1-dbc0-420b-85e5-40a15d193b3e" action="then">
                            <nestedSteps>
                                <item guid="0da3f81a-8535-4144-a243-7e4a65497372" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9a669490-2bbc-46e1-becf-e097657a73cf" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="60f7cac4-c991-48ed-aa0a-acf624d94920" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss send-mac service $service_id mac $mac_addr local-mepid $source_mep_id count $count priority $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="0a1e5e19-6144-48b0-b23b-1f98616cf06a" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="936c128a-268e-4137-ab0a-d9d4eb7b4dcb" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="adf37f16-0824-4a7f-bfb8-70da24f3a038" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_near()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_near()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>frame_results</storeResponseAt>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="882a405d-205a-44b6-8c3a-16f8f9c82f16" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="38275cf8-28c0-4aa6-8e51-b5b293c85ee3" action="eval">
                                    <command>
                                        <body>puts [string toupper [get serviceError]]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c4960566-b146-4e40-9df1-f578a71daa0e" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8cbc8920-eead-46f1-bb6d-7d225865a080" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a8d7165e-077f-4276-8554-88f22253e2aa" action="else">
                            <nestedSteps>
                                <item guid="dcd1a9a9-3b64-459a-9354-ebfa4bacc75d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e7844dbf-16a8-4ddd-89bf-f081a5c77a34" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss send-mac service $service_id mac $mac_addr local-mepid $source_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="08fa5754-bd39-443b-b7c0-e869533c21f0" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9019098c-2f98-4b5e-a6ed-c4d785f3efc1" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 10] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3b3b75d2-6b52-41f2-96c3-ba3592aba490" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ec47150f-5307-4a39-9b84-1f07a89ae604" action="command" session="$session">
                                    <command>
                                        <body>cfm frame-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>LMR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>lmrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_near()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Loss_far()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLossCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>frame_results</storeResponseAt>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c940ac34-8344-4192-95d3-d85e74d332ab" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="44444eec-c43e-4bef-baef-cfd048f40d63" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2bf70d25-2ba1-42d2-9e72-b243825831ca" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="667a2b0c-a687-48fa-bc70-47479143fb72" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="13dfb49f-ceb8-46d7-b783-b01b0f73b629" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="81843ef6-5980-4cf4-aa1c-de21783ee7eb" action="if">
                    <command>
                        <body>[string toupper [get serviceError]] == &quot;INVALID&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="3c6fedd5-808f-4e73-9e7b-2d7059c4f2ac" action="then">
                            <nestedSteps>
                                <item guid="6d0bb07a-7f11-4b18-b718-d3ecdaabca38" action="write">
                                    <command>
                                        <body>Msg: [get serviceError]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="51d7a8ef-2e42-4502-a4fd-9b08011eb7ce" action="else">
                            <nestedSteps>
                                <item guid="217078df-645e-41e5-94a6-971e7a48d4da" action="write">
                                    <command>
                                        <body>Local MEP id: [get source_mep_id]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0a9db304-8b48-4fa3-8552-3b5055b7606d" action="write">
                                    <command>
                                        <body>Target Mac Address: [get mac_addr]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="59d29eab-d3e1-427b-8017-2a9857dcc605" action="write">
                                    <command>
                                        <body>LMM success rate is: [expr [expr [format &quot;%0.2f&quot; [get lmmCnt]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b25bafa9-6259-4adc-8a3c-f1a7d272c78b" action="eval">
                                    <command>
                                        <body>set lmr_loss_total [expr [expr [get lmrCnt] + [get nearLossCnt]] + [get farLossCnt]]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1669ac5d-bfbe-498e-989e-0c87032e8580" action="write">
                                    <command>
                                        <body>LMR success rate is: [expr [expr [format &quot;%0.2f&quot; $lmr_loss_total] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="49426869-288c-4417-8824-de6e7a7e0b86" action="write">
                                    <command>
                                        <body>LMR count is: [get lmrCnt]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d99b144b-f6f6-45ba-8b58-747744a1c2b0" action="write">
                                    <command>
                                        <body>Msg: Valid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="72922a76-1a72-450e-a169-71e82be56e51" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mwalleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Send link-trace to remote MEP and store all device cfm MAC addresses.
Utilize the store data to perform loopback message action to all remote MEP&apos;s within the service.</multilineDescription>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="priority"/>
                <item name="count"/>
                <item name="mac_addr">
                    <description>target used for frame-loss action</description>
                </item>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="cfm_cleanup" isPublic="true">
            <steps>
                <item guid="7e31c092-24b1-40d3-90f5-6ebf91c079f0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2dff42a4-bebc-47f7-be27-2c63d5611826" action="for">
                    <command>
                        <body>{set vpls_counter 0} {$vpls_counter &lt; $no_instances } {incr vpls_counter}</body>
                    </command>
                    <nestedSteps>
                        <item guid="36ba4316-8e71-4852-93f0-ea6978651e84" action="if">
                            <command>
                                <body>$level == 3</body>
                            </command>
                            <nestedSteps>
                                <item guid="d8c6f9f9-8c4a-4531-8d8b-0c544c505c44" action="then">
                                    <nestedSteps>
                                        <item guid="dea9192d-8660-4add-a199-9f5d4c01491e" action="eval">
                                            <command>
                                                <body>set tmp_service_number [expr [expr $service_number + $vpls_counter] + $service_number_increment]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a7e9c0f1-7c89-4cdd-aed3-e0fd7a7f0026" action="else">
                                    <nestedSteps>
                                        <item guid="b07a0aea-2994-4949-b051-450a7551edb3" action="eval">
                                            <command>
                                                <body>set tmp_service_number [expr $service_number + $vpls_counter]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="faa5ad9c-658f-4b1b-a37a-cc51ddebd5a1" action="eval">
                            <command>
                                <body>set md &quot;$service_name:$tmp_service_number-${level}&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="673d0896-a317-470c-875b-208f8875d8db" action="comment">
                            <command>
                                <body>MIKE - Added check for presence of valid CFM service, if found proceed to clean-up</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="127ccc22-c5b4-4481-842d-3c1d64ecb596" action="command" session="$session">
                            <command>
                                <body>cfm service show service &quot;${md}$ma&quot;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>SHELL PARSER FAILURE</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set cfm_service_present 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>No CFM service found matching ${md}$ma on $session. Skipping Clean-up.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>no matching entry found</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set cfm_service_present 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>No CFM service found matching ${md}$ma on $session. Skipping Clean-up.</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set cfm_service_present 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Proceeding to Cleanup CFM service ${md}$ma on $session</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cc091aed-790b-4c20-87c5-a2bf6e95c6a5" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a582b6f4-b252-453a-afc2-544aaaefb9e0" action="if">
                            <command>
                                <body>[get cfm_service_present]</body>
                            </command>
                            <nestedSteps>
                                <item guid="b9d0ae66-98b9-475d-a09e-2ab68ea20022" action="then">
                                    <nestedSteps>
                                        <item guid="42bdc493-4234-4022-a376-36671dcd8113" action="cfm_delete_domain" session="$session">
                                            <command>
                                                <body>-md $md -ma $ma -level $level</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="project://di_ciena/session_profiles/ciena_saos_ref_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="26230062-573a-44f4-be48-1b266ceb922c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="no_instances"/>
                <item name="level"/>
                <item name="service_number"/>
                <item name="service_number_increment"/>
                <item name="ma"/>
                <item name="service_name"/>
            </arguments>
        </item>
        <item name="cfm_slm" isPublic="true">
            <steps>
                <item guid="e6477e98-1fa8-48a5-ab35-8bfe141e18fe" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f0677ca5-f029-4495-9da3-315c0490cbba" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="597149b6-6cd7-440b-8f66-2431b6508edd" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f937071e-8434-4eae-808c-563a21e04d8c" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c0c8f159-f67e-4f98-b3e4-d13ef3ec03e7" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d093715f-8161-46ad-a7fb-2d084a74e16a" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="fc65c738-cf7d-4319-b9db-d2216e7496f1" action="then">
                            <nestedSteps>
                                <item guid="ef7d9ca6-0e7c-46c9-ab03-c8c219233794" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8d88ce90-0306-4fbb-acaf-0d1212cf02d7" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="41e1a8e7-12a4-4903-b437-05f7efa2b990" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9e85f00e-fb26-4fa6-bd2c-34a0ab194624" action="command" session="$session">
                                    <command>
                                        <body>cfm synthetic-loss send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="dff91e3a-97f0-4816-aa53-35120d909225" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 5] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fa5ad2a9-35e2-43dd-b2bd-58df1d1cdf31" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="283a3874-0f0b-48de-a6c5-31c40d4ce321" action="command" session="$session">
                                    <command>
                                        <body>cfm synthetic-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Near_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Far_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>syn_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="d932c915-bdd5-408c-8866-ddb32fe43047" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="32e78bcc-23e1-4e6c-8ab7-cf7803014085" action="eval">
                                    <command>
                                        <body>puts [string toupper [get serviceError]]</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e388e327-38d5-4602-978c-18d384877e15" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4c23c6fd-d82f-4c3d-b6b8-ba2d6f78172b" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ca25a833-a9f0-4aa0-909b-f17c75a83829" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e19e3570-5ef2-4406-8371-06fa201ea043" action="else">
                            <nestedSteps>
                                <item guid="491a37d2-d380-43df-b7c7-f8eafea60327" action="command" session="$session">
                                    <command>
                                        <body>cfm synthetic-loss send service $service_id local $source_mep_id mep $destination_mep_id count $count priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="fd5866ba-1bf6-40e2-a3cb-3c0914278136" action="eval">
                                    <command>
                                        <body>set delay [expr [expr $count / 5] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f5f025bf-cf24-4f22-9075-858c7ed597dd" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a2a60e50-9de5-4e1e-9a98-447b6fb82e70" action="command" session="$session">
                                    <command>
                                        <body>cfm synthetic-loss show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLM()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slmCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SLR()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>slrCnt</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Near_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nearLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Far_Loss()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>farLoss</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Error()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>serviceError</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>syn_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseFilterList inherit="false"/>
                                </item>
                                <item guid="6fe69b0f-893b-418e-9490-94f6e76abfd2" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="dd6f657b-f788-471c-9e32-3ceaa71cbe36" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id statistics</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="464810bc-c213-478e-a6f3-c7df96538902" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="68bf781f-93d9-4572-9deb-dca95bc4a041" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9d6ff094-f177-4cb8-a577-b888036e7513" action="if">
                    <command>
                        <body>[string toupper [get serviceError]] == &quot;INVALID&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="e62fe6aa-79ee-4233-9598-cf8528a5fe13" action="then">
                            <nestedSteps>
                                <item guid="c68985bd-67c9-4496-a1ca-6b547642d944" action="write">
                                    <command>
                                        <body>Msg: [get serviceError]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="5432513f-9027-4c0a-b2fc-31906e588f7b" action="elseif">
                            <command>
                                <body>([get nearLoss] == &quot;N/A&quot;) || ([get farLoss] == &quot;N/A&quot;)</body>
                            </command>
                            <nestedSteps>
                                <item guid="a0f02994-d48f-4c77-9f85-72a438b8c957" action="write">
                                    <command>
                                        <body>Msg: Invalid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="2ab1b52b-afcb-4a8d-a659-91eadf22ebce" action="else">
                            <nestedSteps>
                                <item guid="43006abb-1d7e-4828-975d-88f7536974a5" action="write">
                                    <command>
                                        <body>SLM success rate is: [expr [expr [format &quot;%0.2f&quot; [get slmCnt]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e49fee1e-83d2-45e6-b810-3d3db67bee35" action="eval">
                                    <command>
                                        <body>set near_loss [get nearLoss]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4738c9e8-49dd-47e6-bc28-f3e7ce7a822c" action="eval">
                                    <command>
                                        <body>set far_loss [get farLoss]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="44dc3477-6b29-4e55-b886-1d8fb5ab0d9a" action="eval">
                                    <command>
                                        <body>set slr_loss_total [expr [expr [get slrCnt] + $near_loss] + $far_loss]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0de75aa3-aa9d-449f-a13e-db9d7547c7c5" action="write">
                                    <command>
                                        <body>SLR success rate is: [expr [expr [format &quot;%0.2f&quot; $slr_loss_total] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c259b684-c7ee-4329-aa1d-d7ed740b3d61" action="write">
                                    <command>
                                        <body>SLR count is: [get slrCnt]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1a5ede01-efd8-4a58-8e05-8fd312e7043c" action="write">
                                    <command>
                                        <body>Msg: Valid</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8f0992c8-a7ea-4dc7-8d0b-852a388a6dc6" action="comment">
                                    <command>
                                        <body>Pre 6-13 commands and reporting</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ce132ca9-1ef2-468a-80b7-e9c857e4399b" action="write" skip="true">
                                            <command>
                                                <body>SLM success rate is: [expr [expr [format &quot;%0.2f&quot; [query syn_results SLM()]] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7eccb4e5-bfc6-48cb-aee6-f6762e5a2608" action="eval" skip="true">
                                            <command>
                                                <body>set near_loss [query syn_results Near_Loss()]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="505e88d4-5d55-40d5-afd6-233014c361a4" action="eval" skip="true">
                                            <command>
                                                <body>set far_loss [query syn_results Far_Loss()]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="3e9a18cc-f7e4-4096-815f-02cd53baa916" action="eval" skip="true">
                                            <command>
                                                <body>set slr_loss_total [expr [expr [query syn_results SLR()] + $near_loss] + $far_loss]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="c78dfb8a-2264-411b-a642-fe564ca0b8cc" action="write" skip="true">
                                            <command>
                                                <body>SLR success rate is: [expr [expr [format &quot;%0.2f&quot; $slr_loss_total] / [format &quot;%0.2f&quot; $count]] * 100]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="95c524a6-5f9d-40d2-aa49-6deada27d940" action="write" skip="true">
                                            <command>
                                                <body>SLR count is: [query syn_results SLR()]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b7e0cd27-ef2f-4dc3-8287-d85590a5b451" action="write" skip="true">
                                            <command>
                                                <body>Msg: Valid</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ee49408d-7019-4dd0-824b-0fdf71fa2c9d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1809e1b1-c870-4a00-a624-e6030d75ef9d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="priority"/>
                <item name="count"/>
                <item name="destination_mep_id"/>
                <item name="source_mep_id"/>
                <item name="ma"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="change_ccm_interval" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="5e5c0ce2-5acb-42c8-890c-f7a6c2135b43" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1f6297e6-4c1e-4d4d-8422-cf584e07a56e" action="if">
                    <command>
                        <body>![get alt_syntax]</body>
                    </command>
                    <nestedSteps>
                        <item guid="0b27882f-c0ed-4b60-bd2f-7936ba2fd548" action="then">
                            <nestedSteps>
                                <item guid="78b3a275-f60c-405f-b5fb-77eb89b9ac2d" action="command" session="$session">
                                    <command>
                                        <body>cfm service set service $service_id ccm-interval ${ccm_interval}sec</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>SHELL PARSER FAILURE</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ebd544da-1d55-4ee8-9e60-362fae29bdcd" action="if">
                                    <command>
                                        <body>[get legacy_command]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="bc907066-ee6e-4408-aaa2-61a08e795d00" action="then">
                                            <nestedSteps>
                                                <item guid="4f438404-3c1f-4e97-b961-dd5e5e654ae9" action="command" session="$session">
                                                    <command>
                                                        <body>cfm service set service &quot;${md}$ma&quot; ccm-interval ${ccm_interval}sec</body>
                                                    </command>
                                                    <postProcessing>
                                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                        <appendRespToFile inherit="false" defaultValue=""/>
                                                        <responseHeader inherit="false">###################################</responseHeader>
                                                        <appendSession inherit="false">true</appendSession>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e836edde-b1f3-4eeb-a1b7-c9fbd8d054a8" action="else">
                            <nestedSteps>
                                <item guid="2dc19af9-7956-465d-a585-62169e84312c" action="comment">
                                    <command>
                                        <body>WE EXPECT the proper interval notation passed - Used from:  &apos;cfm_defect&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0db5c2f8-e439-47da-ad10-492e1899ba3c" action="command" session="$session">
                                    <command>
                                        <body>cfm service set service $service_id ccm-interval ${ccm_interval}</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>SHELL PARSER FAILURE</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="e16fc5c4-046a-4096-a499-7050539295b0" action="if">
                                    <command>
                                        <body>[get legacy_command]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ff28cf8a-5445-4df7-bd32-6bb5eb96909c" action="then">
                                            <nestedSteps>
                                                <item guid="bf6c560b-045f-44d9-814a-0db0e212885a" action="command" session="$session">
                                                    <command>
                                                        <body>cfm service set service &quot;${md}$ma&quot; ccm-interval ${ccm_interval}</body>
                                                    </command>
                                                    <postProcessing>
                                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                        <appendRespToFile inherit="false" defaultValue=""/>
                                                        <responseHeader inherit="false">###################################</responseHeader>
                                                        <appendSession inherit="false">true</appendSession>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c2ce2f2f-3c00-40de-ac52-b2359e2f5aec" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="ccm_interval"/>
                <item name="alt_syntax">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="check_cfm_global_state" isPublic="true">
            <description>Check the CFM service state during cfm_setup and enable as required.</description>
            <steps>
                <item guid="86429a07-682d-4000-b938-06b4ee624ae6" action="comment">
                    <command>
                        <body>cfm_global_config_value_by_key(&quot;Admin State&quot;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3e0f285d-ff41-446f-b977-0b40bfec0ef3" action="eval">
                    <command>
                        <body>set state_ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a3bcdd9e-3ade-4d00-a035-03949712d88b" action="command" session="$session">
                    <command>
                        <body>cfm show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>cfm_global_config_value_by_key(&quot;Admin State&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;Disabled&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set state_ok 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="bdbd1fe9-0f4b-4c43-85d0-b1e29568d1ef" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c69bd91f-89bf-4002-93ac-880cfb2979b2" action="if">
                    <command>
                        <body>![get state_ok]</body>
                    </command>
                    <nestedSteps>
                        <item guid="6eca0cf5-2258-433f-a5cc-8e9aa28462d9" action="then">
                            <nestedSteps>
                                <item guid="994a8793-6b23-4bcc-a1b8-cc3fd81a869a" action="comment">
                                    <command>
                                        <body>Fix it this is called from cfm_setup &amp; ensure it really is.</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b85da3e3-7fbc-4968-8f5a-3e060ef494b8" action="command" session="$session">
                                    <command>
                                        <body>cfm [get global_state]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="a5fe3567-7d76-4980-a34c-28ece8e0a8bf" action="command" session="$session">
                                    <command>
                                        <body>cfm show</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>cfm_global_config_value_by_key(&quot;Admin State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq &quot;Enabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set state_ok 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="4c92c8db-0186-48c0-93f1-d450af214da0" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="133fd739-6145-40bb-a7c4-0c07b767b69d" action="if">
                                    <command>
                                        <body>![get state_ok]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="03be2719-b816-4b7e-88b1-d19bd466be3b" action="then">
                                            <nestedSteps>
                                                <item guid="2b50491e-d900-45f4-87d9-3318944356f9" action="comment">
                                                    <command>
                                                        <body>Write an error to test report</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="da8bf64c-2312-45ae-b8dd-7d6f6edc2c3c" action="else">
                                            <nestedSteps>
                                                <item guid="0f5a4155-4e0c-4981-9f0e-982cb634c292" action="comment">
                                                    <command>
                                                        <body>Insert steps here for when expression is false</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="afb1dba2-00dd-4598-9a7c-28ced5c5462e" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d0f3db22-225e-4722-8b29-d2ec413622c3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2a19f7f2-6919-4474-acf8-cb7ef0995c8c" action="return">
                    <command>
                        <body>[concat state_ok : $state_ok]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b14697c1-9d5a-4a45-978d-de8f15fd52f8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>1.0</version>
            <multilineDescription>Globally enable or disable a cfm service</multilineDescription>
            <arguments>
                <item name="session"/>
                <item name="global_state">
                    <defaultValue>enable</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="check_cfm_service_status" isPublic="true">
            <description>Query each service domain for status and report</description>
            <steps>
                <item guid="0f69f44c-0574-4028-b336-4a65a80997cb" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c8334873-cf14-49c8-a78c-afaaea3aff2e" action="comment">
                    <nestedSteps>
                        <item guid="45b7b727-87c7-454d-b34e-923d6323fa22" action="eval">
                            <command>
                                <body>set nullExpected &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ea85c37c-cea7-46d0-b4cf-848c122df181" action="eval">
                            <command>
                                <body>set serviceError &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="780a7c5e-a5b6-4ae7-b29d-903c22330d93" action="eval">
                            <command>
                                <body>set serviceFaultPresent 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="10364e59-a7fd-4410-aa91-a4be79dca34f" action="eval">
                            <command>
                                <body>set repeat_delay 30</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="dbbaa952-1c27-4476-be6e-6382dd9f299e" action="eval">
                            <command>
                                <body>set repeat_cnt 20</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ed05be46-0b72-4aeb-829d-28bd8c47c53a" action="if">
                    <command>
                        <body>$log_report</body>
                    </command>
                    <nestedSteps>
                        <item guid="8d93a6fe-f260-4735-a338-e08d53e59bf1" action="then">
                            <nestedSteps>
                                <item guid="b32e378b-fdb4-4e7e-9f58-0c408b859d2d" action="comment">
                                    <command>
                                        <body>write output to log file</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1a8df5fe-6215-4b9c-8362-3bf1abd2228b" action="comment">
                                    <command>
                                        <body>AP: Per Pritesh, increasing the delay to 30s from 15s</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="cb99831d-9a58-4825-8072-c26d810feafe" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Oper State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;disabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>enable_cfm_service -session $session -service_id $service_id</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="3"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nullExpected || $value eq &quot;NONE&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>CFM service ${md}$ma reporting NO SERVICE FAULTS for $session.</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Service Faults Encounter for service ${md}$ma on $session. Fault(s): $value</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Sleeping for ${repeat_delay} seconds and Repeating step.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set lastFaultStr $value</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="[get repeat_cnt]" maxRepeatCount.sub="true" delayBetweenRepeats="[get repeat_delay]" delayBetweenRepeats.sub="true"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>cfm_service_show_service</storeResponseAt>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="2b1bb105-c353-485b-b3bd-29df1999fe40" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4854d566-b0c1-43b0-ace6-2f80db033f7e" action="comment">
                                    <command>
                                        <body>Handle Unresolve service fault when found OR proceed with normal data capture.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="13b90201-24dc-4e78-80b5-27c6ef6a7950" action="if">
                                            <command>
                                                <body>![get serviceFaultPresent]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="cfd96cf9-8387-4ccb-9b66-4e4e29ab617e" action="then">
                                                    <nestedSteps>
                                                        <item guid="292fbed3-9a69-4407-ba0e-ca08348e1ac7" action="comment">
                                                            <command>
                                                                <body>-Mike Added these commands to store service data per device</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="1cfac693-e462-40fa-bdf9-25d4a6889557" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mepid()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mepid</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>port()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_uni_port</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="d43ef65e-5aae-4038-977d-54e9e0756347" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; remote-mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_rmt_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="0161e21b-9989-4fd2-8c7f-1d806541493a" action="eval">
                                                            <command>
                                                                <body>gset [get session]_CFM_SERVICE_INFO [list $service_mac_addr $service_mepid $service_uni_port $service_rmt_mac_addr]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="5f421b2f-5816-461e-b0ee-68e5421eb1e8" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="0d3fb403-8f9e-46b0-bf9e-db9396019df4" action="else">
                                                    <nestedSteps>
                                                        <item guid="cd1dfdde-5714-4dc4-902f-fe240983e752" action="eval">
                                                            <command>
                                                                <body>gset unresolvedCfmFault [concat CFM Service Fault: $lastFaultStr for ${md}$ma on $session]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="a9e3c303-be3a-4239-89fd-b88c1bfbace4" action="eval">
                                                            <command>
                                                                <body>set value &quot;UNRESOLVED SERVICE FAULT&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="021b6f02-ba90-4e45-9732-47c96c9579aa" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ddc13cc1-ff4e-4bb5-bd1e-f25d54eca47a" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="d58b71d9-566d-4186-82ef-20b99150f341" action="else">
                            <nestedSteps>
                                <item guid="d4e2d144-5a0c-42bb-b01e-be625d88b756" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bc002b75-1fbb-4e03-9aef-30fefdaefae8" action="comment">
                                    <command>
                                        <body>Use to store response to: cfm_service_show_service</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4c8e1ae3-20f3-4c06-b6e1-6524cda2c62e" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Oper State&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;disabled&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>enable_cfm_service -session $session -service_id $service_id</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="3"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq $nullExpected || $value eq &quot;NONE&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>CFM service ${md}$ma reporting NO SERVICE FAULTS for $session.</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Service Faults Encounter for service ${md}$ma on $session. Fault(s): $value</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message> Sleeping for ${repeat_delay} seconds and Repeating step.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set lastFaultStr $value</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="RepeatStep">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="[get repeat_cnt]" maxRepeatCount.sub="true" delayBetweenRepeats="[get repeat_delay]" delayBetweenRepeats.sub="true"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="064530e1-300a-4e79-8734-64c7fada3e6f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1ec758d0-87e5-405e-8125-030d65452590" action="comment">
                                    <command>
                                        <body>Handle Unresolve service fault when found OR proceed with normal data capture.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="7432d9f2-fc92-46f9-897f-2c13308fb5da" action="if">
                                            <command>
                                                <body>![get serviceFaultPresent]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="40e682e3-54bd-4751-8814-18b51c72df5f" action="then">
                                                    <nestedSteps>
                                                        <item guid="2c625853-7454-4507-a45e-e6bab9aee617" action="comment">
                                                            <command>
                                                                <body>-Mike Added these commands to store service data per device</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="1384b8b6-9cb8-4b6a-9583-40da04b745e7" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mepid()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_mepid</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>port()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_uni_port</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="6fe0fd7b-4c8a-4de5-b146-f48fa5d24343" action="command" session="$session">
                                                            <command>
                                                                <body>cfm service show service &quot;${md}$ma&quot; remote-mep</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mac_addr()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>service_rmt_mac_addr</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="f97401ed-b499-4494-bf74-48beb5a19049" action="eval">
                                                            <command>
                                                                <body>gset [get session]_CFM_SERVICE_INFO [list $service_mac_addr $service_mepid $service_uni_port $service_rmt_mac_addr]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="883c2944-8a6e-4a64-8800-8d94f7dfa757" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="67816fa6-bb98-4ab2-9958-a7738845595a" action="else">
                                                    <nestedSteps>
                                                        <item guid="e42b5f4b-60f9-41b0-81ba-b0021b27e780" action="eval">
                                                            <command>
                                                                <body>gset unresolvedCfmFault [concat CFM Service Fault: $lastFaultStr for ${md}$ma on $session]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="a57d50b4-912d-49be-afab-573ff5642229" action="eval">
                                                            <command>
                                                                <body>set value &quot;UNRESOLVED SERVICE FAULT&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="02908942-6acf-4794-987b-58581fcb56fa" action="comment">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e58fa726-d944-4a0b-9811-2558f3a7011c" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="60b5183a-601c-4faa-9bf9-f6fb02d525df" action="write">
                    <command>
                        <body>The Service Fault is: $value</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1dc41019-2eab-42f0-9d68-59af693acba9" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fc37e852-a331-439a-b557-65fe14c1ec4d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Foreach valid service query for service errors. If error(s) are present,wait 15 seconds and repeat step up to 6 times. If count is exceeded flag set, return value is adjusted accordingly.</multilineDescription>
            <arguments>
                <item name="service_id">
                    <description>cmf service name comstructed from ${md}$ma</description>
                </item>
                <item name="md">
                    <description>Maintance Domain key</description>
                </item>
                <item name="ma">
                    <description>Maintance Association key</description>
                </item>
                <item name="log_report">
                    <description>debug switch. default value 0 Causes single show command write output to file. </description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="check_local_mep_error_status_by_mep_id" isPublic="true">
            <steps>
                <item guid="8646e6a9-de3e-47cb-abc7-086668ef88f2" action="comment">
                    <command>
                        <body>cfm service show service VPLS:2980-4serv mep</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="eb8f5156-4f20-4fe5-b7a3-1400ee8d9744" action="command" session="$session">
                    <command>
                        <body>cfm service show service &quot;${md}serv&quot; mep</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="check_remote_mep_error_status_by_mep_id" isPublic="true">
            <steps>
                <item guid="763963df-f24c-446f-915d-630fd06f8e12" action="comment">
                    <command>
                        <body>cfm service show service VPLS:2980-4serv remote</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6ed5e7f5-5358-4a7f-962d-e90c489e9d20" action="command" session="$session">
                    <command>
                        <body>cfm service show service &quot;${md}serv&quot; remote</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="ma"/>
                <item name="md"/>
            </arguments>
        </item>
        <item name="check_uni_port_status" isPublic="true">
            <steps>
                <item guid="d53ba558-d1a5-4b07-bf2e-4690aca7e9a2" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="13021c40-9eb4-49ef-9305-3ccf188b8bdd" action="if">
                    <command>
                        <body>![string length $results_uri]</body>
                    </command>
                    <nestedSteps>
                        <item guid="37a5f6f5-4fc2-4482-ba4c-a267f818831b" action="then">
                            <nestedSteps>
                                <item guid="6d6dfac2-cace-4a93-bb55-b7bdc62cf462" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>port show</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">operational_link_by_port_name($uni_port)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>oper_status</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">admin_config_link_by_port_name($uni_port)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>admin_status</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/port_show.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="6454f579-83bd-4554-9f31-2fe18d320ab3" action="comment">
                                    <nestedSteps>
                                        <item guid="6005ee56-bf8e-4298-92cc-bd667e39f66d" action="eval">
                                            <command>
                                                <body>set port_status 0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8ee305f4-cc94-40fc-b2f1-d5f30a9e8ee2" action="comment">
                                    <command>
                                        <body>Check and Report Port Status</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>($oper_status == &quot;Up&quot;) &amp;&amp;  ($admin_status == &quot;Ena&quot;)</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                    <message>Uni Port is UP and fine to send Traffic</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set port_status 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message> UNI port has Problem, the Admin State = $admin_status and Operation Status = $oper_status</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set port_status 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="33812002-f9a0-4b33-848e-8ef395ad0912" action="else">
                            <nestedSteps>
                                <item guid="e03f8b4c-afc9-4489-bfba-c01ab4472fed" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8eecbbba-e193-4975-950d-8ea4d0aa310e" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>port show</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">operational_link_by_port_name($uni_port)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>oper_status</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">admin_config_link_by_port_name($uni_port)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>admin_status</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">${results_uri}</responseFile>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena/response_maps/port_show.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="0e93609e-f422-43b2-b5d5-efcd413a0748" action="comment">
                                    <nestedSteps>
                                        <item guid="fe7be425-73dd-4988-944a-539eecb36317" action="eval">
                                            <command>
                                                <body>set port_status 0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="d6f55d55-796e-4803-8c67-ba993fc23f66" action="eval">
                                            <command>
                                                <body>set blank &quot;&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7b09c4b1-5099-4eb7-89e3-b5819971c397" action="comment">
                                    <command>
                                        <body>Check and Report Port Status</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>($oper_status == &quot;Up&quot;) &amp;&amp;  ($admin_status == &quot;Ena&quot;)</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>Uni Port is UP and fine to send Traffic</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set port_status 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set port_state &quot;OKAY&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message> UNI port has Problem, the Admin State = $admin_status and Operation Status = $oper_status</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set port_status 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set port_state &quot;NOT OKAY&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e7e7da85-a0ea-4cc6-a39e-61b84c5051f4" action="writeFile">
                                    <command>
                                        <body>[get results_uri] [get blank]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="851d54d6-0fe3-40bb-acf2-dfadd6c20732" action="writeFile">
                                    <command>
                                        <body>[get results_uri] [concat NTE: ${session} UNI ${uni_port} STATE: ${port_state}.  AdminLinkStatus: ${admin_status}  Operation Status: ${oper_status}]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="177829b6-ee4e-4590-a12b-6783451c5c7d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2eef03c6-290a-4e5e-a990-ae2492b40900" action="return">
                    <command>
                        <body>[get port_status]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
                <item name="results_uri"/>
            </arguments>
        </item>
        <item name="cleanup_dba_ss_ppcos" isPublic="true">
            <description>Restore the default configuration after dba ss_ppcos has been configured</description>
            <steps>
                <item guid="97538581-57bb-40f0-b21c-21faf6e52d58" action="comment">
                    <command>
                        <body>Remove the congestion avoidance profile queues 0-4</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="abb63276-9343-42b0-858b-cc08a99a6734" action="for">
                    <command>
                        <body>{set q 0} {$q &lt;= 4} {incr q}</body>
                    </command>
                    <nestedSteps>
                        <item guid="e9118cf3-9c67-4e95-9d9d-c870f4e9f4f3" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group unset queue $q port $port congestion-avoidance-profile</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f7e51dc0-3d53-42b5-abbe-505da4ab611f" action="comment">
                    <command>
                        <body>Unset the shaper rate and restore the scheduler algorithm</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5720006d-57b9-44c4-a872-e1c9db06db72" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group unset port $port shaper-rate burst-size</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ecbb8f6e-47f4-47d3-81a2-7dcd87c2c31e" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group set port $port scheduler-algorithm strict</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="669126cf-93a8-4851-b992-9230b63f5481" action="comment">
                    <command>
                        <body>Restore the default weights</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3b11cc35-820c-4969-9bac-3081e447c512" action="foreach">
                    <command>
                        <body> q  {7 6 5 4 3 2 1 0}    wt {0 80 70 60 50 40 30 20}</body>
                    </command>
                    <nestedSteps>
                        <item guid="2bac12ca-7969-4de6-bbc6-0310c261f5ae" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue $q port $port scheduler-weight $wt</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7f1ac891-833b-4ea0-a7c2-e095adb91c70" action="comment">
                    <command>
                        <body>Reset the values for queue 7, then 0-6</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="82d054c9-6952-4f90-9b4a-5c34966b2d50" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group set queue 7 port $port cir 1024 cbs 256 eir $port_speed ebs 256</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b24e4e8e-f105-4edb-a430-1cd4b77a73fc" action="for">
                    <command>
                        <body>{set q 6} {$q &gt;= 0} {incr q -1}</body>
                    </command>
                    <nestedSteps>
                        <item guid="5f6fe033-f1ce-4d4a-aff2-34f1e0ee2735" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue $q port $port cir 0  cbs 0 eir $port_speed ebs 256</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5123b2b6-12a2-4666-aa8d-036dac085792" action="comment">
                    <command>
                        <body>Done</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>This procedure sets the port queue settings back to the base defaults. This includes the shaper-rate, scheduler algorithm, scheduler weights, and cir, cbs,, and eir settings for queues 5-7</multilineDescription>
            <arguments>
                <item name="port">
                    <description>The uni port to configure</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="port_speed">
                    <description>This is used for the eir setting</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="clear_port_stats" isPublic="true">
            <steps>
                <item guid="dd2c6b53-c599-4618-bcb8-9888995b96bb" action="command" session="$session">
                    <command>
                        <body> port clear port $port statistics</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="clear_stats" isPublic="true">
            <description>Clear stats for specific ports on this nte</description>
            <steps>
                <item guid="04593797-4684-429b-b446-18c7be541bbc" action="command" session="$session">
                    <command>
                        <body>traffic-profiling  standard-profile clear statistics</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="68af2ec6-a8ff-4cc9-b74d-83aff5f76410" action="foreach">
                    <command>
                        <body>p $port_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="a06d5295-7b23-4a46-a8fa-af3ba6584755" action="command" session="$session">
                            <command>
                                <body>port clear port $p statistics</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f852a16c-f1c9-463f-a016-d100e316b3c1" action="comment">
                            <command>
                                <body>Clear queue stats regardless of configuration</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="404fc002-9aea-4769-8932-3381e29b0126" action="command" session="$session">
                            <command>
                                <body> traffic-services queuing egress-port-queue-group clear port $p statistics</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Clear traffic profiling, traffic queues, and port stats for the specified ports in the input port list</multilineDescription>
            <arguments>
                <item name="port_list">
                    <description>The list of (one or more) ports to clear</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="config_emux" isPublic="true">
            <steps>
                <item guid="3c4c98e2-01a6-4a4e-a17b-c25076896383" action="comment">
                    <command>
                        <body>The procedure configures a Ciena EMUX 3940 and 5140 for the customer vlans.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b0d9a509-e96e-4091-aec5-4603a83c7966" action="comment">
                    <command>
                        <body>First create the vlan and then add it to the uni and nni ports.</body>
                    </command>
                    <nestedSteps>
                        <item guid="04d2e0e5-32ab-4ca4-9332-a310e13df9da" action="command" session="$session">
                            <command>
                                <body>vlan create vlan $svlan name vlan$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="565c00cf-9e51-4a29-a283-cdea4d1ff96a" action="command" session="$session">
                            <command>
                                <body>vlan add vlan $svlan  port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c5018a19-eb92-4ee3-b9a2-e25a0ab36e46" action="command" session="$session">
                            <command>
                                <body>vlan add vlan $svlan  port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f7f61c5b-346c-4fe5-b402-263b436c0aca" action="command" session="$session">
                            <command>
                                <body>flow learning enable vlan $svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="9055f2f5-b05d-4abe-a69d-33823b9b8fb1" action="command" session="$session">
                            <command>
                                <body>port enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="8d1dc6a7-d470-4904-a453-54c46b8d0b5f" action="command" session="$session">
                            <command>
                                <body>config save</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="session"/>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="config_emux_agg_links" isPublic="true">
            <steps>
                <item guid="65958ccf-5cde-48a3-90e4-4f160e15f4cc" action="comment">
                    <command>
                        <body>The procedure configures a Ciena EMUX 3940 and 5140 aggregation links for the customer vlans.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0ed07a5c-e332-4b91-9551-e32ad2ce3a3b" action="comment">
                    <command>
                        <body>First create the aggregation link.</body>
                    </command>
                    <nestedSteps>
                        <item guid="2055c03b-3efe-4fa6-9671-14d6dd0b52e9" action="command" session="$session">
                            <command>
                                <body>port set port 21-24 mode sfp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="aefbc567-aafc-42f5-b098-1049c672dbd6" action="command" session="$session">
                            <command>
                                <body>port set port 21-24 auto-neg on</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cc902358-24e6-439b-999f-0ad86ee979b0" action="command" session="$session">
                            <command>
                                <body>port set port 21-24 speed gigabit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="80ceabc1-4b26-47b4-ab31-19dac1639b51" action="command" session="$session">
                            <command>
                                <body>port set port 21-24 duplex full</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d86ea90e-6b0b-4034-85f1-325657252f1c" action="command" session="$session">
                            <command>
                                <body>port set port 21-24 max-frame-size 913</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="62a686c4-b6a5-4bc8-a8f8-d7f09bf25598" action="command" session="$session">
                            <command>
                                <body>aggregation  enable </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="6f6411d0-8df0-4bd6-ae85-89a9c6c51f0b" action="command" session="$session">
                            <command>
                                <body>aggregation create agg $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="48ee21b8-4b4c-4cfa-b93f-84680895ae81" action="command" session="$session">
                            <command>
                                <body>aggregation create agg $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cc2fa350-c745-4013-85a2-2be871d601ca" action="command" session="$session">
                            <command>
                                <body>aggregation set agg $nni  hash ip-addr-based</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e9f15d4b-ed2e-4386-9379-39d964cd490b" action="command" session="$session">
                            <command>
                                <body>aggregation set agg $nni mode manual</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="81ae7459-9cc6-452a-8a3a-7ad8409b3ca1" action="command" session="$session">
                            <command>
                                <body>port set port $nni max-frame-size 9130</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="a3b56806-4d57-4bed-8e57-4080ba3538e2" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 127 port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5f67fd82-18fa-4a9b-b14d-e3a91926f71f" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4092 port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="dc1286cc-b6c6-44d6-a327-9273f9271831" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4091 port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="dcc62681-1241-442a-aa8b-183814d40048" action="command" session="$session">
                            <command>
                                <body>aggregation add agg $nni_port port 21</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e8b25990-0397-4684-959c-227de40dbb41" action="command" session="$session">
                            <command>
                                <body>aggregation add agg $nni_port port 22</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="fb296f55-ad49-466b-8dcd-b4af5d533185" action="command" session="$session">
                            <command>
                                <body>aggregation add agg $nni_port port 23</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="650370fd-8bea-49d9-ae1b-b04e30f3ca5e" action="command" session="$session">
                            <command>
                                <body>aggregation add agg $nni_port port 24</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="b2681744-41df-47c7-829f-e9d170ca3cfb" action="command" session="$session">
                            <command>
                                <body>config save</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="session"/>
                <item name="uni">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="config_enni" isPublic="true">
            <steps>
                <item guid="ab0c282b-db05-44fa-9c5b-5b45fcbf3664" action="comment">
                    <command>
                        <body>**************************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2b95c2d0-e12f-4391-9cd6-677f1dc33986" action="comment">
                    <command>
                        <body>This procedure creates an enni  configuration for both ERS and EWS</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1df00011-d338-4361-b1ea-f90a5985086a" action="comment">
                    <command>
                        <body>**************************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6ef7b0ec-59d8-4e0c-9f15-1783f7633e90" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="4916621c-6cde-484e-ac7e-35c0b77c42e5" action="eval">
                            <command>
                                <body>puts &quot;$svlan    $cvlan    &quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="63a13e58-656e-4c88-8f79-13f8831479bb" action="eval">
                            <command>
                                <body>puts &quot;$uni_port    $nni_port   $enni&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="aab817bb-4ae4-44ae-b6f1-18ad1c97e21a" action="comment">
                    <command>
                        <body>EWS - port based - Configurfation</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="45a8e1cb-4a6a-49b1-b539-be6031f589d7" action="if">
                    <command>
                        <body>[string match -nocase $serivce_type EWS]</body>
                    </command>
                    <nestedSteps>
                        <item guid="76458638-555b-483d-83f1-f9d2c5488850" action="then">
                            <nestedSteps>
                                <item guid="de36432f-0741-468c-82f5-328beb31e3c0" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="98c4f369-dffb-4f24-8f3a-f6db78db5e6b" action="command" session="$session">
                                    <command>
                                        <body>virtual-circuit ethernet set port $uni_port vlan-ethertype 88A8</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="61623e24-a3d5-448b-972f-f1cfa7759794" action="command" session="$session">
                                    <command>
                                        <body>vlan create vlan $internal_vlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="7e8e15e1-03b9-4bc9-9377-81f2bd5f791a" action="command" session="$session">
                                    <command>
                                        <body>vlan add vlan $internal_vlan port $uni_port,$nni_port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="313977f8-3148-4f3a-9636-10d8219295af" action="command" session="$session">
                                    <command>
                                        <body>flow learning disable vlan $internal_vlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ca62d0ee-60a2-44a1-a6d7-f0d3d0cda87e" action="command" session="$session">
                                    <command>
                                        <body>vlan translate add port $uni_port vlan $internal_vlan  vid   $svlan:$cvlan  to-vid  $internal_vlan:01</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="3df7c9b5-b01b-4c69-9fc6-f8245ca98143" action="command" session="$session">
                                    <command>
                                        <body>vlan translate add port $nni_port vlan $internal_vlan  vid   $svlan:$cvlan  to-vid  $internal_vlan:01</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b2dfa34f-83c6-4888-90d4-83aec2f20c2b" action="comment">
                    <command>
                        <body>ERS - vlan based -  Configurfation</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d4fcb840-6b13-4cc9-b4a7-b7015e477b28" action="if">
                    <command>
                        <body>[string match -nocase $serivce_type ERS]</body>
                    </command>
                    <nestedSteps>
                        <item guid="6d767fc2-5eee-4901-aafb-4b7abe3110e2" action="then">
                            <nestedSteps>
                                <item guid="3e0f3465-51d4-43ff-bd75-54e75e29fb70" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="70a250bf-2c6c-4fea-9462-472fa4e5ef68" action="command" session="$session">
                                    <command>
                                        <body>virtual-circuit ethernet set port $uni_port vlan-ethertype 88A8</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="37eb7ff0-9e4b-42ce-8e81-0412ef9e7867" action="command" session="$session">
                                    <command>
                                        <body>vlan create vlan $internal_vlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ffa131f5-b0fc-4318-b09c-4e87440d5f08" action="command" session="$session">
                                    <command>
                                        <body>vlan add vlan $internal_vlan port $uni_port,$nni_port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="199d8cc0-7bee-4fde-aa80-4009dd80b9c9" action="command" session="$session">
                                    <command>
                                        <body>flow learning disable vlan $internal_vlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="900edbde-79be-4967-9e17-f3532a0e87fa" action="command" session="$session">
                                    <command>
                                        <body>vlan translate add port $uni_port vlan $internal_vlan  vid   $svlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="6292e73d-b5d5-4131-aae4-b04ab585ee43" action="command" session="$session">
                                    <command>
                                        <body>vlan translate add port $nni_port vlan $internal_vlan  vid   $svlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="36adf677-202f-410a-9a9e-9bad996cba8d" action="comment">
                    <command>
                        <body>DONE</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="svlan">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="cvlan">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="service_type">
                    <description>EWS or ERS</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="internal_vlan">
                    <description>This is for ENNI only and just used internally.
It should be unique vs the C-VLAN and S-VLAN</description>
                </item>
            </arguments>
        </item>
        <item name="configure_eoam_802_3ah" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="2af7d477-425b-4555-8cf4-3fd93f9247e6" action="eval">
                    <command>
                        <body>puts $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f9c26614-ee07-4edc-a3ba-8d14ad3eb842" action="comment">
                    <command>
                        <body>Enable EOAM globally</body>
                    </command>
                    <nestedSteps>
                        <item guid="4810b3a5-ee94-48ec-bb87-c9cbe78fe695" action="command" session="$session">
                            <command>
                                <body>eoam enable</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e370d055-60d8-471f-b690-eab38d333bef" action="comment">
                    <command>
                        <body>Enable EOAM on P21-p24 and mode to be active which allows a loopback test can be started to a remote port</body>
                    </command>
                    <nestedSteps>
                        <item guid="02e0033a-62ae-4111-8100-b2495070b760" action="command" session="$session">
                            <command>
                                <body>eoam enable port 21</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="6b64fbf5-c975-4b51-9d3a-77bb3167b32d" action="command" session="$session">
                            <command>
                                <body>eoam set port 21 mode active</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="611b8653-41e2-4186-ab76-23da2c9d88b9" action="command" session="$session">
                            <command>
                                <body>eoam enable port 22</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e1a8b343-f2cf-466c-ab70-e541f70e726b" action="command" session="$session">
                            <command>
                                <body>eoam set port 22 mode active</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="61440a6a-ba95-496b-8ba4-2282600925f5" action="command" session="$session">
                            <command>
                                <body>eoam enable port 23</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="175aecce-3097-48ac-a55f-f03bbccb93e5" action="command" session="$session">
                            <command>
                                <body>eoam set port 23 mode active</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c7ffd912-2c72-4078-8198-16cb009abfef" action="command" session="$session">
                            <command>
                                <body>eoam enable port 24</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="265a9df4-69c7-441d-a7d4-1d0079e8a0de" action="command" session="$session">
                            <command>
                                <body>eoam set port 24 mode active</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="configure_customer_interface_ase_emux" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="98d27e4b-30f6-43e5-ba3b-fd49bae19051" action="comment">
                    <command>
                        <body>Configure customer interface (facing NTE/FBS/CPE Configurations</body>
                    </command>
                    <nestedSteps>
                        <item guid="baf12df5-4e28-4df6-8e72-9221a8227d58" action="comment">
                            <command>
                                <body>EMUX will only use SFP port</body>
                            </command>
                            <nestedSteps>
                                <item guid="66789bb8-82df-4042-86fe-c01d1442d77d" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-20 mode sfp</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="f8bbfb27-9680-43df-8f41-22790edb6dea" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-20 speed gigabit</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="9365e778-578a-4519-9421-2757585b41fc" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-20 duplex full</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="70a9cd42-bb4e-49cb-84de-56176a0dc059" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-20 auto-neg on</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="504028e4-6fc3-4690-af8a-995204cae9b0" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-20 acceptable-frame-type tagged-only</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="9677bfd8-37a8-4ce4-bc62-e2dd062c7bc6" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-20 max-frame-size 9130</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e70a356f-4437-4f43-b459-ae3d689dfd73" action="comment">
                            <command>
                                <body>Only port 21 is enabled</body>
                            </command>
                            <nestedSteps>
                                <item guid="550fa5f8-1809-4f15-970c-b8daa1d98fd6" action="command" session="$session">
                                    <command>
                                        <body>port disable port 1-20</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="4b45c1af-c4ad-407e-9a84-e53daa1462da" action="command" session="$session">
                                    <command>
                                        <body>port disable port 22-24</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="2eb77149-3288-4022-b480-3ae4e8c993d3" action="comment">
                            <command>
                                <body>Set EMUX port FcosRcos policy</body>
                            </command>
                            <nestedSteps>
                                <item guid="edae9d5e-0c78-4819-afe1-282158cc0319" action="command" session="$session">
                                    <command>
                                        <body>port set port 1-19 resolved-cos-map EMUX-FcosRcos</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2489325-c376-4d1a-8b78-1f52a6fc11ed" action="comment">
                    <command>
                        <body>Change EMUX Q0 WRED profile</body>
                    </command>
                    <nestedSteps>
                        <item guid="924ea288-f91f-4cd5-b5ea-a0154e3ca0f0" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port 1 congestion-avoidance-profile EMT-S-RED</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="a1b705a7-7f03-4d45-9b9d-433ad53615a7" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port 2 congestion-avoidance-profile EMT-S-RED</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="3eb2eba9-08b0-4aad-b754-085a6aa2f6e5" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port 19 congestion-avoidance-profile EMT-S-RED</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="configure_nte_uni_evc" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="90d5fa61-5156-430c-911e-b114c3fea720" action="comment">
                    <command>
                        <body>Create SVLAN</body>
                    </command>
                    <nestedSteps>
                        <item guid="9e95b1dd-3317-4c77-a9d5-b1e1dc39063f" action="command" session="$session">
                            <command>
                                <body>vlan create vlan $svlan name ers$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e1148ff-3895-4c3a-9980-63d6ed764b3b" action="comment">
                    <command>
                        <body>Assume LAG done UNI description</body>
                    </command>
                    <nestedSteps>
                        <item guid="663fdebb-2c00-4cd5-96d9-e04dd2a4950c" action="command" session="$session">
                            <command>
                                <body>port set  port $nni_port description nni$nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="40104b43-f684-49c9-900e-62ec710847aa" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port description uni$uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e065ee0b-8575-4f64-a8a0-971eea7fa804" action="comment">
                    <command>
                        <body>Add SVLAN to NNI port</body>
                    </command>
                    <nestedSteps>
                        <item guid="3b1d3648-80ff-4a2c-bd37-933d9854063e" action="command" session="$session">
                            <command>
                                <body>vlan add vlan $svlan port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ebecd292-7dd4-488b-b095-e0c094a209c1" action="comment">
                    <command>
                        <body>Create Virtual Circuit</body>
                    </command>
                    <nestedSteps>
                        <item guid="af5a2d25-981b-4db6-87d8-80b80a432671" action="command" session="$session">
                            <command>
                                <body>virtual-circuit ethernet create vc ers$svlan vlan $svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="71e2b64e-7bd0-4e64-a94a-4582b5a72f64" action="comment">
                    <command>
                        <body>Create Virtual Switch</body>
                    </command>
                    <nestedSteps>
                        <item guid="35731a91-2f4b-428d-8b6f-808a69912b64" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet create vs ers$svlan vc ers$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5a25e262-3506-4afd-ad92-a2ca94175680" action="comment">
                    <command>
                        <body>Add UNI port CVLAN 101-108 to VS: Each CVLAN can have PPCOS or SGOS</body>
                    </command>
                    <nestedSteps>
                        <item guid="87b8f798-6d1e-4eb0-a800-eeb1724545c7" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet add vs ers$svlan port $uni_port  vlan 101 encap-cos-policy fixed encap-fixed-dot1dpri 5 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="177b4d42-4601-4971-9302-4b6f14b05357" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet add vs ers$svlan port $uni_port  vlan 102 encap-cos-policy fixed encap-fixed-dot1dpri 4</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="70e9047d-8653-4479-b227-d1d7a804cd6b" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet add vs ers$svlan port $uni_port  vlan 107 encap-cos-policy fixed encap-fixed-dot1dpri 5 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cc41b458-2dbd-43f0-85c2-0bc1bb658346" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet add vs ers$svlan port $uni_port  vlan 108 encap-cos-policy fixed encap-fixed-dot1dpri 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e3e1cdc8-95ee-4b7a-8cfc-998f087b9152" action="comment">
                    <command>
                        <body>MAC learning enabled</body>
                    </command>
                    <nestedSteps>
                        <item guid="c226ec5e-0f57-44ef-a558-43cf49680f60" action="command" session="$session">
                            <command>
                                <body>flow learning enable vs ers$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="81aacf48-aadd-468a-b17e-4fcb708a9e09" action="comment">
                    <command>
                        <body>Use VLAN mode (default is dot1dpri).  For non-conforming traffic, the action is drop, but ARP traffic bypass</body>
                    </command>
                    <nestedSteps>
                        <item guid="6753f0eb-2beb-4a34-8935-954ae6aea43e" action="command" session="$session">
                            <command>
                                <body>traffic-profiling set port $uni_port mode standard-vlan nonconform-standard-profile drop  arp-standard-profile bypass</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4af5872a-38d8-4d02-a48a-c062841592ba" action="comment">
                    <command>
                        <body>Create ingress policer traffic profile to police on individual C-VLANs </body>
                    </command>
                    <nestedSteps>
                        <item guid="05277302-9579-4ce2-aae9-04fe29d75c0d" action="command" session="$session">
                            <command>
                                <body>traffic-profiling standard-profile create port $uni_port profile 1 name cvlan101 cir 5000 pir 5000 cbs 128 ebs 0 vlan 101</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d8f35cc9-0b26-49bb-9b47-9cece35daae8" action="command" session="$session">
                            <command>
                                <body>traffic-profiling standard-profile create port $uni_port profile 2 name cvlan102 cir 3000 pir 3000 cbs 128 ebs 0 vlan 102</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="3ec40a7e-a25f-45db-a9a8-69e348beb34f" action="command" session="$session">
                            <command>
                                <body>traffic-profiling standard-profile create port $uni_port profile 8 name cvlan108 cir 10000 pir 10000 cbs 128 ebs 0 vlan 108</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="51d6d1b0-5f81-4783-b803-e6af9e076fcd" action="comment">
                    <command>
                        <body>Config level 4 Up MEP for proactive purpose. </body>
                    </command>
                    <nestedSteps>
                        <item guid="335b4c7a-8ead-4b93-8ece-f612cd754a98" action="command" session="$session">
                            <command>
                                <body>cfm md create md VPLS:$vpls_no-4 level 4 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="6d17721b-6e2e-42f3-a8f4-246dac804247" action="command" session="$session">
                            <command>
                                <body>cfm service create vlan $svlan name VPLS:$vpls_no-4serv md VPLS:$vpls_no-4 ma-name-string serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ab97a0cd-8ad6-47e1-8812-2a83842ce94f" action="command" session="$session">
                            <command>
                                <body>cfm service enable service VPLS:$vpls_no-4serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="60a55c47-3467-400b-8259-9563601e88d3" action="command" session="$session">
                            <command>
                                <body>cfm mep create service VPLS:$vpls_no-4serv port $uni_port  vlan $svlan type up mepid 1000</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="beb28c64-7fae-4fce-aff8-488f64e08fc3" action="command" session="$session">
                            <command>
                                <body>cfm mep set service VPLS:$vpls_no-4serv local-mepid 1000 ccm-priority 6</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e2c79c6c-2cb6-4c16-82ab-5274e1d84c90" action="command" session="$session">
                            <command>
                                <body>cfm service set service VPLS:$vpls_no-4serv ccm-interval 10sec</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="71250f09-7bfb-4e29-b562-850718400b37" action="comment" skip="true">
                    <command>
                        <body>CVLAN bundle case</body>
                    </command>
                    <nestedSteps>
                        <item guid="faefb5fd-52ba-4fbe-9022-7b0d1a0aba33" action="command" session="$session">
                            <command>
                                <body>cfm md create md VPLS:30108-4 level 4 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="744cac38-1c55-42ea-a4e5-964d0dbc9495" action="command" session="$session">
                            <command>
                                <body>cfm service create vlan 1001 name VPLS:30108-4serv md VPLS:30108-4 ma-name-string serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="31eb292f-6838-44d7-8702-7d0d677ae8e9" action="command" session="$session">
                            <command>
                                <body>cfm service enable service VPLS:30108-4serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="029597e4-8944-4a88-96d8-2361d6efe48a" action="command" session="$session">
                            <command>
                                <body>cfm mep create service VPLS:30108-4serv port $uni_port  vlan 101 type up mepid 1000</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5b0235ab-e6b6-4472-bc42-3c53cf6a3bae" action="command" session="$session">
                            <command>
                                <body>cfm mep set service VPLS:30108-4serv local-mepid 1000 ccm-priority 6</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e53b0f8c-ba1e-4a6d-ab91-29eec2f36af9" action="command" session="$session">
                            <command>
                                <body>cfm service set service VPLS:30108-4serv ccm-interval 10sec</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7f7e62d0-f5a1-4ec7-8c56-9efaf8365a7b" action="comment">
                    <command>
                        <body>Enable traffic profile for UNI port</body>
                    </command>
                    <nestedSteps>
                        <item guid="e433ef18-7ec2-48cd-8e6c-5359e202b06d" action="command" session="$session">
                            <command>
                                <body>traffic-profiling enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c31c3704-91c9-4729-9079-3b881178fc2f" action="comment">
                    <command>
                        <body>Enable UNI port 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="7ccabfa4-b246-419d-a821-0d0521a3b05e" action="command" session="$session">
                            <command>
                                <body>port enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="configure_nte_uni_evc_port_based" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="daf8a853-c2e4-4528-b108-c998508ea692" action="comment">
                    <command>
                        <body>Create SVLAN</body>
                    </command>
                    <nestedSteps>
                        <item guid="d412938f-8bdd-4954-b880-c28590d91dac" action="command" session="$session">
                            <command>
                                <body>vlan create vlan $svlan name ews$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="58c378d6-ff42-4621-9d47-07d8f2e91fd7" action="comment">
                    <command>
                        <body>Assume LAG done</body>
                    </command>
                    <nestedSteps>
                        <item guid="abf1e023-e7b0-4299-82b8-1942c6f00e2c" action="command" session="$session">
                            <command>
                                <body>port set  port $nni_port description nni$nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="bb948e0a-010a-4df3-8fcc-767b7ab2505a" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port description uni$uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e015e762-42aa-46da-b327-c56f9478e34e" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port acceptable-frame-type all</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="94563b9f-306a-4833-a65f-a6b511ab5188" action="comment">
                    <command>
                        <body>Add SVLAN to LAG port</body>
                    </command>
                    <nestedSteps>
                        <item guid="9ed495be-40b8-4b9b-9f42-0bde136723cc" action="command" session="$session">
                            <command>
                                <body>vlan add vlan $svlan port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e7ae4e3-20a8-4a5f-badb-9405e37727ed" action="comment">
                    <command>
                        <body>Create Virtual Circuit</body>
                    </command>
                    <nestedSteps>
                        <item guid="0e06ea80-667e-4fde-acf4-b070b3d07f08" action="command" session="$session">
                            <command>
                                <body>virtual-circuit ethernet create vc ews$svlan vlan $svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="29da8094-d910-4557-a25f-41402e406529" action="comment">
                    <command>
                        <body>Create Virtual Switch</body>
                    </command>
                    <nestedSteps>
                        <item guid="0ecf7a90-4186-4b6e-b005-3ae35729085b" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet create vs ews$svlan vc ews$svlan encap-cos-policy fixed encap-fixed-dot1dpri 3</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="00317978-6b56-4ffe-ac22-a092b4dfd037" action="comment">
                    <command>
                        <body>Add UNI port to VS</body>
                    </command>
                    <nestedSteps>
                        <item guid="5426226f-3221-4ade-9e9f-5954a97d2f11" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet add vs ews$svlan port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c8246f62-7876-49fa-8f33-040a6bf7e1e7" action="comment">
                    <command>
                        <body>Enable L2 Protocol Tunneling and transparent method for listed protocols</body>
                    </command>
                    <nestedSteps>
                        <item guid="4c833f54-6735-43fb-960e-1148bd81ce54" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft enable vs ews$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d4441d2d-7960-4954-a43f-dd6767e4a7f5" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft set vs ews$svlan tunnel-method transparent priority 3</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f6b9adee-f9dc-4b8b-b4d0-5badb8965523" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-cdp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4b0f974e-55f1-448e-bc0c-4d6ed74b5437" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-dtp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="a24dc350-3506-43b0-b4cf-232734f02f24" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-pagp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="02ef192a-b29c-4f4a-8cea-80ac87d147ad" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-vtp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5928871b-3bb4-426d-a9f9-b2fdbb504384" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-pvst disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="8a3fe0e4-854c-4913-beb1-7b2dddf5bdd5" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-stp-uplink-fast disposition forward </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cd06c2bf-2ff8-4c3e-a645-f4c7df810c8d" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol cisco-udld disposition forward </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2b7ecd84-17c6-44d7-800f-293c54568cbc" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol vlan-bridge disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c3339494-2d18-4904-bbaa-67eb5fce7365" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol rstp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2a7c7f2f-557c-46f2-895c-1211346bfb4d" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol 802.1x disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5c49d149-3248-4f82-be10-d934ebfc24d9" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol bridge-block disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="94f911da-6b6e-49ab-9baa-f4760786ed5d" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol all-bridges-block disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="594fb6fc-e713-4c9c-bee2-97c026cbbafa" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol garp-block disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="1098743a-6b71-4742-9402-521bbf0abd4c" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol gmrp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="6ec00064-f583-4eb3-b2f4-f172f358820a" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol gvrp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2aa28b33-9a27-45c7-96be-4b8fb0b0ab7c" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol lacp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="19a73e0f-6f37-43d0-9ae0-a13f7f89418a" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol lacp-marker disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c20c0ec3-c600-410c-9158-232914d634a8" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol lldp disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="1c1cafea-3fdc-4977-8a69-ea0d43fc16c3" action="command" session="$session">
                            <command>
                                <body>virtual-switch l2-cft protocol add vs ews$svlan ctrl-protocol oam disposition forward</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="068c5ab5-a7d3-404b-9c4f-ac8f67372ecf" action="comment">
                    <command>
                        <body>Untagged data and control frames will be tagged with SVLAN</body>
                    </command>
                    <nestedSteps>
                        <item guid="0a981e3a-7e6e-4be3-8f56-4a003f323f76" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port untagged-data-vs ews$svlan untagged-ctrl-vs ews$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="65f20eb2-c9c3-449a-b302-79d19979393f" action="comment">
                    <command>
                        <body>MAC learning enabled per VS</body>
                    </command>
                    <nestedSteps>
                        <item guid="acaf6408-24f7-4074-a20d-7f3447ab72b0" action="command" session="$session">
                            <command>
                                <body>flow learning enable vs ews$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="26459dab-e92a-40cc-8c3e-e8a130f48f93" action="comment">
                    <command>
                        <body>Create ingress policer traffic profile to police on UNI port</body>
                    </command>
                    <nestedSteps>
                        <item guid="a45057a2-081e-4bc7-ab2c-889daf3d4f63" action="command" session="$session">
                            <command>
                                <body>traffic-profiling standard-profile create port $uni_port  profile 1 name ewsp1 cir 80000 pir 80000 cbs 128 ebs 0 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="db3a6d7a-76e1-4c32-ae70-575bc34e1399" action="comment">
                    <command>
                        <body>Config level 3  Up MEP for proactive purpose. </body>
                    </command>
                    <nestedSteps>
                        <item guid="ffe25eae-4994-4d40-9d01-1ef243120a9b" action="command" session="$session">
                            <command>
                                <body>cfm md create md VPLS:$vpls_no-4 level 4 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c4c78d7d-95fa-4474-987e-ad18c0e7ec4e" action="command" session="$session">
                            <command>
                                <body>cfm service create vlan $svlan name VPLS:$vpls_no-4serv md VPLS:$vpls_no-4 ma-name-string serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e6da3ed0-f851-4038-99e7-2f8e15071ce9" action="command" session="$session">
                            <command>
                                <body>cfm service enable service VPLS:$vpls_no-4serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f4f01e94-b9fb-4323-86b2-4dd804224e08" action="command" session="$session">
                            <command>
                                <body>cfm mep create service VPLS:$vpls_no-4serv port $uni_port  vlan $svlan type up mepid 1500</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="b033cbd2-153c-47a5-9693-c610d45e2c8f" action="command" session="$session">
                            <command>
                                <body>cfm mep set service VPLS:$vpls_no-4serv local-mepid 1000 ccm-priority 6</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="03477fa1-a784-44a1-8c0e-676065403a27" action="command" session="$session">
                            <command>
                                <body>cfm service set service VPLS:$vpls_no-4serv ccm-interval 10sec</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c234b822-577f-42d5-a439-92897f15ea98" action="comment">
                    <command>
                        <body>Enable traffic profile for UNI port</body>
                    </command>
                    <nestedSteps>
                        <item guid="2d4d417f-9658-4c8e-bc76-caefa11fe698" action="command" session="$session">
                            <command>
                                <body>traffic-profiling enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6f4928ae-7d0d-4006-8fef-b5a80aea7378" action="comment">
                    <command>
                        <body>Enable UNI port 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="0906c62c-22fd-41af-b7ce-44954acc5256" action="command" session="$session">
                            <command>
                                <body>port enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="configure_fbs_uni" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="98c04935-3f91-49b6-b807-a87e51a13e60" action="comment">
                    <command>
                        <body>FBS UNI optical port</body>
                    </command>
                    <nestedSteps>
                        <item guid="3171b11c-2eb2-4cde-b00d-551f733b74d3" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port description FBS-UNI </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="94fe94ab-0606-4c53-ad52-062042056c84" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port mode sfp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="fd3b8c69-b4c3-4cc1-a52e-55e7f74ef9cb" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port speed gigabit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0ddcad09-4af4-4583-8e9c-45e4d8cde8d2" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port duplex full</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="14352227-97f1-4736-8a8d-908a83772413" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port auto-neg off</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f1bc21ee-98b8-4d61-8c54-9ab70ba21c48" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port max-frame-size 9126</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0f7604bb-de07-4fa2-bbcd-fac3cc74ab0f" action="command" session="$session">
                            <command>
                                <body>lldp set port  $uni_port mode disable </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2da1e554-2d7b-44cd-ba7a-73717e3001c5" action="command" session="$session">
                            <command>
                                <body>twamp disable port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4689997c-b044-4c78-8c3f-ea6e4984e486" action="command" session="$session">
                            <command>
                                <body>vlan remove vlan 127 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5ce6809a-729c-4b8f-b078-b5cff243f984" action="command" session="$session">
                            <command>
                                <body>vlan remove vlan 4092 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2874a201-d9dc-4629-bd4e-092c6ebe454b" action="command" session="$session">
                            <command>
                                <body>vlan remove vlan 4091 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="48eeab62-4fcb-441f-b1b6-a6ff8095671b" action="comment">
                    <command>
                        <body>Change Qos map and FcosRcos table</body>
                    </command>
                    <nestedSteps>
                        <item guid="4c51dafd-cd66-4657-9aba-39c078aa21db" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port resolved-cos-map FBS-FcosRcos</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5456ca0e-5722-4084-ab5b-a19d5525a426" action="comment">
                    <command>
                        <body>Set FBS UNI port Q0 SRED</body>
                    </command>
                    <nestedSteps>
                        <item guid="215c209e-8110-47d9-b1a5-52a6421ff393" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile Default-SRED  congestion-avoidance-profile EMT-S-RED </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="52defcec-a52a-4b6c-bee2-42fde4fe6b3e" action="comment">
                    <command>
                        <body>Enable the port for service</body>
                    </command>
                    <nestedSteps>
                        <item guid="353d2c6b-143f-45a2-8db6-8e5e7c93bb86" action="command" session="$session">
                            <command>
                                <body>port enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0989e304-8637-45f4-8ce6-84edebdac544" action="comment">
                    <command>
                        <body>Assume 802.1x is enabled globally</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="07ae6162-4ca7-45bf-b91b-6b63e33349ba" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port mode auto</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="55d412cf-1b89-4313-abde-4e629e8ebbf1" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port reauthentication off</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="configure_fbs_uni_evc" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="c54e4051-7398-4071-ac9a-3c2baad93ea2" action="comment">
                    <command>
                        <body>Create SVLAN</body>
                    </command>
                    <nestedSteps>
                        <item guid="af406d71-5bca-4ffc-b919-5ff7c3ddddef" action="command" session="$session">
                            <command>
                                <body>vlan create vlan $svlan name fbs$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f9f9cd36-069b-4a43-97aa-caa79a7419fc" action="comment">
                    <command>
                        <body>Assume LAG done UNI description</body>
                    </command>
                    <nestedSteps>
                        <item guid="8191f302-1165-4b06-94cd-4057e699894f" action="command" session="$session">
                            <command>
                                <body>port set  port $nni_port description nni-$nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d64f857d-7313-41cd-8ec8-0498139e29f5" action="command" session="$session">
                            <command>
                                <body>port set  port $uni_port description uni-$uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ecad8708-242e-4511-b262-e7e0ed3e3f66" action="comment">
                    <command>
                        <body>Add SVLAN to NNI port</body>
                    </command>
                    <nestedSteps>
                        <item guid="7d164f91-f41d-46cc-884f-787f5cb00efd" action="command" session="$session">
                            <command>
                                <body>vlan add vlan $svlan port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="427193c5-c761-419c-bac3-29618fb2306c" action="comment">
                    <command>
                        <body>Create Virtual Circuit</body>
                    </command>
                    <nestedSteps>
                        <item guid="1bb200e1-60cf-4ace-a607-f6ca9c4fb76c" action="command" session="$session">
                            <command>
                                <body>virtual-circuit ethernet create vc fbs$svlan vlan $svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1ae1b6f9-754b-4834-ae6a-67c359f231e7" action="comment">
                    <command>
                        <body>Create Virtual Switch</body>
                    </command>
                    <nestedSteps>
                        <item guid="5366b167-e76f-4443-998a-50a5ec709536" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet create vs fbs$svlan vc ers$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7cb6071b-779e-4118-ac8c-56bf7a5041f3" action="comment">
                    <command>
                        <body>Add port VS.</body>
                    </command>
                    <nestedSteps>
                        <item guid="53e0c4d0-b910-466b-96e6-7368a8c24d77" action="command" session="$session">
                            <command>
                                <body>virtual-switch ethernet add vs fbs$svlan port $uni_port  vlan 2 encap-cos-policy port-inherit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3402cbb6-58cf-4930-8499-c288b53d0a63" action="comment">
                    <command>
                        <body>Mac learning enabled</body>
                    </command>
                    <nestedSteps>
                        <item guid="f33dce72-c245-4edc-89ea-25fc5dd71736" action="command" session="$session">
                            <command>
                                <body>flow learning enable vs fbs$svlan</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2d522f07-f000-486f-ab2c-61743143b9cb" action="comment">
                    <command>
                        <body>Traffic profile disabled on FBS port</body>
                    </command>
                    <nestedSteps>
                        <item guid="66c76496-3997-4d68-ad8a-449985e88fce" action="command" session="$session">
                            <command>
                                <body>traffic-profiling  disable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c5c001d3-155d-4031-8f72-6edfba7fdd0d" action="comment">
                    <command>
                        <body>Config level 3 Up MEP for proactive purpose</body>
                    </command>
                    <nestedSteps>
                        <item guid="f756be0d-8b10-47c6-906a-d2cbc0543f13" action="command" session="$session">
                            <command>
                                <body>cfm md create md VPWS:30101:FBS-3 level 3 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4d496ca1-8654-4088-b59e-ec85ea3a3273" action="command" session="$session">
                            <command>
                                <body>cfm service create vlan 201 name VPWS:30101:FBS-3serv md VPWS:30101-3 ma-name-string serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ad459582-83c1-4915-820d-b55b9a8c3cb6" action="command" session="$session">
                            <command>
                                <body>cfm service enable service VPWS:30101:FBS-3serv </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="a502d97f-4d34-4896-a4a3-7a04ca68ccc2" action="command" session="$session">
                            <command>
                                <body>cfm mep create service VPWS:30101:FBS-3serv port 1.2  vlan 2  type up mepid 1000</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ef8938a0-5db3-4190-93b3-1a0de54cbd34" action="command" session="$session">
                            <command>
                                <body>cfm mep set service VPWS:30101:FBS -3serv local-mepid 1000 ccm-priority 6</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e1fef875-36b7-428b-8001-5ff1d9454387" action="command" session="$session">
                            <command>
                                <body>cfm service set service VPWS:30101:FBS-3serv ccm-interval 10sec</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f5de8bf5-b88c-49ab-a669-73ea9c9fdfc4" action="comment">
                    <command>
                        <body>Enable UNI port</body>
                    </command>
                    <nestedSteps>
                        <item guid="0d68a587-6ffc-44f3-8c23-a1abfc74a87e" action="command" session="$session">
                            <command>
                                <body>port enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="configure_emt_fbs" isPublic="true">
            <steps>
                <item guid="2df9c0ca-dbef-4c31-b8a8-3fb846e60715" action="comment">
                    <command>
                        <body>##############################</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="28bbd6ed-dbe6-476f-bcd2-0897eef02448" action="comment">
                    <command>
                        <body>#        Configure FBS  EVC on EMT                        #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6953766-d579-494d-8e2a-91a1f61e5448" action="comment">
                    <command>
                        <body>##############################</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9da98b10-55e4-400a-904a-6182de1cf6ee" action="command" session="$session">
                    <command>
                        <body>vlan create vlan $svlan name FBS-${element_name}-${svlan}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ce3c36ba-ed7b-4161-9fe3-4997db95f668" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port  description uni-port-$uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d5514aa7-aaae-4c75-a175-b0fc471bdcc5" action="command" session="$session">
                    <command>
                        <body>vlan add vlan $svlan port $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9fba256e-fd4e-47a1-85aa-8cefbffdf0ff" action="command" session="$session">
                    <command>
                        <body>virtual-circuit ethernet create vc FBS-${svlan}-VC vlan $svlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2b074fd1-29de-4072-8bc7-9b69943e19a0" action="command" session="$session">
                    <command>
                        <body>virtual-switch ethernet create vs FBS-${svlan}-VS vc FBS-${svlan}-VC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="11cf6a7e-c72c-42da-b517-e23152840397" action="command" session="$session">
                    <command>
                        <body>virtual-switch ethernet add vs FBS-${svlan}-VS port $uni_port  vlan 2 encap-cos-policy port-inherit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d75dc9e5-d1df-4fb6-87b4-39bb24e31f51" action="command" session="$session">
                    <command>
                        <body>flow learning enable vs FBS-${svlan}-VS</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8fe531a5-a3a7-4348-8d58-60a68b99b6d3" action="command" session="$session">
                    <command>
                        <body>traffic-profiling  disable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="92877fe2-d7ab-49b1-8399-2e9e381f9f64" action="command" session="$session">
                    <command>
                        <body>port enable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5fa21018-3ff0-4874-aba3-7ca92e402788" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
                <item name="nni_port"/>
                <item name="svlan"/>
                <item name="element_name"/>
            </arguments>
        </item>
        <item name="configure_emt_port_ase" isPublic="true">
            <steps>
                <item guid="f354b4d4-bb40-47c4-8d6b-7c7e582e4885" action="comment">
                    <command>
                        <body>##############################</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="88136081-b770-4430-86d5-27fef8d87061" action="comment">
                    <command>
                        <body>#                                                                           #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="90c851b6-e330-403f-8927-d075874d58f1" action="comment">
                    <command>
                        <body>#        Configure EMT Port for ASE                       #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c38776e9-e8a5-40fb-9d15-247575af4903" action="comment">
                    <command>
                        <body>#                                                                           #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="53e3218f-41d7-45db-9b3a-9a3c0c749b5c" action="comment">
                    <command>
                        <body>##############################</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="aa46c875-5304-47c0-94b5-2bce8df8f089" action="comment">
                    <command>
                        <body>Input Parameters</body>
                    </command>
                    <nestedSteps>
                        <item guid="30214805-c050-476d-a085-71b6eb3e29f4" action="eval">
                            <command>
                                <body>puts &quot; Input Paramters $element_name $uni_port $tg_key $tg&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="373d703a-3ce7-470b-8567-2acb5d13dc74" action="comment">
                    <command>
                        <body>Extract the Media type from TG table</body>
                    </command>
                    <nestedSteps>
                        <item guid="7f0b6de6-ba26-4496-a084-6ece7fd57087" action="eval" skip="true">
                            <command>
                                <body>set tg_key [query /data/GD(CONNECTION_TABLE) Port_config_key_by_Id($conn_id)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="06554cd0-2cc7-43b6-a6ee-d0f63023c229" action="eval" skip="true">
                            <command>
                                <body>set tg [query /data/GD(CONNECTION_TABLE) TG_Vendor_by_Id($conn_id)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="9e480c35-9db0-4643-b9e9-5630d2db0a9c" action="eval">
                            <command>
                                <body>set port_type [query /data/GD(TG_CSV_RESPONSE) Media_by_TG_Key(&quot;$tg_key&quot;)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="97cccf85-5752-4e01-a01b-716fcf848ab0" action="eval">
                            <command>
                                <body>set port_speed [query /data/GD(TG_CSV_RESPONSE) Speed_by_TG_Key(&quot;$tg_key&quot;)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="487e4fc5-328b-4f20-b6a1-429213febbda" action="comment">
                    <command>
                        <body>Port configuration based speed and type</body>
                    </command>
                    <nestedSteps>
                        <item guid="56b87c1e-ec2e-4edf-a104-76318d0687f4" action="if">
                            <command>
                                <body>[string tolower $port_type] == &quot;fiber&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="cbedb7f1-caac-44e1-ad29-a7bdb9576921" action="then">
                                    <nestedSteps>
                                        <item guid="854b1f7c-eb45-4937-bf3b-951d63263e5a" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port mode sfp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="1ce75aab-49f5-4fb1-84b5-373a37977696" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port speed gigabit</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="5782d1ba-ef61-450d-b934-4d5dacc13fd2" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port auto-neg off</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c31a02e3-7490-4705-b5c2-2d534ef5165e" action="else">
                                    <nestedSteps>
                                        <item guid="54051118-1810-464a-a045-094148f06b1b" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port mode rj45</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="5263a958-854d-49aa-8980-4ddbbc739732" action="if">
                                            <command>
                                                <body>$port_speed == &quot;1000&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="cca55a61-ecb2-4440-bc7a-6bdda728d17a" action="then">
                                                    <nestedSteps>
                                                        <item guid="9033aabd-756d-4a16-8b6e-163847d56b59" action="command" session="$session">
                                                            <command>
                                                                <body>port set port $uni_port speed gigabit</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="16ff3609-71c5-4a4c-a193-96604bd22c05" action="else">
                                                    <nestedSteps>
                                                        <item guid="445e2b16-d177-4f0f-ade2-98bb8ae06283" action="command" session="$session">
                                                            <command>
                                                                <body>port set port $uni_port speed hundred</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="04233c9d-dca4-41d9-97cb-70680600825a" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port auto-neg on</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="80e0cd28-3610-439d-848f-b55a41bb622c" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port duplex full</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a7187dd9-f137-4bc9-8769-213062760b43" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port max-frame-size 9126</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="269e87bf-af83-49c7-aaba-928eb6cc7396" action="command" session="$session">
                    <command>
                        <body>lldp set port $uni_port mode disable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e479b452-270f-440e-b2ac-23c621782e3b" action="command" session="$session">
                    <command>
                        <body>twamp disable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3bd7fd7d-255e-4a6e-bdec-8ff8a7c09ec9" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port ingress-to-egress-qmap NTE-RCOS-MAP resolved-cos-map NTE-FcosRcos</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1e9c1d7a-41ab-43b6-8482-610cea8ed386" action="if">
                    <command>
                        <body>$element_name == &quot;5150&quot; || $element_name == &quot;3930&quot; || $element_name == &quot;3931&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="65672030-eaf2-44e9-84ef-f3c9f5c407b4" action="then">
                            <nestedSteps>
                                <item guid="fdf27ff1-5637-4853-9060-0351a02d7ab8" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile Default-S-WRED </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ee0516c5-c83d-4472-865f-6dc33c0aeb5d" action="command" session="$session">
                                    <command>
                                        <body>rstp disable port $uni_port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="eab29a07-35c7-487d-976a-864fa5239a55" action="else">
                            <nestedSteps>
                                <item guid="a46d8848-be66-4ed2-88a6-cdc5bed58e33" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile Default-SRED </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7bea733d-5922-4e80-b4a3-37fe36bd122b" action="comment">
                    <command>
                        <body>Enable the port for service</body>
                    </command>
                    <nestedSteps>
                        <item guid="0f9e13f6-9afd-4081-bb31-cac4a175c991" action="command" session="$session">
                            <command>
                                <body>port enable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="element_name"/>
                <item name="tg_key"/>
                <item name="tg"/>
                <item name="uni_port"/>
            </arguments>
        </item>
        <item name="configure_emt_port_fbs" isPublic="true">
            <steps>
                <item guid="c41ae500-8e34-4828-8a75-d4f39c26a2b8" action="comment">
                    <command>
                        <body>##############################</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c0221e8d-a82e-4b36-a548-4d882b389f9b" action="comment">
                    <command>
                        <body>#                                                                           #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e5fd618-5cae-442b-992c-3e7fb5fe9eeb" action="comment">
                    <command>
                        <body>#        Configure EMT Port for FBS                       #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="267b4980-b80b-479a-9ed1-f9172522d3d9" action="comment">
                    <command>
                        <body>#                                                                           #</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ee3e4005-e1a4-4673-a8c8-18491d2e0633" action="comment">
                    <command>
                        <body>##############################</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b559ac70-ae9a-432d-b998-fa1c27e4f712" action="comment">
                    <command>
                        <body>Input Parameters</body>
                    </command>
                    <nestedSteps>
                        <item guid="4bf8110c-4ce2-4bd3-a84d-aab6d659b66c" action="eval">
                            <command>
                                <body>puts &quot; Input Paramters $element_name $uni_port $tg_key $tg&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8b5d6d2b-8cbe-4b3c-8aaf-e556bbc303e5" action="eval">
                    <command>
                        <body>set port_type [query /data/GD(TG_CSV_RESPONSE) Media_by_TG_Key(&quot;$tg_key&quot;)]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="782f247b-8303-4492-bb7d-6cccae78fb1e" action="eval">
                    <command>
                        <body>set port_speed [query /data/GD(TG_CSV_RESPONSE) Speed_by_TG_Key(&quot;$tg_key&quot;)]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f1de47c3-30d5-425a-b5e8-5efe84aae4db" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port mode $uni_port_mode</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="703d6a1c-3663-4d4f-b3bc-397f5c03bcb0" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port speed gigabit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e6d8adcf-35c5-49b4-873a-9a92863a394b" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port duplex full</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ca4fc443-b447-4093-abb2-037210f27a7a" action="comment">
                    <command>
                        <body>Auto Negotation ON or OFF</body>
                    </command>
                    <nestedSteps>
                        <item guid="2a06ecba-eb18-4bd4-b168-bb7ea8ae58f4" action="if">
                            <command>
                                <body>[string tolower $port_type] == &quot;fiber&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="4e8b32b6-de60-46ea-b36f-2b65a960f8c6" action="then">
                                    <nestedSteps>
                                        <item guid="948099ef-2955-4381-bd1b-509350b742b2" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port auto-neg off</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9fb2873c-b537-4ac6-a505-6b45aeaa20e0" action="else">
                                    <nestedSteps>
                                        <item guid="b3fa4cf5-db0f-44cb-a779-6b99834493f5" action="command" session="$session">
                                            <command>
                                                <body>port set port $uni_port auto-neg on</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="016cc7f4-988f-4083-a562-1eae2b419169" action="command" session="$session">
                    <command>
                        <body>port set port  $uni_port max-frame-size 9126</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f9095bc7-6950-46e9-9f9d-8faa939c64da" action="command" session="$session">
                    <command>
                        <body>lldp set port  $uni_port mode disable </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1afde7d7-e9dd-4ea5-ab6d-f33d0759890f" action="command" session="$session">
                    <command>
                        <body>twamp disable port  $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="275261fe-9241-495b-9f5c-f54e38dc0011" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port resolved-cos-map FBS-FcosRcos</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="80f7a5be-b5ff-4d38-81ae-d696bd34b08a" action="if">
                    <command>
                        <body>$element_name == &quot;5150&quot; || $element_name == &quot;3930&quot; || $element_name == &quot;3931&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="139c9aaa-8a46-4e89-ace9-cdfb9a79651a" action="then">
                            <nestedSteps>
                                <item guid="23ef1057-4ea2-4230-92f4-fd6ea65ee634" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile EMT-S-WRED</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="d47eb098-6822-4406-befe-2cfd0d7d8d86" action="command" session="$session">
                                    <command>
                                        <body>rstp disable port $uni_port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1674b149-c7b6-4b3b-8562-45b2859d3f05" action="else">
                            <nestedSteps>
                                <item guid="e0a741e3-d42d-4410-8b2e-cce1984c7990" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile EMT-S-RED </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0449d474-aa84-4e70-bf28-d28a8ffb4439" action="command" session="$session">
                    <command>
                        <body>port enable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c5aec1c2-6738-44fb-92d1-1a04866be5c0" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port mode auto</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0a48c147-8afc-4778-a8b8-3e166b4f92b4" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port reauthentication off</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="fbff1c2e-9391-4900-8b8b-b5415aa2d890" action="command" session="$session">
                    <command>
                        <body>dot1x auth enable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="element_name"/>
                <item name="tg_key"/>
                <item name="tg"/>
                <item name="uni_port"/>
            </arguments>
        </item>
        <item name="configure_dot1dpri" isPublic="true">
            <steps>
                <item guid="b05455c1-e8dd-4fea-9292-995687feba7d" action="comment">
                    <command>
                        <body>Get the virtual-switch name from the global variable &apos;CIENA_VS_DB&apos;  - MIKE new 8x</body>
                    </command>
                    <nestedSteps>
                        <item guid="6bb34741-5d3e-4ef7-ad98-0727dcdadd67" action="eval">
                            <command>
                                <body>set vs_name [lindex [gget CIENA_VS_DB] $instance_cnt]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b42940f0-2a6e-48f9-b34b-4efe224141da" action="if">
                    <command>
                        <body>[string toupper $service] == &quot;ERS&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="bfbfd430-d8ca-454c-bae4-4fe8510162ef" action="then">
                            <nestedSteps>
                                <item guid="d8dd93b4-b5ff-4c7b-aa49-d7c22905881b" action="command" session="$session">
                                    <command>
                                        <body>virtual-switch ethernet set port $uni_port vs $vs_name vlan $cvlan encap-cos-policy fixed encap-fixed-dot1dpri $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="35e283ba-cbd7-422e-bdff-7bf3d772d28f" action="else">
                            <nestedSteps>
                                <item guid="cdb4d51b-35d4-422b-92d9-b4245dbe6e1c" action="command" session="$session">
                                    <command>
                                        <body>virtual-switch ethernet set port $uni_port vs $vs_name encap-cos-policy fixed encap-fixed-dot1dpri $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f86b2a27-6e33-4524-8942-802ca2c554de" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="svlan"/>
                <item name="cvlan">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="service"/>
                <item name="uni_port"/>
                <item name="priority"/>
                <item name="instance_cnt"/>
            </arguments>
        </item>
        <item name="create_cfm_service" isPublic="true">
            <steps>
                <item guid="61199b3a-f059-4f97-a948-d38635949443" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c46c0d89-f670-4957-a9a9-138eeb6d2bfd" action="command" session="$session">
                    <command>
                        <body>cfm md create md $md level $level</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4560940b-91cf-4dbe-9626-226015d43ddf" action="command" session="$session">
                    <command>
                        <body>cfm service create vlan $sVlan name &quot;${md}$ma&quot; md $md ma-name-string $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4c2fed79-cdc7-4044-883f-d5be74940d17" action="command" session="$session">
                    <command>
                        <body>cfm service set service &quot;${md}$ma&quot; ccm-interval ${ccm_interval}sec</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4c9a48fe-964f-44a0-ad42-3c06d20ba247" action="command" session="$session">
                    <command>
                        <body>cfm service enable service &quot;${md}$ma&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="92c10223-f0e9-46b3-b736-9ccd9a429c29" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="cbbd3be2-6405-4180-8d91-5b659ff27f44" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2f57792d-15d8-4ef9-b0d9-9231a75fcd06" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b86cd0a6-7596-4bed-88d0-1f8247628494" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="ccm_interval">
                    <description>ccm service interval as defined in the cfm_config.csv</description>
                </item>
                <item name="ma">
                    <description>MA_name defind in cfm_config.csv
Valid values: serv or diag</description>
                    <defaultValue>serv</defaultValue>
                </item>
                <item name="md">
                    <description>Example: VPWS:299999-4
constructed from: $service_name:$service_number-${level}&quot;</description>
                </item>
                <item name="sVlan">
                    <description>service vlan as defined in service_info.csv</description>
                </item>
                <item name="cvlan"/>
                <item name="level">
                    <description>cfm service level</description>
                    <defaultValue>4</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="create_cfm_mep" isPublic="true">
            <steps>
                <item guid="2667d0ff-f62f-4af1-b335-9270c76fd396" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cffe3584-faee-41b9-97ba-8a4631b9aaae" action="if">
                    <command>
                        <body>([string toupper $service_type] == &quot;EWS&quot;) || ([string toupper $service_type] == &quot;PBS&quot;)</body>
                    </command>
                    <nestedSteps>
                        <item guid="10819c3e-5341-485f-ab20-da52122e93b2" action="then">
                            <nestedSteps>
                                <item guid="e03b4701-664e-4dd4-a8d1-bb3874983140" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port type up mepid $mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="a14966df-46cf-49f7-b3e7-5a3a4af91dcf" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="720aac13-82da-4798-a97f-5d08790bf54b" action="elseif">
                            <command>
                                <body>([string toupper $service_type] == &quot;ERS&quot;) || ([string toupper $service_type] == &quot;VBS&quot;)</body>
                            </command>
                            <nestedSteps>
                                <item guid="94bbc7b7-1a73-4451-836e-fae506265efa" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port vlan $cVlan type up mepid $mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="9626d421-b1ed-4e53-8072-94823a6d703d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="87562c54-8be0-40ef-9636-0acd69266ac5" action="elseif">
                            <command>
                                <body>[string toupper $service_type] == &quot;FBS&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="1b61c1f9-2a8c-4f9f-a00c-2217dc8924fe" action="command" session="$session">
                                    <command>
                                        <body>cfm mep create service &quot;${md}$ma&quot; port $port vlan 2 type up mepid $mep_id</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="49308c58-6341-4cab-a4d8-cfa105c1fa76" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="09fe070d-0827-48de-9ee8-a17ffb86e3f6" action="command" session="$session">
                    <command>
                        <body>cfm mep set service &quot;${md}$ma&quot; local-mepid $mep_id ccm-priority $ccm_priority</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="dbed2a5a-e280-4461-b718-6438f930f607" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="deb44fdf-67cd-437e-be3e-5fc92f247c33" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e0c5f915-6eb0-47b6-8f45-51c99ad4e974" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a879fb04-b20d-4f7a-8a59-87ca19fc212b" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2ad6b0b5-3b5e-4708-bcb9-efb3a05ce3d4" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_type"/>
                <item name="port"/>
                <item name="ma">
                    <description>MA_name defind in cfm_config.csv
Valid values: serv or diag</description>
                    <defaultValue>serv</defaultValue>
                </item>
                <item name="md">
                    <description>Example: VPWS:299999-4
constructed from: $service_name:$service_number-${level}&quot;</description>
                </item>
                <item name="mep_id"/>
                <item name="ccm_priority"/>
                <item name="cVlan">
                    <description>customer vlan as defined in service_info.csv</description>
                </item>
            </arguments>
        </item>
        <item name="create_link_aggregation_group" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="72aa1eba-7963-4c9d-875c-949bda2a6593" action="eval">
                    <command>
                        <body>puts $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="259654ee-02c5-426f-ad94-17bc5ac720cc" action="comment">
                    <command>
                        <body>The procedure  checks the status of the aggregation link on a Ciena EMUX 3940 and 5140 </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e4b09d78-03f4-434d-9522-9b7e7944dc49" action="comment">
                    <command>
                        <body>configuring p21 to p22 auto-neg ON</body>
                    </command>
                    <nestedSteps>
                        <item guid="a626e1f4-37d7-4caa-af96-2a90733af010" action="command" session="$session">
                            <command>
                                <body>port set port 21-22 speed gigabit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="390aceae-521d-4070-b332-138a8664fa77" action="command" session="$session">
                            <command>
                                <body>port set port 21-22 duplex full</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="8524f370-df99-4c38-ab00-69f3cf1ae1da" action="command" session="$session">
                            <command>
                                <body>port set port 21-22 auto-neg on</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="7992684b-96d5-41e1-9f9d-e422970306ae" action="command" session="$session">
                            <command>
                                <body>port set port 21-22 acceptable-frame-type tagged-only</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="bff90a27-ef98-4f1c-852f-37f1dbdda419" action="command" session="$session">
                            <command>
                                <body>port set port 21-22 max-frame-size 9130</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b6a8973b-7530-403f-8b97-5a05b04aa39f" action="comment">
                    <command>
                        <body>Enable Aggregation globally</body>
                    </command>
                    <nestedSteps>
                        <item guid="2459a64b-fe35-4a4f-9905-09e8f7c2767e" action="command" session="$session">
                            <command>
                                <body>aggregation enable</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="edf04583-1e87-4ab7-8072-0ba47f2434dc" action="command" session="$session">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d5365bbd-9857-4724-8f76-6de374e1ac93" action="comment">
                    <command>
                        <body>Create LAG Group</body>
                    </command>
                    <nestedSteps>
                        <item guid="cabce778-10e8-4544-bb95-3a8cb7a81616" action="command" session="$session">
                            <command>
                                <body>aggregation create agg $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d781d2ab-0cf4-4fea-b53d-fe065983fb40" action="command" session="$session">
                            <command>
                                <body>aggregation set agg $nni_port hash ip-addr-based</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5af90738-23e8-4915-bc32-7f32bd5ae081" action="command" session="$session">
                            <command>
                                <body>aggregation set agg $nni_port mode lacp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="afa00cba-66af-422d-ae12-d2761587947c" action="command" session="$session">
                            <command>
                                <body>port set port $nni_port max-frame-size 9130</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d354e270-ef11-4c9c-8853-c6105370a26a" action="comment">
                    <command>
                        <body>Add Port to LAG Group</body>
                    </command>
                    <nestedSteps>
                        <item guid="f65819df-478a-42ff-8ce3-a49b6b17cf80" action="command" session="$session">
                            <command>
                                <body>aggregation lacpmib set port 21 actor-admin-state 7 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="9d8e8cce-9f8a-4668-bb7c-246fe589f7ba" action="command" session="$session">
                            <command>
                                <body>aggregation set port 21 agg-mode lacp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="830b7b64-7b23-446e-a819-cc7f23312789" action="command" session="$session">
                            <command>
                                <body>aggregation add agg $nni_port port 21</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ed0d4432-c914-4bab-88f2-f3c8b71625bb" action="command" session="$session">
                            <command>
                                <body>aggregation lacpmib set port 22  actor-admin-state 7 </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="69c68c9d-7164-4349-9c99-9d3e914ada31" action="command" session="$session">
                            <command>
                                <body>aggregation set port 22 agg-mode lacp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="db9abe67-cc73-447e-b882-e28743999be5" action="command" session="$session">
                            <command>
                                <body>aggregation add agg $nnii_port port 22</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1ad99e39-3f7d-4126-aeb6-6fad8f892b0a" action="comment">
                    <command>
                        <body>Add NM VLAN 4092 and SLA-2 into the LAG port</body>
                    </command>
                    <nestedSteps>
                        <item guid="3b4cee80-fd26-42a4-97a9-018f29f4cd5f" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 127 port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="49b517d3-c064-4253-a83a-4591d673371a" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4092 port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="c17455be-e408-45ed-814d-04c0cdc058f6" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4091 port $nni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6f380aeb-b2a5-464f-ad38-a15587e5b10d" action="comment">
                    <command>
                        <body>Apply ingress FcosRcos table and egress RcosFcos policy</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a278ccf-5963-41fc-9cc4-5291e741acf7" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port resolved-cos-map EMT-FcosRcos frame-cos-map EMT-RcosFcos</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c160995f-f5dc-4727-8569-a1b65dc3844a" action="comment">
                    <command>
                        <body>Change LAG port members Q0 congestion profile</body>
                    </command>
                    <nestedSteps>
                        <item guid="79dc8797-08a2-484d-b3ad-bc9daf1fc099" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port $nni_port congestion-avoidance-profile EMT-S-RED</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ff6ae320-3570-48a2-9da6-22f1a413e567" action="comment">
                    <command>
                        <body>Add the primary port only</body>
                    </command>
                    <nestedSteps>
                        <item guid="2fbb9120-8434-4322-89c7-872b7b34b055" action="command" session="$session">
                            <command>
                                <body>interface ip-acl add src-ip 0.0.0.0/0 dest-ip 0.0.0.0/0 port 21</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a280a1fa-4e49-45bf-98fc-894f29096610" action="comment">
                    <command>
                        <body>Set each physical port LAG</body>
                    </command>
                    <nestedSteps>
                        <item guid="8c1b8c26-a6ad-4767-ba28-e21e662c1412" action="command" session="$session">
                            <command>
                                <body>interface ip-acl set src-ip 0.0.0.0/0 dest-ip 0.0.0.0/0 port 21,22</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c71677ee-1c94-4de2-b68c-df0230c59e67" action="comment">
                    <command>
                        <body>Admin enable</body>
                    </command>
                    <nestedSteps>
                        <item guid="c0dcbc07-2cb6-4a05-bfc8-ba10ec8b2b67" action="command" session="$session">
                            <command>
                                <body>interface ip-acl enable</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="delete_cfm_mip_uncalled" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="8e079819-acc7-4a0c-8135-e62855ccaf68" action="eval">
                    <command>
                        <body>puts $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b559bf68-8b91-466d-942f-1b3ebfb2f1f0" action="comment">
                    <command>
                        <body>The procedure  checks the status of the aggregation link on a Ciena EMUX 3940 and 5140 </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c708eb38-9376-461f-8ea1-a97b62b5cf3d" action="comment">
                    <command>
                        <body>Delete CFM MIP on both 4091 and 4092 are required</body>
                    </command>
                    <nestedSteps>
                        <item guid="686daf94-51f5-46c8-a5b7-bcf04f040e7f" action="command" session="$session">
                            <command>
                                <body>cfm mip delete vlan 4092  port $nni_port  level 3</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0c104e77-03e5-4fdc-ab02-50b2a9a2681e" action="command" session="$session">
                            <command>
                                <body>cfm mip delete vlan 4091  port $nni_port  level 3</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="delete_cfm_service" isPublic="true">
            <steps>
                <item guid="aa3c4491-0297-4daa-a999-fafce1cf1ee5" action="command" session="$session">
                    <command>
                        <body>cfm service delete service VPLS:${vpls_no}-4serv </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="40f8e5f6-3250-4b03-9989-f7453f976330" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2d3cf76b-fa08-43be-8b31-8d666e0b8be7" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="vpls_no">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="delete_emt_fbs" isPublic="true">
            <steps>
                <item guid="95da9bb3-0df0-4dfa-afff-245ab9d66a02" action="comment">
                    <command>
                        <body>Get the virtual-switch name from the global variable &apos;CIENA_VS_DB&apos;  - MIKE new 8x</body>
                    </command>
                    <nestedSteps>
                        <item guid="879bd45a-c91c-43e0-be02-fbe2923ff5b5" action="eval">
                            <command>
                                <body>set vs_name [gget CIENA_VS_DB]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d31f712a-4e68-49c4-a6c3-a6c4a6a96de8" action="command" session="$session">
                    <command>
                        <body>virtual-sw ethernet delete vs FBS-${svlan}-VS</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5b00844d-8df8-4695-92f9-baa23ab2b385" action="command" session="$session">
                    <command>
                        <body>virtual-circuit ethernet delete vc FBS-${svlan}-VC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0504db4a-7a28-4b48-86e6-612f44c4640d" action="command" session="$session">
                    <command>
                        <body>vlan remove vlan ${svlan} port $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="cf629ab1-dbee-4a91-a4b5-eb1317c190a1" action="command" session="$session">
                    <command>
                        <body>vlan delete vlan ${svlan}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b3263f0d-600e-469e-9ab3-bfc6d52e4a55" action="command" session="$session">
                    <command>
                        <body>traffic-profiling set port $uni_port mode standard-dot1dpri</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d0c0c931-5e5d-4841-96fa-7e919eb8ecc7" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
                <item name="nni_port"/>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="delete_emux" isPublic="true">
            <steps>
                <item guid="4708b23a-3ff1-4c4f-84c2-8efdcd67dd8c" action="comment">
                    <command>
                        <body>This procedure deletes the configuration on the emux</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4faf3e9d-a573-4280-8927-cb203d0aa30e" action="comment">
                    <command>
                        <body>First remove it from the uni and the nni and then delete it.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fec5ecd8-424e-4dd1-8636-fee7b8543fd8" action="command" session="$session">
                    <command>
                        <body>vlan remove vlan $svlan port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="98fe8304-65ce-4aed-a071-dc1da70cdd4e" action="command" session="$session">
                    <command>
                        <body>vlan remove vlan $svlan port $nni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3ffd74d2-0c14-4939-a3e5-fe5a0d0152ea" action="command" session="$session">
                    <command>
                        <body>vlan delete vlan $svlan </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f1affbfe-32ca-4eec-9639-ce2266a32a56" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="session"/>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="delete_traffic_profiles_by_port" isPublic="true">
            <steps>
                <item guid="e72d6773-c1d7-4592-8faa-67a8c2a059b1" action="comment">
                    <command>
                        <body>Insert steps here to be executed on each loop - MIKE added temp hack for SEACIENA-39</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="418361eb-515d-41f8-9fbe-f71d1acb501e" action="eval">
                    <command>
                        <body>set skip_cleanup [param test_case/skip_cleanup]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set skip_cleanup 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="950f6c57-fa5b-4919-8b4f-496ae8b9f661" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile show port $uni_port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>No entries found</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set traffic_profile 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>No existing traffic profiles on port $uni_port</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Traffic profiles exist on system.  Cleanup system</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set traffic_profile 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Profile_Name </query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>profile_names</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                </item>
                <item guid="ab166584-cbaf-485d-b8a4-6f2753617923" action="if">
                    <command>
                        <body>$traffic_profile == 1 &amp;&amp; ![get skip_cleanup]</body>
                    </command>
                    <nestedSteps>
                        <item guid="24ccadf3-fd64-4e7b-851a-912821883fca" action="then">
                            <nestedSteps>
                                <item guid="daa5310c-72c8-4d87-a21c-26f5298df26c" action="command" session="$session">
                                    <command>
                                        <body>vlan show port $uni_port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>//VLAN</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>vlans</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                                <item guid="8fabdd48-ba1d-4093-9f22-0a5eeceed13d" action="foreach">
                                    <command>
                                        <body>vlan_instance $vlans</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e5815372-264a-4133-accf-6db74f0fc2a5" action="if">
                                            <command>
                                                <body>$vlan_instance != 1</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d3389beb-59ef-4e21-b67c-98fbb7571c4d" action="then">
                                                    <nestedSteps>
                                                        <item guid="0f6fdc00-0f1a-4574-9e1e-e11012d392cb" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                            <command>
                                                                <body>cfm service show</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">NameByVid($vlan_instance)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>cfm_name</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <eventHandlers>
                                                                <item name="OnNoMatchesFound">
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>set cfm_name &quot;NONE&quot;</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </item>
                                                            </eventHandlers>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <responseMap>project://di_ciena/response_maps/cfm_service_show.ffrm</responseMap>
                                                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="9618add8-b12d-4812-88a8-8b76b0ab6d27" action="eval">
                                                            <command>
                                                                <body>puts $cfm_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="0faec987-b19e-45c5-8107-57dcbd822e67" action="if">
                                                            <command>
                                                                <body>[string length $cfm_name]</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="0ee2496f-9032-4805-a2e0-7386ee30c2fe" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="9c4bc022-5c05-4ed9-8841-f9f3266ae154" action="comment">
                                                                            <command>
                                                                                <body>Insert steps here for when expression is true</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="b8f85d99-ccd2-4226-be55-f3888b0d7909" action="foreach">
                                                                            <command>
                                                                                <body>cfm $cfm_name</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="1ea1f715-a8e8-4923-81a6-dc1991816fa1" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm service delete service $cfm</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="4b10fc01-59d8-46b0-9ae6-50e98ef6d81f" action="command" session="$session">
                                                            <command>
                                                                <body>vlan show vlan $vlan_instance</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">Nni_port(&quot;$uni_port&quot;)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>nni_port</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="a4c6f5df-b08a-4000-9135-c1eaa3fbaea4" action="foreach">
                                                            <command>
                                                                <body>nni_port_instance $nni_port</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="7c2452c9-2aae-47c7-a8b6-787d77495971" action="command" session="$session">
                                                                    <command>
                                                                        <body>vlan remove vlan $vlan_instance port $nni_port_instance</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="746fd6c4-61de-48d0-9383-80050b661f98" action="command" session="$session">
                                                            <command>
                                                                <body>vlan delete vlan $vlan_instance</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="4fb2a093-2c8e-4316-977c-0a7ff6cfeda1" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-switch ethernet show</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">virtual_switch_by_vlan(&quot;$vlan_instance&quot;)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>virtual_switch_name</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="fd0bb4a2-cfc3-4940-b5d8-309a9da28ef9" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-circuit ethernet show</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">virtual_circuit_by_vlan(&quot;$vlan_instance&quot;)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>virtual_circuit_name</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="2bf37814-db0c-4699-885b-396d3f568051" action="comment">
                                                            <command>
                                                                <body>Remove virtual_switch virtual_circuit</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="97b064bb-8bd9-40b5-8399-1fb83dd436eb" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-sw ethernet delete vs $virtual_switch_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="538d5604-aeab-4109-99d4-d2ab4fbf9c99" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-circuit ethernet delete vc $virtual_circuit_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="0b9f9b1a-1935-4087-b101-4dc4c38e2313" action="foreach">
                                    <command>
                                        <body>profile_name_instance $profile_names</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d6ab288e-519b-4794-a670-5caabde26b16" action="comment">
                                            <command>
                                                <body>Insert steps here to be executed on each loop</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="54f84087-c7c6-4eab-9682-0b2917b5e0f0" action="command" session="$session">
                                            <command>
                                                <body>traffic-profiling set port $uni_port arp-standard-profile bypass nonconform-standard-profile drop</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="5af0d7a6-ed29-4962-bcea-397d28556c12" action="command" session="$session">
                                            <command>
                                                <body>traffic-pro standard-profile delete port $uni_port profile $profile_name_instance</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="50bb4282-6251-4430-9239-cad881363ede" action="command" session="$session">
                                            <command>
                                                <body>traffic-profiling set port $uni_port mode standard-dot1dpri</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                                <item guid="6c50921a-1d29-485a-8354-3041460969c0" action="command" session="$session">
                                    <command>
                                        <body>config save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="58c38bea-cb3f-47f2-92b0-72e4a938baea" action="else">
                            <nestedSteps>
                                <item guid="416f483a-a551-492a-84c8-eba0a144d38f" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
            </arguments>
        </item>
        <item name="delete_emt_traffic_profiles_by_port" isPublic="true">
            <steps>
                <item guid="6f639909-9517-41b2-91b8-781354c9ad7e" action="comment">
                    <command>
                        <body>Insert steps here to be executed on each loop</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f402b704-f28e-46bd-875c-8942be30ce20" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile show port $uni_port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>No entries found</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set traffic_profile 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>No existing traffic profiles on port $uni_port</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Traffic profiles exist on system.  Cleanup system</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set traffic_profile 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Profile_Name </query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>profile_names</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                </item>
                <item guid="834193e8-4012-465e-b80f-f00582d7b32e" action="if">
                    <command>
                        <body>$traffic_profile == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="254735ad-fbe9-435b-8006-83e90258d645" action="then">
                            <nestedSteps>
                                <item guid="13e890f7-1f85-4c4a-a5c0-4e9e153bcc33" action="command" session="$session">
                                    <command>
                                        <body>vlan show port $uni_port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>//VLAN</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>vlans</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                                <item guid="4233e0eb-a407-46ee-8dd4-76584c125404" action="foreach">
                                    <command>
                                        <body>vlan_instance $vlans</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="96433a83-7241-40d9-accb-65f14c2f8642" action="if">
                                            <command>
                                                <body>($vlan_instance != 1) &amp;&amp; ($vlan_instance != 127) &amp;&amp; ($vlan_instance != 4092)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="3b44e990-3d16-4d3d-9c1c-e8bf168cdc85" action="then">
                                                    <nestedSteps>
                                                        <item guid="e8542b6f-25d3-4e68-a282-0fb631b8edc4" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                            <command>
                                                                <body>cfm service show</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">NameByVid($vlan_instance)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>cfm_name</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <eventHandlers>
                                                                <item name="OnNoMatchesFound">
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>set cfm_name &quot;NONE&quot;</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </item>
                                                            </eventHandlers>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <responseMap>project://di_ciena/response_maps/cfm_service_show.ffrm</responseMap>
                                                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="9a56dfc4-a01b-4fa5-8db1-262b55ea43d2" action="eval">
                                                            <command>
                                                                <body>puts $cfm_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="28b39397-7e3f-40f5-be40-579f86040e69" action="if">
                                                            <command>
                                                                <body>[string length $cfm_name]</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="43e98a21-08ba-45e0-9423-6be35fac42ad" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="1d017530-143d-4e8b-840c-cfbe2921f803" action="comment">
                                                                            <command>
                                                                                <body>Insert steps here for when expression is true</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="8637fc85-4289-41b1-8745-3dc8ba1fad4b" action="foreach">
                                                                            <command>
                                                                                <body>cfm $cfm_name</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="005e60b8-ef61-48fe-abb0-d5a1e4b093d8" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm service delete service $cfm</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="1f5e6b75-4054-4e80-95e3-81abe8e445ef" action="command" session="$session">
                                                            <command>
                                                                <body>vlan show vlan $vlan_instance</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">Nni_port(&quot;$uni_port&quot;)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>nni_port</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="b330a941-e896-4788-9098-210664635152" action="foreach">
                                                            <command>
                                                                <body>nni_port_instance $nni_port</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="43608989-b3b7-434d-96dc-be53b0cbe310" action="command" session="$session">
                                                                    <command>
                                                                        <body>vlan remove vlan $vlan_instance port $nni_port_instance</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="f5a23729-7fd2-41e4-b335-1b170858b8f7" action="command" session="$session">
                                                            <command>
                                                                <body>vlan delete vlan $vlan_instance</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="54bd4bb4-3d9d-4400-b1bc-b35e89ea6993" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-switch ethernet show</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">virtual_switch_by_vlan(&quot;$vlan_instance&quot;)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>virtual_switch_name</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="ed94f506-d98f-4771-a091-d31b812b413c" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-circuit ethernet show</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">virtual_circuit_by_vlan(&quot;$vlan_instance&quot;)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>virtual_circuit_name</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="0e9b7d78-a9dd-4c81-84f5-cc58f5b64466" action="comment">
                                                            <command>
                                                                <body>Remove virtual_switch virtual_circuit</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="912b774c-5af8-42e4-b36c-d3d130c72bc0" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-sw ethernet delete vs $virtual_switch_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="88e58fba-7358-408e-824d-c44603a2ebf5" action="command" session="$session">
                                                            <command>
                                                                <body>virtual-circuit ethernet delete vc $virtual_circuit_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6d712e3a-6c15-4168-9e72-346e18d31bdf" action="foreach">
                                    <command>
                                        <body>profile_name_instance $profile_names</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c686f656-5c51-4193-8fdb-fc9ca1944e6a" action="comment">
                                            <command>
                                                <body>Insert steps here to be executed on each loop</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="d7c574d3-98da-4da2-8803-ff51df083fd8" action="command" session="$session">
                                            <command>
                                                <body>traffic-profiling set port $uni_port arp-standard-profile bypass nonconform-standard-profile drop</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="b5de6183-7614-4b50-9117-fb0dc50e19f8" action="command" session="$session">
                                            <command>
                                                <body>traffic-pro standard-profile delete port $uni_port profile $profile_name_instance</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="e2c8d766-9310-4603-8bab-4f3524108bd4" action="command" session="$session">
                                            <command>
                                                <body>traffic-profiling set port $uni_port mode standard-dot1dpri</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                                <item guid="6297320b-ada3-412a-8fb7-68ba8890974c" action="command" session="$session">
                                    <command>
                                        <body>config save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="efe5456f-21e9-4bda-b363-a13c34993038" action="else">
                            <nestedSteps>
                                <item guid="41ffb7e0-f293-4117-988d-c3a8ab15c8f8" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
            </arguments>
        </item>
        <item name="delete_vlan_by_vlan_num" isPublic="true">
            <steps>
                <item guid="b498cc9d-5bff-46ce-9f86-d187bdd677be" action="command" session="$session">
                    <command>
                        <body>vlan show port $uni_port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//VLAN</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>vlans</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                </item>
                <item guid="45af598f-72bf-4592-8129-5c44472bfff9" action="eval">
                    <command>
                        <body>puts $vlans</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                </item>
                <item guid="92ff3597-415a-4563-9cd0-935e71113449" action="foreach">
                    <command>
                        <body>vlan_instance $vlans</body>
                    </command>
                    <nestedSteps>
                        <item guid="7bedf31a-233c-48eb-9d15-ab7b693be7b5" action="if">
                            <command>
                                <body>($vlan_instance == $vlan_num) &amp;&amp; ( ($vlan_instance != 1) &amp;&amp; ($vlan_instance != 127) &amp;&amp; ($vlan_instance != 4092))</body>
                            </command>
                            <nestedSteps>
                                <item guid="1c9ba19e-1ec1-4c2f-8035-cd62056a8ba7" action="then">
                                    <nestedSteps>
                                        <item guid="81bb20e5-bf17-418a-98aa-1f1f50673b20" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                            <command>
                                                <body>cfm service show</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">NameByVid($vlan_instance)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>cfm_name</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <eventHandlers>
                                                <item name="OnNoMatchesFound">
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set cfm_name &quot;NONE&quot;</statement>
                                                        </actionProperties>
                                                    </item>
                                                </item>
                                            </eventHandlers>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <responseMap>project://di_ciena/response_maps/cfm_service_show.ffrm</responseMap>
                                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="c379ee2b-1f09-4373-93af-0ca7542f6500" action="eval">
                                            <command>
                                                <body>puts $cfm_name</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="9f491ee9-3925-4e78-b013-dda3eda24a60" action="if">
                                            <command>
                                                <body>[string length $cfm_name]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f47bdca9-6696-4008-b23a-e2fa5b906452" action="then">
                                                    <nestedSteps>
                                                        <item guid="d49a6c0f-a9d4-4271-a699-907f5a1cb682" action="comment">
                                                            <command>
                                                                <body>Insert steps here for when expression is true</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="4b0521a7-b490-45c6-88e4-e44a81eabc88" action="foreach">
                                                            <command>
                                                                <body>cfm $cfm_name</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e8b4d746-8a6e-4afc-bbd4-dcf65d4ce53a" action="eval">
                                                                    <command>
                                                                        <body>puts $cfm</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="7b1e1102-1c8d-422e-bc8d-d3a192926ba3" action="command" session="$session">
                                                                    <command>
                                                                        <body>cfm service delete service $cfm</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="e46ccfef-801e-4042-9120-29b887f2264e" action="command" session="$session">
                                            <command>
                                                <body>vlan show vlan $vlan_instance</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query sub="true">Nni_port(&quot;$uni_port&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>nni_port</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="a1c98c2a-1472-40ea-ba58-8527fa46c717" action="foreach">
                                            <command>
                                                <body>nni_port_instance $nni_port</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="421c8ecb-bb3c-4ebe-ac34-819fd89e9380" action="command" session="$session">
                                                    <command>
                                                        <body>vlan remove vlan $vlan_instance port $nni_port_instance</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="62a38340-aada-456a-9193-d64b44092c6f" action="command" session="$session">
                                            <command>
                                                <body>vlan delete vlan $vlan_instance</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="350d714d-38eb-49b5-be33-328d1c7dd7a5" action="command" session="$session">
                                            <command>
                                                <body>virtual-switch ethernet show</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query sub="true">virtual_switch_by_vlan(&quot;$vlan_instance&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>virtual_switch_name</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="09394907-214e-4d87-8550-f9f9a6acbde7" action="command" session="$session">
                                            <command>
                                                <body>virtual-circuit ethernet show</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query sub="true">virtual_circuit_by_vlan(&quot;$vlan_instance&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>virtual_circuit_name</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="6cab5833-9a08-4238-b881-1da91972b308" action="comment">
                                            <command>
                                                <body>Remove virtual_switch virtual_circuit</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="baba1e5b-06c7-4545-a0e4-6e0923ae99ee" action="command" session="$session">
                                            <command>
                                                <body>virtual-sw ethernet delete vs $virtual_switch_name</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="65f27014-37c1-400a-a684-34e57fe84e3d" action="command" session="$session">
                                            <command>
                                                <body>virtual-circuit ethernet delete vc $virtual_circuit_name</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                        <item guid="141e3e28-559b-4f09-b0ba-0ba3790c0880" action="command" session="$session">
                                            <command>
                                                <body>config save</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
                <item name="vlan_num"/>
            </arguments>
        </item>
        <item name="device_login">
            <steps>
                <item guid="779cfd30-d4a4-45eb-a4a6-301f48ce351a" action="comment">
                    <command>
                        <body>Login to the device. These credentials are taken from each users&apos;s global parameter file.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="37cf398a-4bfc-4803-83a6-381b9da61aa8" action="comment">
                    <command>
                        <body>This is a local procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="22714626-91aa-4bf6-ae45-b7f322af8a92" action="command" session="$session" normalOffset="6.17" estimatedStepExecutionTime="0.344">
                    <command>
                        <body>telnet $IP</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.531" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="b9538799-1941-43c8-909e-48cfa3069005" action="call">
                    <command>
                        <body>send_login -userid $userid -password  $password</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="839f5f54-2195-427e-960d-fee2928dab99" action="command" session="$session" normalOffset="3.531" estimatedStepExecutionTime="0.157">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.157" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="IP">
                    <description>device IP</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="disable_cfm_service" isPublic="true">
            <steps>
                <item guid="d9598c2d-7d64-419a-bc21-bfb5cf4b09b1" action="command" session="$session">
                    <command>
                        <body>cfm service disable service $service_id</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SHELL PARSER FAILURE</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set legacy_command 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set legacy_command 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e31fb419-a137-4ea2-86ee-9a8605c04b13" action="if">
                    <command>
                        <body>[get legacy_command]</body>
                    </command>
                    <nestedSteps>
                        <item guid="b5e39134-69ce-4a0d-a318-911c5618944f" action="then">
                            <nestedSteps>
                                <item guid="4908d979-574b-453f-8d00-7790aa766cbc" action="command" session="$session">
                                    <command>
                                        <body>cfm service disable service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="disable_lldp" isPublic="true">
            <steps>
                <item guid="f5da4d98-15a3-4662-a184-5949e42e1220" action="command" session="$session">
                    <command>
                        <body>lldp  set port $port_num mode disable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="disable_multihome" isPublic="true">
            <steps>
                <item guid="60d6cc4d-c36c-4c4e-8255-a1db60fe06ed" action="comment">
                    <command>
                        <body>AAF - Mike</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cff1834e-1e4e-4607-8a85-2214021d7f38" action="command" session="$session">
                    <command>
                        <body>eoam show</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="cca52083-b5ff-4216-b8ff-9baa739652b9" action="command" session="$session">
                    <command>
                        <body>eoam show port $nniPort</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">oam_port_statistics_admin_state_by_port(&apos;${nniPort}&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;En&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>EOAM configuration present on $session NNI port: ${nniPort}.  Proceeding to cleanup.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set config_present 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>EOAM configuration NOT present on $session NNI port: ${nniPort}. Skipping cleanup.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set config_present 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e98aa1ac-86d7-4176-8531-5eccdd54d247" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cb1fd253-9c0f-4d5d-9b9c-db49488377f6" action="if">
                    <command>
                        <body>[get config_present]</body>
                    </command>
                    <nestedSteps>
                        <item guid="5efe5442-cf29-4c73-afa3-928fe65ff445" action="then">
                            <nestedSteps>
                                <item guid="5b7f43b6-81b2-446e-bb59-554ca6c855ec" action="eoam_disable_port" session="$session">
                                    <command>
                                        <body>-port_num $nniPort</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5115a7a7-0ed8-4edb-b5ab-2d81e5060a16" action="command" session="$session">
                                    <command>
                                        <body>eoam set port $nniPort pdu-timer 1000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="e9633ea4-ff22-48e6-9a93-0f900edc97f0" action="command" session="$session">
                                    <command>
                                        <body>eoam set port $nniPort link-lost-timer 5000</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="417fe1af-7e5d-47a0-9223-2829a4ddba7b" action="command" session="$session">
                                    <command>
                                        <body>vlan remove vlan $svlan port $nniPort</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="bb70ce25-a284-4715-9a7d-d5c0ae89a1df" action="eoam_disable_port" session="$session">
                                    <command>
                                        <body>-port_num $nniPort</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3e13fbd6-2b1d-4413-bf7d-1e673444e5af" action="comment">
                                    <command>
                                        <body>AAF - Mike    Skipped below command; renders device unreachable</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="124006a1-313b-4bf1-ad68-90d866fc64d2" action="command" session="$session" skip="true">
                                    <command>
                                        <body>eoam disable</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="2d493bd6-3ffc-48f0-ae3a-038f5a4bc6b4" action="command" session="$session">
                                    <command>
                                        <body>config save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="5cafda4a-b643-47ba-866a-bbe8887cfd38" action="else">
                            <nestedSteps>
                                <item guid="8f10f762-0809-4d48-92b7-85d0b60dcfbb" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="758f3df6-6e28-4009-b647-b13f84bf4c76" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="nniPort"/>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="disable_port" isPublic="true">
            <steps>
                <item guid="2c269501-f0b2-4dea-8f76-017db396eb3c" action="command" session="$session">
                    <command>
                        <body>port disable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="emt_port_restore" isPublic="true">
            <steps>
                <item guid="c043c77c-864a-4f59-9b4c-09c6ae377ae9" action="comment">
                    <command>
                        <body>Input Parameters</body>
                    </command>
                    <nestedSteps>
                        <item guid="7502be4c-6de9-4052-9301-f3197b386492" action="eval">
                            <command>
                                <body>puts &quot;Uni Port = $uni_port ..... Element Name = $element_name&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3038c06e-c09a-45dc-85ee-60b798cdf365" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port  mode sfp</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5ad36a6c-93d4-4e96-b07f-d6a7704c2abf" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port speed gigabit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6a46e8b5-c163-49a1-93c1-cbae97390d8e" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port duplex full</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="61c5d30c-a536-42a7-aa7a-962ff1d43479" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port auto-neg on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="14523b93-d18d-4165-8be1-f65dae05168d" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port max-frame-size 9130</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6952a3eb-8a8e-45a3-9e29-f426b91cdce3" action="command" session="$session">
                    <command>
                        <body>lldp set port $uni_port mode tx-rx</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c5bf6097-42ef-4999-a653-f800a2ded027" action="command" session="$session">
                    <command>
                        <body>twamp enable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e5b3fbbf-0fcc-4e7a-a799-9c8c1b7bb2f4" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port  ingress-to-egress-qmap Default-RCOS  resolved-cos-map EMUX-FcosRcos</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9fb8c3a5-fb60-4973-a77a-02cb0ddc92b6" action="if">
                    <command>
                        <body>$element_name == &quot;5150&quot; || $element_name == &quot;3930&quot; || $element_name == &quot;3931&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="df8a37d4-f539-46ce-9c84-fad06c745947" action="then">
                            <nestedSteps>
                                <item guid="7973e5fe-e6a2-49a2-9b93-7449ae83a839" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile EMT-S-WRED </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="aa084777-307d-4698-8b50-a91902035148" action="else">
                            <nestedSteps>
                                <item guid="8308b14b-708d-4568-9084-f0b3ba53ad5e" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile  EMT-S-RED</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="eb99543c-5b85-4b8d-be7f-b2a7cf942b0e" action="command" session="$session">
                                    <command>
                                        <body>port unset port $uni_port description</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="2517d543-1eca-4e23-a5b0-07fa2dbe62ef" action="command" session="$session">
                                    <command>
                                        <body>dot1x auth disable port $uni_port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="387b7860-0d88-4499-9461-92abb85e6d67" action="command" session="$session">
                                    <command>
                                        <body>dot1x auth set port $uni_port mode auto</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ce4788dc-5e6d-478c-ba98-b7d440a65f20" action="command" session="$session">
                                    <command>
                                        <body>dot1x auth set port $uni_port reauthentication on</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="79ef8b40-a81a-45c4-88d6-9d1ba7e58120" action="comment">
                    <command>
                        <body>For Issue ASE-iTEST_0043, commented disable port option - Sateesh</body>
                    </command>
                    <nestedSteps>
                        <item guid="b987c293-5235-493b-b8e3-ca0693101d2e" action="command" session="$session" skip="true">
                            <command>
                                <body>port disable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d7eeaa84-d946-49e9-b333-59efb23051cd" action="command" session="$session">
                    <command>
                        <body>traffic-profiling set port $uni_port mode standard-vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="88615ab6-0a99-4305-b961-d4976dba78e2" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
                <item name="element_name"/>
            </arguments>
        </item>
        <item name="emt_port_restore_fbs" isPublic="true">
            <steps>
                <item guid="49274964-66d5-44d1-bd67-525c1a7f2f9f" action="comment">
                    <command>
                        <body>Input Parameters</body>
                    </command>
                    <nestedSteps>
                        <item guid="c22735bb-5cb9-475b-8573-95865d4a6d1d" action="eval">
                            <command>
                                <body>puts &quot;Uni Port = $uni_port ..... Element Name = $element_name&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a358b994-b4b4-4aca-bd1f-14bb9180fcd7" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port  mode $uni_port_mode</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="30ee60b8-a11b-4e59-93ec-db209e54246b" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port speed gigabit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f6fb6bda-4a4d-40c1-ac06-2eb81ffe7284" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port duplex full</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d8311918-5d7b-4cdd-90bc-b2e8e4858511" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port auto-neg on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="20372a69-b78c-4327-bb47-da38569fc78b" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port max-frame-size 9130</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="13870c69-d3b9-4c5a-9626-f2056e174a95" action="command" session="$session">
                    <command>
                        <body>lldp set port $uni_port mode tx-rx</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="7765fbc9-41f5-497d-8773-7b109704b909" action="command" session="$session">
                    <command>
                        <body>twamp enable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="03324a2c-dd2b-497f-9f41-40fe15371cb1" action="command" session="$session">
                    <command>
                        <body>port set port $uni_port resolved-cos-map FBS-FcosRcos</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f806ded5-d421-4312-84eb-c11575561834" action="if">
                    <command>
                        <body>$element_name == &quot;5150&quot; || $element_name == &quot;3930&quot; || $element_name == &quot;3931&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="331f1dca-afe7-4d7a-b676-3b486b7a6c1f" action="then">
                            <nestedSteps>
                                <item guid="1bf1a937-cfa0-40e4-ba30-c07ad693161a" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile EMT-S-WRED </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0a7f63e5-38ae-4942-a04f-5cc1cc603cd3" action="else">
                            <nestedSteps>
                                <item guid="db462154-7f5f-4a63-9313-689798b92c6b" action="command" session="$session">
                                    <command>
                                        <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile  EMT-S-RED</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2178af1f-686d-4e76-89eb-695f5a602b28" action="command" session="$session">
                    <command>
                        <body>port unset port $uni_port description</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3dc4e152-4687-481e-80a6-db401819ddd6" action="command" session="$session">
                    <command>
                        <body>dot1x auth disable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="8d2b7617-4131-40d8-87c4-515fcbd8bbb0" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port mode auto</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e3e2565b-dc63-46a5-b071-4a2aaaa9c370" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port reauthentication on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b02eb12c-1c86-44c6-b8f9-5c6488453a43" action="command" session="$session">
                    <command>
                        <body>traffic-profiling set port $uni_port mode standard-vlan</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="283acea5-af1a-43a4-a062-49cf856bae48" action="command" session="$session">
                    <command>
                        <body>port disable port $uni_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="674112d8-d030-40cb-90c3-8df10ecbb31b" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port"/>
                <item name="element_name"/>
            </arguments>
        </item>
        <item name="emux_port_restore" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="1918e31c-0dd6-4f54-8274-8b393d5748fb" action="comment">
                    <command>
                        <body>Restore to EMUX optical port</body>
                    </command>
                    <nestedSteps>
                        <item guid="22dba505-b2e5-4492-bab1-0af4c811e575" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>port set port $uni_port  mode sfp</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_show_output</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>$nni_port does not exist on $session</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show1.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                        <item guid="3370fc2e-f5c4-43b4-b810-d14993647a0f" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port speed gigabit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="639ab747-eed3-42e2-9b18-cd066e36120e" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port duplex full</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4124a632-68ca-48f2-90df-1dc3af92fabd" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port auto-neg on</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="6e9301aa-9b47-4b02-82db-1cd17d081a33" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port max-frame-size 9130</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="0f5a4147-584e-43ac-a27e-4a7cac7a13f0" action="command" session="$session">
                            <command>
                                <body>lldp set port  $uni_port mode tx-rx</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="b93ed0d7-37bb-4e0f-90d8-a15c46edbe40" action="command" session="$session">
                            <command>
                                <body>twamp enable port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="503105e0-52d9-4f91-9980-1e120bd45c0c" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 127 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="7f56eeff-53e5-4700-a3c5-c514fb075490" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4092 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="93d5d096-8038-4a90-a4a2-a38ac6a62555" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4091 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="50987398-44fe-4527-8c47-fe50fc23be4a" action="comment">
                    <command>
                        <body>Change QoS map and FcosRcos table</body>
                    </command>
                    <nestedSteps>
                        <item guid="f4547ee1-82b7-4e4c-bfad-5569320698f1" action="command" session="$session">
                            <command>
                                <body>port set port 2 resolved-cos-map EMUX-FcosRcos</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9850d020-7abd-4da1-acd0-92d8ea753ac4" action="comment">
                    <command>
                        <body>Restore Qo to EMT-S-RED</body>
                    </command>
                    <nestedSteps>
                        <item guid="eea9eb3c-8cba-431d-aba3-c918a601fbb6" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port  $uni_port congestion-avoidance-profile EMT-S-RED </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1723ed64-e5a2-4ad8-ab87-60308d0bf566" action="comment">
                    <command>
                        <body>Remove description text</body>
                    </command>
                    <nestedSteps>
                        <item guid="04e1b995-bb64-4464-9597-75f5ae8aeab8" action="command" session="$session">
                            <command>
                                <body>port unset port  $uni_port description</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d9efda79-7b5b-4944-a2fc-69448e3cf136" action="comment">
                    <command>
                        <body>Disable the port for service</body>
                    </command>
                    <nestedSteps>
                        <item guid="be8e9070-f77a-4fee-83ba-731310213c85" action="command" session="$session">
                            <command>
                                <body>dot1x auth disable port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="40a8dafe-ba25-41a0-9162-c292147c98e5" action="comment">
                    <command>
                        <body>Disable port 802.1x config</body>
                    </command>
                    <nestedSteps>
                        <item guid="b83a555b-eb6e-429d-8cbe-ca875d571398" action="command" session="$session">
                            <command>
                                <body>dot1x auth disable port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e97534a5-c5dd-4c42-a3a1-2d418e129926" action="command" session="$session">
                            <command>
                                <body>dot1x auth set port  $uni_port mode auto</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="70022a0b-7812-4f09-a107-5734ffdc69fd" action="command" session="$session">
                            <command>
                                <body>dot1x auth set port  $uni_port reauthentication on</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="enable_ccm" isPublic="true">
            <steps>
                <item guid="758f815b-cecf-4ed7-aa07-28618318f863" action="command" session="$session" skip="true">
                    <command>
                        <body>cfm service show service &quot;${md}serv&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5755e8b5-2080-4afe-b277-5f87bf13e8b9" action="command" session="$session" skip="true">
                    <command>
                        <body>cfm service create vlan $vlan name &quot;${md}serv&quot; md $md ma-name-string $ma</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a2c71733-9970-4430-bd55-24fe60528d5d" action="command" session="$session">
                    <command>
                        <body>cfm service enable service &quot;${md}serv&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4558f5a0-1a17-43ca-9a9c-0642e0b31b57" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="vlan"/>
            </arguments>
        </item>
        <item name="enable_cfm_service" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="41aec5b3-391e-4120-81f5-43b6e37c0784" action="command" session="$session">
                    <command>
                        <body>cfm service enable service $service_id</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SHELL PARSER FAILURE</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set legacy_command 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set legacy_command 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="32e8c650-ffff-4d17-b13e-f1ae11a4f424" action="if">
                    <command>
                        <body>[get legacy_command]</body>
                    </command>
                    <nestedSteps>
                        <item guid="10a0d3e9-b71f-4dd3-ae38-02c6fbc2333d" action="then">
                            <nestedSteps>
                                <item guid="53eb68db-5345-49fb-be7f-64a2bceb70d3" action="command" session="$session">
                                    <command>
                                        <body>cfm service enable service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="session"/>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="enable_lldp" isPublic="true">
            <steps>
                <item guid="07b36a03-c5e1-4f4a-8214-cc15ae63ea49" action="command" session="$session">
                    <command>
                        <body>lldp set port $port_num mode tx-rx</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="enable_port" isPublic="true">
            <steps>
                <item guid="e6bb336a-31da-4c6b-80b6-7b26d1a2276e" action="command" session="$session">
                    <command>
                        <body>port enable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="enable_vc_stats" isPublic="true">
            <steps>
                <item guid="56b01c88-5d77-4433-92de-24594387a2bb" action="command" session="$session">
                    <command>
                        <body>virtual-circui ethernet set vc ERS-$svlan-VC statistics on</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show.ffrm</responseMap>
                </item>
                <item guid="f9046e28-d166-4529-a9fb-dd6310320d7d" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="eoam_disable_port" isPublic="true">
            <steps>
                <item guid="f5141bb3-5a8d-4a3c-b350-1d3aa83c7d75" action="command" session="$session">
                    <command>
                        <body>eoam disable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="eoam_enable_port" isPublic="true">
            <steps>
                <item guid="91554585-b78f-4ed0-a4cc-6432217d73b1" action="command" session="$session">
                    <command>
                        <body>eoam enable port $port_num</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port_num"/>
            </arguments>
        </item>
        <item name="eoam_multihome" isPublic="true">
            <steps>
                <item guid="fca478a4-ae1e-44aa-b209-d5f256bbc02a" action="comment">
                    <command>
                        <body>AAF - Mike</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="06fd1e6e-db9e-45ea-8c7a-45728165b70a" action="eval">
                    <command>
                        <body>set file_uri [gget aaf_cmd_file]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5ad673fd-3b27-43ea-b17d-ba1d75170220" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b3ea5ced-f616-4088-b05f-606960d90491" action="command" session="$session">
                    <command>
                        <body>eoam enable</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="a191e2b7-af21-4249-b93b-7d8614aba33f" action="command" session="$session">
                    <command>
                        <body>eoam enable port $port</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="cd28462a-eefc-4897-ad7d-945d65d27861" action="command" session="$session">
                    <command>
                        <body>eoam set port $port mode active</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6bce7571-96e3-402a-a5cf-f6564695079e" action="if">
                    <command>
                        <body>$primary == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="7e1400ce-953c-46bf-ba65-42be73690c7d" action="then">
                            <nestedSteps>
                                <item guid="3f2a79d3-88f5-4096-858a-f245748cfd9e" action="command" session="$session">
                                    <command>
                                        <body>flow access-control create port $port forward-unlearned on max-dynamic-macs 0</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="781a7988-585e-406d-b1b1-22189b98f077" action="elseif">
                            <command>
                                <body>$primary == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="b69706f4-5bc2-47b7-a972-86020c917668" action="command" session="$session">
                                    <command>
                                        <body>eoam set port $port pdu-timer 100</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="80a48a7c-89f8-412b-bb76-5993a87b05c7" action="command" session="$session">
                                    <command>
                                        <body>eoam set port $port link-lost-timer 500</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="68488a1f-4c90-4c60-ba4b-de25c36211af" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-ev-notify on</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0aa2ed94-a92b-4ade-9ff6-059e069c5cf3" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-period-ev-notify on</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d21308d4-7ac7-4c10-b716-93a04047c553" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-secs-summary on</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="eef72a4a-9d94-4e96-ba36-63291815e538" action="command" session="$session">
                    <command>
                        <body>eoam set port $port dying-gasp on</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0732855a-51dd-4129-8873-b47923f84ef0" action="command" session="$session">
                    <command>
                        <body>eoam set port $port critical-event off</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="97d44a64-e77a-44dc-8502-a379e0ab7f2f" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-window 10</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="657db0df-30c4-4cc0-b0e0-212c478a5fe5" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-threshold 1</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2d6d4a3c-9c55-43ae-9289-af83438ac35d" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-period-threshold 1</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="c167c0f1-c384-4152-8511-caf834ecace1" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-secs-window 600</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2bc5098f-ae60-42f4-bdac-a5f22b1b3570" action="command" session="$session">
                    <command>
                        <body>eoam set port $port errd-frame-secs-threshold 1</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="19f499da-2c7f-490b-b036-bf7d8313d1f2" action="comment">
                    <command>
                        <body>Get Port type</body>
                    </command>
                    <nestedSteps>
                        <item guid="73c7e436-11b7-4f1e-b32b-b4541ba5079c" action="get_port_speed" session="$session">
                            <command>
                                <body>-port $port</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/speed</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>gig_port</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d636923a-7b6a-4f8c-9905-5ad60fa0aa90" action="if">
                    <command>
                        <body>$gig_port == 10</body>
                    </command>
                    <nestedSteps>
                        <item guid="e53139c3-b715-4819-bcf0-2c63d3804f2f" action="then">
                            <nestedSteps>
                                <item guid="8ec54362-72a1-412d-b08a-3904383b0446" action="command" session="$session">
                                    <command>
                                        <body>eoam set port $port errd-frame-period-window 14880952</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ec0d17ee-09ac-480d-9237-847cf4b3e645" action="else">
                            <nestedSteps>
                                <item guid="e6871aec-2fdf-4b99-997e-8b674160e611" action="command" session="$session">
                                    <command>
                                        <body>eoam set port $port errd-frame-period-window 1488096</body>
                                    </command>
                                    <postProcessing>
                                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="efe14be6-9521-4045-aaf0-632d03dfd2f1" action="command" session="$session">
                    <command>
                        <body>config save</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[get file_uri]</responseFile>
                        <appendTimestamp inherit="false">false</appendTimestamp>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="primary">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="eoam_show" isPublic="true">
            <steps>
                <item guid="30062eca-ff7b-4f5d-b759-27e035168919" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>eoam show</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="eoam_show_port" isPublic="true">
            <steps>
                <item guid="a1371a11-2fb0-4b08-99b7-3211bdb0308c" action="if">
                    <command>
                        <body>![string length $results_uri]</body>
                    </command>
                    <nestedSteps>
                        <item guid="4b532545-b2ee-4a4f-823e-0922d2139072" action="then">
                            <nestedSteps>
                                <item guid="90d2bea8-6989-46c5-8c3b-5d1ea35eff28" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>eoam show port $port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>table1_Info_PduTx(1)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>info_pdu_tx</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>table1_Info_PduRx(1)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>info_pdu_rx</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/eoam_show_port1.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a2d72d7b-223d-47c6-ac38-1ff700b73de4" action="else">
                            <nestedSteps>
                                <item guid="bde50513-36b5-41d5-9603-1682ad049ed2" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="669ea725-c8ef-4992-acf2-8b63a7d7f1f3" action="eval">
                                    <command>
                                        <body>set blank &quot;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e3d1bae9-4f96-4276-abe8-87231fb5e4e3" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>eoam show port $port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>table1_Info_PduTx(1)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>info_pdu_tx</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>table1_Info_PduRx(1)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>info_pdu_rx</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">${results_uri}</responseFile>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena/response_maps/eoam_show_port1.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="11e9ebcd-052f-4f1d-af7c-44e27fe70c5a" action="writeFile">
                                    <command>
                                        <body>[get results_uri] [get blank]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7b4b3741-8877-4e65-98a7-ea6c0ba269f2" action="writeFile">
                                    <command>
                                        <body>[get results_uri] [concat NTE: ${session}  Info PduTx $info_pdu_tx -- Info PduRX $info_pdu_rx]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3c27082a-250c-4bcf-8f55-b7cf77f470d9" action="write">
                    <command>
                        <body>Info PduTx $info_pdu_tx -- Info PduRX $info_pdu_rx</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="83c7fa49-8e6d-4eca-ae03-d85c895e9434" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="results_uri"/>
            </arguments>
        </item>
        <item name="eoam_show_port_status" isPublic="true">
            <steps>
                <item guid="6db5bbf7-80ad-40cc-9bed-1cc8bd8f4927" action="eval">
                    <command>
                        <body>set AdminState &quot;SendAny&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ef051ce9-cb33-4fc0-8e99-b47a9807d536" action="eval">
                    <command>
                        <body>puts $port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="657c90ae-5081-49cf-8af7-66722cbb041b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>eoam show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Admin_State_by_Port($port)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>AdminState</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>PortStatus</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="4dc24d9c-e9ff-4141-b6c1-4f074da7e8bd" action="write">
                    <command>
                        <body>$AdminState</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="ethernet_ping" isPublic="true">
            <steps>
                <item guid="d71d2924-af44-44cd-bb07-a7a0f7c760a6" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1b3b8311-6fbd-49b4-b1dc-3af1a6ea6add" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f74ff2b3-01cf-4659-b3ec-aeb77df2826e" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="081b458a-4277-4bb5-8a43-3fa2d078119e" action="comment">
                    <command>
                        <body>cfm loop send service $service_id local mep_id mep target_mep_id c 10</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="feb6289a-4a01-4264-9199-930f22766e2c" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="11921508-0293-4b9a-adbb-3c4a322fb782" action="then">
                            <nestedSteps>
                                <item guid="2a335e64-9a82-4819-bfe9-327f9605da5f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b9645c8e-b62f-416b-bda0-33e6f95fe3f2" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="753c0fc0-3dc2-484c-80a0-6da5602cdf35" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send service $service_id local $source_mep_id mep $destination_mep_id count $count interval $ping_interval priority $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="1b898a69-977f-4698-8c9f-ff9aaab90138" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="dcd9b05b-9645-4c1f-aa56-9efcb602099d" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="58e49383-ccca-4368-9f20-9c3953ff44eb" action="command" session="$session">
                                    <command>
                                        <body>cfm loop show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="90aaf33d-1882-4be9-9ea9-3cf973821528" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="500b6f57-2c3d-459a-b797-92f0261bc9b7" action="comment">
                                    <nestedSteps>
                                        <item guid="0cb6f4cc-ed5b-4372-a9dc-ec989d852b8b" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="ef0d2804-1d44-4175-952e-e1a0181c334d" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="dc899fcc-b4aa-435a-9faf-516e3c30d52d" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4e4c7c1d-7e7b-42f9-9fde-04ffb7ea927b" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f00ed982-9faf-4bbf-8ce5-c176df262e37" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="929f07a1-1904-44ab-9c4f-b012f984f380" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c5e58860-c651-41f2-884b-4c36b43e520c" action="else">
                            <nestedSteps>
                                <item guid="a82f6ae8-28ef-4316-bb4e-4a4daf40a904" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send service $service_id local $source_mep_id mep $destination_mep_id count $count interval $ping_interval priority $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="d6937de8-f00d-4610-a357-e19cc7d93adf" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="440c546b-2496-4478-a6f2-a7c519a37661" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="28e02c04-de92-4d52-aa4d-b3ccfef67eb4" action="command" session="$session">
                                    <command>
                                        <body>cfm loop show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c6c32509-23f3-41e1-8c85-799b0dbf41f1" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6d5dbf30-a0bd-469b-a8ab-1e3a6bec07c4" action="command" session="$session" skip="true">
                                            <command>
                                                <body>cfm service show service &quot;${md}$ma&quot; statistics</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="607487b1-327b-4014-bc4f-1c501b65d311" action="command" session="$session">
                                            <command>
                                                <body>cfm service show service $service_id statistics</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="454ba2ee-aa80-47c4-b913-425e0caff262" action="comment">
                                    <nestedSteps>
                                        <item guid="c0ee38e0-e26d-4f5f-9c98-1a683785a45f" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="f58fa432-40c7-491f-99e5-1db6cf501cd8" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="272159d7-f51e-4b4b-b206-2bae5868cb6c" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="c70c5ef1-d5cc-494c-8b5d-945949d79fd3" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a0a0eb82-b706-45a1-9328-6de702e5a484" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7317d129-ae2c-4132-a5c5-25c2ce980717" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="source_mep_id"/>
                <item name="destination_mep_id"/>
                <item name="count"/>
                <item name="ping_interval"/>
                <item name="priority"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="ethernet_ping_mac_hop" isPublic="true">
            <steps>
                <item guid="3611b150-7a8f-45c9-b32c-326db85cf65a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b0cdd2e2-abeb-4b39-862c-8769cfecc645" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1fbea45b-63b0-4fb5-bd86-d191d41b07bf" action="comment">
                    <command>
                        <body>Seed the local variables: active_service, local_mep and list of remore_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="96a54a6e-9d94-48a0-9462-fe061252b4b2" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1c49902f-a9f2-46e1-a597-9ebd0bcb770c" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id </body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="5380a984-5877-403c-a29d-d4400d78ff6d" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="69821fc5-7932-42cc-9759-40e6d288b67b" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="aa0d2275-bd1c-4f98-8dc9-94a2e8448b43" action="command" session="$session">
                            <command>
                                <body>cfm link show service $service_id mep $source_mep_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>service()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>active_service</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>local_mep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>local_mep</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>remote_mep_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>remote_mac_addr_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ingress_mac()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ingress_mac_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>egress_mac()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>egress_mac_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="7611fa73-fcdd-4195-aff7-a8d060de2cd7" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e4dabb0-1d1e-46ff-b1f3-c4813ad2cc45" action="eval">
                    <command>
                        <body>set hop_cnt 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3e30bc91-e65c-422d-bd6a-e33cd2e22dcb" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6376c3ac-5189-4afe-85fc-bb0b10ffd8c1" action="if">
                    <command>
                        <body>![get l2cc]</body>
                    </command>
                    <nestedSteps>
                        <item guid="c72ad514-6993-4485-8fd7-c18fef8073e6" action="then">
                            <nestedSteps>
                                <item guid="96500378-5a2c-4b8a-99d5-13d1323f0f15" action="comment">
                                    <command>
                                        <body>Flip the stored mac address list, strip the tail and let&apos;s get to the testing.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="5a7e0400-8f1a-4d6a-9e53-cc3887a96b4b" action="foreach">
                                            <command>
                                                <body>mac_addr [lrange [lreverse [get remote_mac_addr_list]] 0 end-1]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="167a2c73-a846-4cec-98ed-aef0429839b1" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="c82c5f93-380d-4afb-bf0e-74b4f8acc113" action="eval">
                                                    <command>
                                                        <body>set hop_cnt [incr hop_cnt]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="45c00e30-df33-4685-8a6d-3cc8bc886a85" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="054329eb-d953-445f-9d25-8d0e00e6fad2" action="if">
                                                    <command>
                                                        <body>$log_report == 1 || $log_cmd == 1</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="0c47bfb6-cde1-45fd-bbdb-56595ff8e241" action="then">
                                                            <nestedSteps>
                                                                <item guid="e5ad6e5e-029b-4758-a51a-24119cc8a911" action="eval">
                                                                    <command>
                                                                        <body>set seperator &quot;================================================================================&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="fc3c1eab-df26-4c14-9641-d3f2da8267b1" action="command" session="$session">
                                                                    <command>
                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="9af8e053-fcb4-4a03-b2e9-2e6dd2ef1678" action="eval">
                                                                    <command>
                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="73715699-e844-46e0-af40-8a087cf0cd33" action="sleep">
                                                                    <command>
                                                                        <body>$delay</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="041273c8-145f-4a00-a66d-12c221d48cd3" action="command" session="$session">
                                                                    <command>
                                                                        <body>cfm loop show service $service_id</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="6b3643f2-7bdc-4d86-9099-7bd6832f532a" action="comment">
                                                                    <command>
                                                                        <body>Write the results</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="5ca9ff6e-9312-49f2-ba0b-8a70bc7b5d7d" action="eval">
                                                                            <command>
                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="7ca6ed44-e3a9-4318-9b92-e2836f724b9c" action="eval">
                                                                            <command>
                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="073e8da0-d693-4f62-9b89-2fc2ded2c132" action="eval">
                                                                            <command>
                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="4a995ddf-aa53-4a56-83e3-f98694f9e7bd" action="eval">
                                                                            <command>
                                                                                <body>lappend status_list $rate2</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="60ee4a23-6bc6-43cb-9a58-da3796b68c22" action="write">
                                                                            <command>
                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c338ee71-cc86-438b-9d05-30d096acc9dd" action="write">
                                                                            <command>
                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="19ba7550-b3f6-4265-9fa0-3f50edf53e90" action="write">
                                                                            <command>
                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="6874de95-7e59-43f8-9b73-74845942e9a3" action="write">
                                                                            <command>
                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="0a6173e8-eb2c-42b4-8548-993f560e20cb" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="1e031c8c-0a72-41c3-b731-f7c2eb7f9afb" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="ea714286-919c-4ff3-8a22-a417856db1ea" action="else">
                                                            <nestedSteps>
                                                                <item guid="41916f6a-1756-479a-bcf6-1817365c27d2" action="comment">
                                                                    <command>
                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="328cab8b-a2e4-48a3-b59d-4d430f5b72f8" action="command" session="$session">
                                                                    <command>
                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <appendSession inherit="false">true</appendSession>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                </item>
                                                                <item guid="05fefb4b-845e-485d-b7bd-dd91520d9dd5" action="eval">
                                                                    <command>
                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="a703dd1c-84d0-4b9b-997a-4ef2069d2ac0" action="sleep">
                                                                    <command>
                                                                        <body>$delay</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="7c1eb7fe-f371-452a-927a-877e9437a0a6" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                                    <command>
                                                                        <body>cfm loopback show service $service_id</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                        <appendAction inherit="false" defaultValue=""/>
                                                                        <appendSession inherit="false" defaultValue=""/>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                    <responseMap>project://di_ciena/response_maps/cfm_loop_show.ffrm</responseMap>
                                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                                </item>
                                                                <item guid="392d5e01-e59f-4ac7-9fd4-73a03f085182" action="comment">
                                                                    <command>
                                                                        <body>Take a look at the stats and report as needed</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="d353bde6-672b-41bf-9440-62f37c7d1148" action="command" session="$session">
                                                                            <command>
                                                                                <body>cfm service show service $active_service statistics</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="ec5ef59b-cd71-4a98-ba90-81c164387103" action="comment">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="d00d384a-5a68-4a4a-80b9-e2d0ae8eb5eb" action="comment">
                                                                    <command>
                                                                        <body>Write the results</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="8d8d86af-4855-4828-8c5b-91be84f77309" action="eval">
                                                                            <command>
                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="a70d51b7-c032-41e2-9e3b-ef981d2858ba" action="eval">
                                                                            <command>
                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="a2476b06-9e9c-46d1-adee-9bb0c656cb06" action="eval">
                                                                            <command>
                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="35ca5129-2264-40ef-a71a-51d9a44e2a1b" action="eval">
                                                                            <command>
                                                                                <body>lappend status_list $rate2</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="eeeb9a5c-ad51-45a2-940c-bb022e83b849" action="write">
                                                                            <command>
                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="3c02c433-2928-4c55-96e7-f2be46450943" action="write">
                                                                            <command>
                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="e6119c01-27b6-4f0a-96d7-8ff8deee39b3" action="write">
                                                                            <command>
                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="9f7453a0-e844-4ae4-8781-b627c031bf5e" action="write">
                                                                            <command>
                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="3f412b77-5d4b-4d75-b646-499635f2fd79" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="fd48d5c5-3d25-4b6a-a7e9-5402ea002c51" action="write">
                                                                            <command>
                                                                                <body>\\r</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="e71b0069-e816-4f58-a721-f8bbda76c0fb" action="comment">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <eventHandlers>
                                                        <item name="OnInterpreterError">
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>puts 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </item>
                                                    </eventHandlers>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="72b6187a-dd65-4f6f-b7ac-5663630079df" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7d891f46-9316-473c-9821-47e4e474cca7" action="else">
                            <nestedSteps>
                                <item guid="44ac0a4f-0500-4fd2-8d98-d3b571bc6542" action="comment">
                                    <command>
                                        <body>L2CC present Utlize the ingress_mac_list here.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ff8124bc-014f-4a0e-86fa-b3aec1f177f7" action="foreach">
                                            <command>
                                                <body>mac_addr [get ingress_mac_list]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d6b087bb-b614-4891-ac27-f9f397175438" action="comment">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="f34bb992-a830-415d-8adf-84e936815058" action="if">
                                                    <command>
                                                        <body>[string length [string trim [get mac_addr]]]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="29840b77-654e-47e9-9c23-ee5cf145704e" action="then">
                                                            <nestedSteps>
                                                                <item guid="e338d31e-7b35-4612-8899-3a435b54aec0" action="eval">
                                                                    <command>
                                                                        <body>set hop_cnt [incr hop_cnt]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="78785a65-bfa3-4fec-b05f-26d12f1f63b1" action="comment">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="0c07e2bb-a49a-45a2-bb5e-e42dc574069b" action="if">
                                                                    <command>
                                                                        <body>$log_report == 1 || $log_cmd == 1</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="d07adec6-0205-41d0-b157-8b1c872231b5" action="then">
                                                                            <nestedSteps>
                                                                                <item guid="fe0716b8-7340-4bee-9d38-e5cdf8dbb7da" action="eval">
                                                                                    <command>
                                                                                        <body>set seperator &quot;================================================================================&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="e3e6dfe2-f85e-49ef-b590-983534fae985" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="119b8de7-ce5c-40f2-bd9c-8e51921781d8" action="eval">
                                                                                    <command>
                                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="6318b727-ef2b-46be-bc4b-5531bc161b09" action="sleep">
                                                                                    <command>
                                                                                        <body>$delay</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="9b37b315-5e00-4e6c-bae8-be529b9d3823" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm loop show service $service_id</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                                                                        <writePrompt inherit="false">false</writePrompt>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="6876a0dc-bf69-4b49-90f1-b53741e21ccd" action="comment">
                                                                                    <command>
                                                                                        <body>Write the results</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="c8fc6409-845e-4592-aa52-fe858547a382" action="eval">
                                                                                            <command>
                                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="bded8ab1-5068-4832-9c44-656b444d1104" action="eval">
                                                                                            <command>
                                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="e8f32291-aff5-4965-98aa-97e0fb5194f8" action="eval">
                                                                                            <command>
                                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="b438fef0-6473-4ebe-aa8d-acfd4af38631" action="eval">
                                                                                            <command>
                                                                                                <body>lappend status_list $rate2</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="000586da-f705-4123-b1b5-6b30fe036c96" action="write">
                                                                                            <command>
                                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="97ec25a6-1716-47b7-a553-077c7b7a9274" action="write">
                                                                                            <command>
                                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="3ea81962-fed8-4a37-b044-1ea1f861a650" action="write">
                                                                                            <command>
                                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="a924ee79-39f4-4897-9133-63da0ecea8c3" action="write">
                                                                                            <command>
                                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="8758f662-1ca5-4c59-b9c7-beeb1b4b1c09" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="6118411b-4b51-4dac-be1d-c01a33b325dc" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="47822734-055a-4aac-99d6-a86aad14e615" action="else">
                                                                            <nestedSteps>
                                                                                <item guid="0bff3734-6102-4210-b6e2-e9dd20d596f6" action="comment">
                                                                                    <command>
                                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="3c465dbd-5843-4628-bc14-3d05707fc51c" action="command" session="$session">
                                                                                    <command>
                                                                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <appendSession inherit="false">true</appendSession>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                </item>
                                                                                <item guid="e7cae154-99cd-4882-80c6-1cbffc0c4d17" action="eval">
                                                                                    <command>
                                                                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="c2013d51-b555-43cb-93d1-8f0fa967328e" action="sleep">
                                                                                    <command>
                                                                                        <body>$delay</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="154e34ea-4434-4b0c-88ff-a9790e86d62b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                                                                    <command>
                                                                                        <body>cfm loopback show service $service_id</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <storeResponseAt>ping_results</storeResponseAt>
                                                                                        <appendAction inherit="false" defaultValue=""/>
                                                                                        <appendSession inherit="false" defaultValue=""/>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                    <responseMap>project://di_ciena/response_maps/cfm_loop_show.ffrm</responseMap>
                                                                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                                                                </item>
                                                                                <item guid="dd405c09-ea17-49c8-a252-b77fb462521b" action="comment">
                                                                                    <command>
                                                                                        <body>Take a look at the stats and report as needed</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="0aaf4769-d466-481e-be63-76817ca6c6f3" action="command" session="$session">
                                                                                            <command>
                                                                                                <body>cfm service show service $active_service statistics</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="94f2dd80-5fce-4bbe-af76-596db76fde7a" action="comment">
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="b45ff141-a42b-4ed8-b33a-c39553712cb2" action="comment">
                                                                                    <command>
                                                                                        <body>Write the results</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="ad836ea3-5af9-4ef2-9bf3-abbbfef0e522" action="eval">
                                                                                            <command>
                                                                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="fc7301e8-4df3-4009-8f6e-19eec6819506" action="eval">
                                                                                            <command>
                                                                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="819ceab9-b22d-4981-bd86-d74f38981893" action="eval">
                                                                                            <command>
                                                                                                <body>set rate2 [expr $rate1 * 100]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="518c2dd2-099b-46af-94cf-07d325ffbf3c" action="eval">
                                                                                            <command>
                                                                                                <body>lappend status_list $rate2</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="5d5fcece-835d-42b9-8bfc-844f4a16b449" action="write">
                                                                                            <command>
                                                                                                <body>Loopback HOP Cnt: [get hop_cnt]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f3b1812a-7245-41fe-890e-3b6e68bae7be" action="write">
                                                                                            <command>
                                                                                                <body>Local MEP id: [get local_mep]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="79ab8e8c-ba9f-4956-8f12-f5f9dc120fdd" action="write">
                                                                                            <command>
                                                                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f41a0124-3f04-4762-a3d7-06d64bc9661f" action="write">
                                                                                            <command>
                                                                                                <body>Hop_$hop_cnt Success rate is $rate2 %</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="99a907e5-6bc6-4fa4-9316-583191279f77" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="4f828a04-6da9-4b58-ad80-d020fe166740" action="write">
                                                                                            <command>
                                                                                                <body>\\r</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="9270d9d1-847b-4877-8767-d03a01d572e8" action="comment">
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <eventHandlers>
                                                                        <item name="OnInterpreterError">
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>puts 0</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </item>
                                                                    </eventHandlers>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="db429744-5e0f-4054-9fcd-9ef398929f4c" action="else">
                                                            <nestedSteps>
                                                                <item guid="f4b124cc-0d93-434b-a59c-77ce7a9f337b" action="comment">
                                                                    <command>
                                                                        <body>Insert steps here for when the expression evaluates to false</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="4d56eee3-3d4c-4b40-9d68-d0d3eafccb9e" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f385e6c0-d37f-4549-8c6e-5155d9c370ba" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="65146ddc-13a8-4e3c-87fb-18f97166f539" action="comment">
                    <command>
                        <body>Write seperator if we are logging commands</body>
                    </command>
                    <nestedSteps>
                        <item guid="a9210682-3ca9-4d04-97ce-78778557ffc0" action="if">
                            <command>
                                <body>[get log_cmd]</body>
                            </command>
                            <nestedSteps>
                                <item guid="375a63c1-f82f-43a1-9092-751215399cf4" action="then">
                                    <nestedSteps>
                                        <item guid="611cff02-497f-4322-93f3-383b5f412966" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is true</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="aa518bd9-29b3-4eb3-9ffb-3755728a9c91" action="writeFile">
                                            <command>
                                                <body>[gget ${session}_file] $seperator</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3f489369-fe1f-4fad-9f25-de298b61d2e6" action="eval">
                    <command>
                        <body>puts [lsearch -all -not $status_list 100.0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6ccbff7-6648-4f80-b978-cd1c12170015" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2b238cc8-419d-41dd-aa9a-4d897d829a79" action="if">
                    <command>
                        <body>[lsearch -all -not $status_list 100.0] == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="57aead34-7bc0-495c-9f65-adcb88ed6614" action="then">
                            <command>
                                <body>All hop were sucessful</body>
                            </command>
                            <nestedSteps>
                                <item guid="cc1e1161-671c-4bb5-b045-cb07400c0a6f" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="37a7c32d-e28f-4c86-b967-34ceec9f48e7" action="write">
                                    <command>
                                        <body>Loopback HOP Overall STATUS: PASS</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ca372007-3b89-4eea-9dca-b411558aef30" action="else">
                            <nestedSteps>
                                <item guid="b46fb00c-c135-40c6-ac52-c457b10e9a94" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1b842b91-f805-4408-82ac-7f68c51ea020" action="write">
                                    <command>
                                        <body>Loopback HOP Overall STATUS: FAIL</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6325410c-e679-4eae-967e-541a56cd0f7d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="source_mep_id"/>
                <item name="destination_mep_id"/>
                <item name="count"/>
                <item name="ping_interval"/>
                <item name="priority"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
                <item name="l2cc">
                    <description>Switch utilized to process l2cc level 4 data</description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="ethernet_ping_mac_mep" isPublic="true">
            <steps>
                <item guid="1f1b7c93-1af1-49a7-9a79-dcce20c4b76c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="36694772-4514-4607-aff2-fbe8b3c52ad8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b3333784-b61d-48cc-b1b9-fbd379e0a513" action="comment">
                    <command>
                        <body>Seed the local variables: remote_mac_address</body>
                    </command>
                    <nestedSteps>
                        <item guid="ffd461ed-cfd5-4d3d-91b2-89b5c8b95de4" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ddbf0b2e-14fa-4443-bd50-801298ac2bbc" action="command" session="$session">
                            <command>
                                <body>cfm link send service $service_id local $source_mep_id mep $destination_mep_id</body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="2e277e47-cb9d-47df-92fc-7695dbc6287a" action="command" session="$session" skip="true">
                            <command>
                                <body>cfm link send service &quot;${md}$ma&quot; local $source_mep_id mep $destination_mep_id</body>
                            </command>
                            <postProcessing>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="bbb41795-dda3-480d-8d5a-26bcc4c789b8" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d6ddf47e-92b0-424a-a261-28e201552032" action="comment">
                            <command>
                                <body>$service_id</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3ee4acf3-b605-4449-a584-28c1a10e3cac" action="command" session="$session" skip="true">
                            <command>
                                <body>cfm link show service &quot;${md}$ma&quot; mepid $source_mep_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>target_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>mac_addr</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="f8a02d10-a11d-42b3-a067-5623c8f61533" action="command" session="$session">
                            <command>
                                <body>cfm link show service $service_id mepid $source_mep_id</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>target_mac_address()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>mac_addr</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseText>true</storeResponseText>
                                <appendSession inherit="false">true</appendSession>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseFilterList merge="true">
                                <item name="stripSepLine" patternType="REGEX" filterAction="EXC_LINES_MATCHING">
                                    <pattern>\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*\\+-*-\\+-*-\\+</pattern>
                                </item>
                            </responseFilterList>
                        </item>
                        <item guid="6a207b9d-a8e4-4f92-87da-c311ff9403ac" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="19c849e5-f71a-470f-8f13-4c4efc2a1300" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5ad155fe-1406-4a2d-b86c-e9801a424349" action="eval">
                    <command>
                        <body>set log_cmd [param test_case/cfm_log_cmd]</body>
                    </command>
                    <eventHandlers>
                        <item name="OnInterpreterError">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set log_cmd 0</statement>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="44bb11cc-a1b5-4757-9c39-7b14797327ed" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="49798f48-285d-452c-8855-9294efa14313" action="if">
                    <command>
                        <body>$log_report == 1 || $log_cmd == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="5415fe1e-6c33-4519-b9fe-859bd54562f9" action="then">
                            <nestedSteps>
                                <item guid="d5d3c606-93af-4b5d-b08e-639c3612d474" action="eval">
                                    <command>
                                        <body>set seperator &quot;================================================================================&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6347ba2f-8a33-4db7-9f49-a3ef59f9beec" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                    </command>
                                    <postProcessing>
                                        <appendTimestamp inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="4a84d622-40af-49f3-ab6a-6947cc9938db" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 5]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2ff516e1-17e7-4bb4-83b0-cef78ffb59de" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="22d879a6-4e6e-4b54-996d-65c8f5b37094" action="command" session="$session">
                                    <command>
                                        <body>cfm loop show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                        <appendAction inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                        <appendTimestamp inherit="false">false</appendTimestamp>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">[gget ${session}_file]</responseFile>
                                        <writePrompt inherit="false">false</writePrompt>
                                    </applicationProperties>
                                </item>
                                <item guid="57187357-48ee-4fe6-93a0-cf794d5e09f8" action="comment">
                                    <command>
                                        <body>Do the validation, log to file and write results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="aeb136ce-bc4d-4ff7-9dd5-e5f3576b9590" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="0f7ade42-7f2b-4ab8-817e-d9f4995f6366" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="bdc90e0b-4d57-406a-b63d-124901576273" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <postProcessing>
                                                <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="102bdcf9-196f-4899-bb85-94c497b2a83c" action="write">
                                            <command>
                                                <body>Local MEP id: [get source_mep_id]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="efb3fc17-f727-451b-b296-fa820a384887" action="write">
                                            <command>
                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b506df63-dfa9-426e-897e-0e9b83c026c9" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5ef24946-d06a-4457-8654-dccce19f3db2" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6e9dfd48-06ac-4640-9c11-63a4f3fb0730" action="writeFile">
                                    <command>
                                        <body>[gget ${session}_file] $seperator</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6c89d1af-f646-4dfb-aafb-40e38720935c" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="08513a60-197f-4cfc-8089-48afe63a76eb" action="else">
                            <nestedSteps>
                                <item guid="b0e662a0-215e-413f-b3d6-dd7c754cc94d" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="30a40bbd-7214-42c1-8595-9f7f63980b9a" action="command" session="$session">
                                    <command>
                                        <body>cfm loopback send-mac service $service_id local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="176d2a74-5825-4af5-be84-fca764dc3ee7" action="command" session="$session" skip="true">
                                    <command>
                                        <body>cfm loopback send-mac service &quot;${md}$ma&quot; local-mepid $source_mep_id mac $mac_addr count $count interval $ping_interval priority $priority</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="cd8d8904-c8ad-4a94-8f8b-6d5ac8fe2b10" action="eval">
                                    <command>
                                        <body>set delay [expr [expr [expr $count * $ping_interval] / 1000] + 10]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="d36442af-be12-4c83-bbec-cb65b14474e1" action="sleep">
                                    <command>
                                        <body>$delay</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c3e58112-f231-4d63-9c08-2f6506f66898" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm loopback show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                        <appendAction inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_loop_show.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="113a6eef-e4f8-4a1b-95ac-95982151e3bc" action="command" session="$session" skip="true" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>cfm loopback show service &quot;${md}$ma&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ping_results</storeResponseAt>
                                        <appendAction inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_loop_show.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="8905355a-1acd-4dbc-a6d8-ba903d10348c" action="comment">
                                    <command>
                                        <body>Take a look at the stats and valid/report as needed</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ce6f6da3-7614-4de6-bff0-8c01f963b51a" action="command" session="$session">
                                            <command>
                                                <body>cfm service show service $service_id statistics</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="1dad0199-cb91-41d1-a4f5-368561538f2a" action="command" session="$session" skip="true">
                                            <command>
                                                <body>cfm service show service &quot;${md}$ma&quot; statistics</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="847cd619-90c0-4428-b00a-ff53e5903a32" action="comment">
                                    <command>
                                        <body>Do the validation and write results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e1268f47-ee49-420b-99bc-194cc9d9e415" action="eval">
                                            <command>
                                                <body>set rate [expr $count - [expr [expr [query ping_results Io(1)] + [query ping_results Ooo(1)]] + [query ping_results Con(1)]]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="118df719-1a82-4689-b468-aa8d0388eeb3" action="eval">
                                            <command>
                                                <body>set rate1 [expr [format &quot;%0.2f&quot; [expr $count - $rate]] / [format &quot;%0.2f&quot; $count]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="8d2f109f-db64-4c52-8081-4bcc3dffde4c" action="eval">
                                            <command>
                                                <body>set rate2 [expr $rate1 * 100]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="f81c8082-a5da-4e32-a366-906108818bd9" action="write">
                                            <command>
                                                <body>Local MEP id: [get source_mep_id]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="927480ef-4d8a-4729-9eab-a7d359333210" action="write">
                                            <command>
                                                <body>Target Mac Address: [get mac_addr]\\r</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="64dde680-5e2c-4c1c-b097-db121b123d24" action="write">
                                            <command>
                                                <body>Success rate is $rate2 %</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3143b55e-0ec3-46b1-ba88-462b6effad54" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="611b1102-44ac-4314-bcac-4c957de6af0a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id"/>
                <item name="md"/>
                <item name="ma"/>
                <item name="source_mep_id"/>
                <item name="destination_mep_id"/>
                <item name="count"/>
                <item name="ping_interval"/>
                <item name="priority"/>
                <item name="log_report">
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="get_active_port_throughput" isPublic="true">
            <steps>
                <item guid="d1bf6a52-4582-4349-b138-74d026c9fd55" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show throughput active</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">tx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_tx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">rx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_rx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>port_show_status</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="eb40c978-4056-41e7-a9d4-ceec86322aae" action="sleep">
                    <command>
                        <body>2</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a5a07428-46b9-4da5-bbd2-47861432c61b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show throughput active</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">tx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_tx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">rx_bit_rate_by_port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_througput_bps_rx</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>port_show_status</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="cf4e1d8d-83d3-457a-93ef-da8124f80add" action="write">
                    <command>
                        <body>port_througput_bps_tx=$port_througput_bps_tx \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="92dec03e-c61b-46e4-913d-196394142152" action="write">
                    <command>
                        <body>port_througput_bps_rx=$port_througput_bps_rx \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4fa4d4da-3933-4977-82f5-9d59eefc36d4" action="comment">
                    <command>
                        <body>Done</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_agg_links" isPublic="true">
            <steps>
                <item guid="12db510b-d529-43d3-ac84-c0553a680212" action="command" session="$session">
                    <command>
                        <body>aggregation show agg $agg</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>agg_links</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="793e072b-e8ae-4e6d-93b0-79a0a16f8c03" action="eval">
                    <command>
                        <body>set lag_interfaces [query agg_links lag_interfaces()]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c8e8c8c3-125f-4e6b-8b10-ef46d3dfc15a" action="write">
                    <command>
                        <body>$lag_interfaces \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="df808c34-23d0-4f8a-8521-d091f9688974" action="comment">
                    <command>
                        <body>Done</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="agg">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="getCBS" isPublic="true">
            <steps>
                <item guid="d25e51d8-2bb2-4f6d-bcf5-2a17dd2eb242" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fe4ac516-b50f-46ef-b156-35bd73607f5b" action="readFile" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>project://di_ciena/library/jumpTable.csv</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">cbs_by_nt_and_range($NT,$CIR)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>CBS</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                    <responseMap>project://di_ciena/response_maps/jump_table.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3764e6d6-7bb5-4648-8e77-f9a8ae3c99d4" action="return">
                    <command>
                        <body>$CBS</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="NT">
                    <description>This is the type of Ciena device i.e. 3930, 3931, 3960, 3911 etc.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="CIR">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_mac" isPublic="true">
            <description>Return the port MAC</description>
            <steps>
                <item guid="7ff19c35-f157-46b5-8592-e2005912831d" action="command" session="$session" normalOffset="2.676" estimatedStepExecutionTime="0.23">
                    <command>
                        <body>port show port $port_no</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>MAC_Address()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>MAC</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="21b05c28-9064-4c38-8f70-571ee79c3e71" action="eval">
                    <command>
                        <body>puts $MAC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7b05bc34-69bb-4cfd-b12e-8c90d1a0693e" action="write">
                    <command>
                        <body>$MAC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Use &apos;port show port port#&apos; to display the MAC, then return the value</multilineDescription>
            <arguments>
                <item name="port_no">
                    <description>Port number for which to show the mac</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_port_base_mac" isPublic="true">
            <steps>
                <item guid="77142933-d9e9-4067-a3a9-f9fabe67b006" action="command" session="$session" normalOffset="2.676" estimatedStepExecutionTime="0.23" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>chassis show mac</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Port_Base_mac()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_mac</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.202" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                    <responseMap>project://di_ciena/response_maps/chassis_show_mac.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="cb87ef1a-3283-4175-8e6f-fc7e7c80599d" action="eval">
                    <command>
                        <body>puts $port_mac</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9688a7dc-3e74-4c63-ac57-00680d38211f" action="write">
                    <command>
                        <body>$port_mac</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="get_neighbor_interface" isPublic="true">
            <steps>
                <item guid="c291b3d7-de6b-4aa8-9322-52eb703a64bb" action="eval">
                    <command>
                        <body>set remote_port NULL</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1f427065-b943-4d82-8223-56db7e634f6c" action="command" session="$session">
                    <command>
                        <body>lldp show neighbors</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Remote_Port_by_Local_Port(&quot;$port&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>remote_port</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnNoMatchesFoundToStore">
                            <item actionId="Eval">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                    <statement>set </statement>
                                </actionProperties>
                            </item>
                        </item>
                        <item name="OnNoMatchesFound">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                    <message>No matches found for {type}: {info}</message>
                                </actionProperties>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/lldp_show_neighbors.ffrm</responseMap>
                </item>
                <item guid="af65b021-5ccc-4706-b2d4-916946b08c84" action="eval">
                    <command>
                        <body>puts $remote_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="499e65f1-169c-4cdb-b822-b3c561982b2c" action="write">
                    <command>
                        <body>$remote_port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="get_interface_port_link_state" isPublic="true">
            <steps>
                <item guid="ca954a07-50f2-4f53-b85e-deb8c159d438" action="command" session="$session">
                    <command>
                        <body>port show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">operational_link_by_port_name(&apos;$port&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>state</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="097371d4-8508-48e6-ab50-931b76128424" action="return">
                    <command>
                        <body>$state</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="get_interface_mac" isPublic="true" isVBlock="true">
            <description>Return the Hardware MAC associated with the interface argument</description>
            <steps>
                <item guid="c5e7aa33-09a2-47c4-ab4d-0cf17c2a331b" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="174887d4-8f13-4e8a-9262-e307b6d7deca" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show port $interface</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>MAC_Address()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>[return hardware_mac]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_port.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <multilineDescription>Return the hardware address from &apos;show interface &lt;interface&gt;</multilineDescription>
            <arguments>
                <item name="interface">
                    <description>Get the mac associated with this interface and return</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;hardware_mac&quot;:&quot;value&quot;}</response>
        </item>
        <item name="get_peer_mac" isPublic="true" isVBlock="true">
            <description>Return the MAC associated with the interface argument</description>
            <steps>
                <item guid="4bc2eac7-2337-42e6-96f0-2d7119592c5d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ef3a8b56-3953-4664-866a-97ce2093bc74" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>eoam show port $interface</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>oam_peer_port_info_peer_mac_address_by_oper_state(&quot;Active&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>[return peer_neighbor_mac]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/eoam_show_port.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="398972ce-6ac4-4fa0-86c7-d1c5e8125fd3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Show the given interface configuration and return the associated MAC</multilineDescription>
            <arguments>
                <item name="interface">
                    <description>Get the mac associated with this interface and return</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;peer_neighbor_mac&quot;:&quot;value&quot;}</response>
        </item>
        <item name="get_port_speed" isPublic="true" isVBlock="true">
            <description>Use &quot;port show port&quot; to retrieve the port speed and speed units</description>
            <steps>
                <item guid="34c89b75-ddbe-4597-aade-6eb3ac7dcc60" action="comment">
                    <command>
                        <body>AAF - Mike</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4eeee15e-a6d0-49d5-a249-a69364a3ace4" action="command" session="$session">
                    <command>
                        <body>port show</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="f405e884-e3b3-4ffc-916f-748e627afc57" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>Speed()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query> [return speed]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>admin_units()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query> [return units]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_port.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="06a15fb1-c6ff-4a77-ac89-d52c81056fb4" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Use &quot;port show port &lt;port number&gt;&quot; to retrieve the </multilineDescription>
            <arguments>
                <item name="port">
                    <description>Get the configured port speed for this port</description>
                    <defaultValue>1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;speed&quot;:&quot;value&quot;,&quot;units&quot;:&quot;value&quot;}</response>
        </item>
        <item name="get_port_stats" isPublic="true">
            <steps>
                <item guid="c93c0797-2ac9-444a-8e32-b5d33354c3bd" action="comment">
                    <command>
                        <body>Mike - Added the store of parameter() and value()</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d65e0713-f9b7-4913-9b98-dbd67a8feb29" action="command" session="$session">
                    <command>
                        <body>port show port $port statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;RxPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_rx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;TxPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_tx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;RxUcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;TxUcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;RxMcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_by_parameter(&quot;TxMcastPkts&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_rx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_tx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>parameter()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>paramData</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>value_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>valueData</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="4122e430-59d9-4135-9297-bcf86bee2642" action="comment">
                    <command>
                        <body>Write the captured data out</body>
                    </command>
                    <nestedSteps>
                        <item guid="796f1910-1e17-4ad9-ac4a-85f358f73d06" action="write">
                            <command>
                                <body>port_TX = $nte_tx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="34ba6196-abe1-4fd4-b507-8658323c2163" action="write">
                            <command>
                                <body>port_RX = $nte_rx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="54e87507-b42e-4977-aeea-051075dc851c" action="write">
                            <command>
                                <body>port_UniTX = $tx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="df5ce768-f744-4a78-b0f0-e047fe824de9" action="write">
                            <command>
                                <body>port_UniRX = $rx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6b715e6f-c7d8-452c-a1cd-a9d9d7c6d2e1" action="write">
                            <command>
                                <body>port_MultiTX = $tx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="004d8abc-4e9a-4f3d-b0dd-8fdc2b7f7934" action="write">
                            <command>
                                <body>port_MultiRX = $rx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2007ad10-c96c-4490-867e-b08af808e5da" action="write">
                            <command>
                                <body>port_GrnDrop = NA \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="86427104-3487-44b5-a8d2-32a2da94f42c" action="comment">
                    <command>
                        <body>Mike - store collected data to a list containing session paramData valueData</body>
                    </command>
                    <nestedSteps>
                        <item guid="d61c6a9f-30dd-41d0-8b26-6e933dc9abb6" action="eval">
                            <command>
                                <body>puts $session</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e5a45b0b-e821-4ceb-89d8-3de27421ccce" action="eval">
                            <command>
                                <body>puts $paramData</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1fc6190b-657e-42a3-8bcb-0085d8d34236" action="eval">
                            <command>
                                <body>puts $valueData</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3ecf9fad-316c-4758-afe4-16ca7e1ef5a1" action="comment">
                            <command>
                                <body>Mike - need source Tcl routine to process this stuff</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="84bab8a3-6547-44f3-b16e-2fd07df83fcc" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="bc6d82df-b1cd-48a8-8ea8-129072ac69f5" action="comment">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c45d324d-ff10-4c8d-a10a-52f9ce4b473a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_port_vlan_info" isPublic="true">
            <description>Get definded port admin VLAN data</description>
            <steps>
                <item guid="8551c9b5-a0a2-437c-9e8f-30dfa979bb7d" action="comment">
                    <command>
                        <body>AAF - Mike</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="236613be-369b-4e02-aa90-24c83c3f434f" action="eval">
                    <command>
                        <body>set instance_present 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="20623e41-f4f3-4af0-afea-189dcc52f69a" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show port $port vlan</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Admin_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>admin_vlan_list</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_port_Number_vlan.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="1dcf6f6b-5484-47ee-b051-9dfedcf4de36" action="return">
                    <command>
                        <body>[split $admin_vlan_list ,]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ff572ef8-0632-49cc-8e51-3dcf040f8b49" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <multilineDescription>Will be utilized with the Multihome process. An
d is called after the standard service process has been performed.</multilineDescription>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="get_queue_stats" isPublic="true">
            <description>Get the queue stats and assign to global array</description>
            <steps>
                <item guid="b890850e-7987-4d32-a63b-cdc71987065c" action="comment">
                    <command>
                        <body>Display the queue stats for this port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="27800224-ec5e-497d-ae0f-6bf8b872c387" action="command" session="$session">
                    <command>
                        <body>traffic-services queuing egress-port-queue-group show port $port statistics</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>queue_pkts</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="ac58d7d1-768a-43b9-9f72-c18c5ac93674" action="comment">
                    <command>
                        <body>Assign the queue transmitted pkts to the global variable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3d8cc318-aad3-4d04-a0c9-bc8c365f1912" action="for">
                    <command>
                        <body>{set i 0} {$i &lt;= 7} {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="850c2b1c-94a6-47bd-b0d7-79c78a977e6a" action="eval">
                            <command>
                                <body>puts &quot;Q$i::  [query queue_pkts Transmitted_Pkts_by_Q_ID(&apos;$i&apos;)]&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="eb033ce0-1e30-45e3-af64-6147058812ac" action="eval">
                            <command>
                                <body>gset NTE_Q($nte_key,$i) [query queue_pkts Transmitted_Pkts_by_Q_ID(&apos;$i&apos;)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b4731ed7-0b54-47e9-b45f-435351f4a537" action="comment">
                    <command>
                        <body>For debug - print the array contents</body>
                    </command>
                    <nestedSteps>
                        <item guid="e77d7bda-03fd-482e-bcc8-42aacdefcfa9" action="eval">
                            <command>
                                <body>parray -g  NTE_Q</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c1a216ed-700c-417c-ad14-c492fbd517fc" action="comment">
                    <command>
                        <body>Done</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Gets results of &quot;traffic-services queuing egress-port-queue-group show port $port statistics&quot;
Assigns stats to global array NTE_Q(nte_key,queue_num)</multilineDescription>
            <arguments>
                <item name="port">
                    <description>The port to show the queue stats</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nte_key">
                    <description>The identifier to use in referencing the stat</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_rx_rate_on_port" isPublic="true">
            <steps>
                <item guid="6e742395-db0b-4645-80a1-b28b469bb994" action="comment">
                    <command>
                        <body>This procedure returns average rate in Mb/s on the rx passed as argument.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="51161bf7-4e06-4c63-a78b-df6872a07e7c" action="comment">
                    <command>
                        <body>It tries 5 times to get the output and takes an average and returns it.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f826ba0b-722a-4850-83c7-d8430cdc41b6" action="eval">
                    <command>
                        <body>set total  0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0c94377a-069b-464a-ae8d-a40a99efa3c8" action="eval">
                    <command>
                        <body>set repeat 5</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3ec15484-17ec-4198-a772-0f4e7e571cbe" action="for">
                    <command>
                        <body>{set i 0} {$i &lt; $repeat } {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="19eaaa15-798b-4c7a-b74b-0f3a72f37e8b" action="comment">
                            <command>
                                <body>Repeat this command for up to 3 times and get an average</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6b14b7ed-6136-4b32-b556-69bee5478588" action="command" session="$session" useResponseMapLibraryApplicability="false" useAutoMap="false">
                            <command>
                                <body>port show throughput act</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_activity</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                        <item guid="1ea319f7-f1dd-4e03-8fd4-f4c6cc4b3db7" action="eval">
                            <command>
                                <body>set value  [query port_activity rx_bit_rate_by_port($myport)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="51063eea-bd42-4b7c-8f2c-feabb7d8d984" action="comment">
                            <command>
                                <body>remove the character &quot;*&quot; in the value if present.</body>
                            </command>
                            <nestedSteps>
                                <item guid="77c892e1-4189-4fa4-83c6-a813c83c5b27" action="eval">
                                    <command>
                                        <body>set value  [regsub {\\*} $value  &quot;&quot;]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4e76a27f-e75d-4b7e-8f71-d4cd5e57363d" action="if">
                            <command>
                                <body>[string length $value ] == 0 </body>
                            </command>
                            <nestedSteps>
                                <item guid="d324d8a2-a0e8-437a-b731-1ea8f36de868" action="then">
                                    <nestedSteps>
                                        <item guid="401df307-957c-4af9-ba10-71be44986528" action="comment">
                                            <command>
                                                <body>empty string</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="8eeb08a4-957a-4ab2-8a0b-7ee901c3b035" action="else">
                                    <nestedSteps>
                                        <item guid="685cd6d2-e2ff-4458-86f1-1be1f00fa855" action="comment">
                                            <command>
                                                <body>Now you can add the value.</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="5dc450e8-921e-48c2-8c0e-3818e7313a3d" action="eval">
                                            <command>
                                                <body>set total [ expr $total + $value]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c24fbf5b-b46a-4669-9a2e-b1722fc6db60" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9b89ecaa-c554-49f8-a718-ce0d48d97ac0" action="eval">
                    <command>
                        <body>set average [ expr $total/$repeat]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6a2ed602-2ca4-482f-bf52-9eb2e727f43e" action="return">
                    <command>
                        <body>$average</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="session">
                    <description>This is the seesion</description>
                </item>
                <item name="myport">
                    <description>Port on which the rx rate is requested - Rate is Mb/s.</description>
                </item>
            </arguments>
        </item>
        <item name="get_traffic_profiling_stats" isPublic="true">
            <steps>
                <item guid="1a79bdf3-f882-4eb6-bfd0-8d6b5c7ec1b8" action="comment">
                    <command>
                        <body>df: added concat &quot;&quot; to packet queries to account for responses with only byte counts</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e6bbf776-5b32-48a7-aae2-53da42ae367d" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile show statistics port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>concat(packets_accepted(), &quot;&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>acceptedPackets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>concat(packets_dropped(), &quot;&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>droppedPackets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>profile_name()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>profileName</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>bytes_accepted()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>acceptedBytes</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>bytes_dropped()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>droppedBytes</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Accepted_by_Port_and_ProfileName($port, &quot;$profile_name&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>accepted</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Dropped_by_Port_and_ProfileName($port, &quot;$profile_name&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>dropped</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                        </analysisRules>
                        <storeResponseAt>traffic_profile</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="3ce50095-a6b5-4d1e-bfc0-6afa5c618366" action="comment">
                            <command>
                                <body>df: add logic to replace missing packet counts with &quot;NA&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="473bfd05-034f-4947-995e-8c66855c89fb" action="if">
                            <command>
                                <body>$acceptedPackets==&quot;&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="c390defc-768c-4020-9963-711236e6e37e" action="then">
                                    <nestedSteps>
                                        <item guid="19bf4d04-d172-4a31-b570-f1ff4e21b3cc" action="eval">
                                            <command>
                                                <body>concat $acceptedPackets &quot;NA&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="bf22da76-7d8a-4d3f-a179-2c3da2ede089" action="else">
                                    <nestedSteps>
                                        <item guid="6c9cc161-1b85-47f2-9ef4-0a7f5a26b6b1" action="comment">
                                            <command>
                                                <body>nothing to do, packet count exists</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="d3f42f64-fc94-47e2-b64c-9459c787699c" action="if">
                            <command>
                                <body>$droppedPackets==&quot;&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="ce78777e-ceda-4119-bfd2-4be76187261b" action="then">
                                    <nestedSteps>
                                        <item guid="574e121e-1790-41d8-bba6-1e134e941911" action="eval">
                                            <command>
                                                <body>concat $droppedPackets &quot;NA&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c8e61fad-d586-4146-8cba-1de3eb659dea" action="else">
                                    <nestedSteps>
                                        <item guid="734aed58-95d7-47d3-9155-ef5eb58536d8" action="comment">
                                            <command>
                                                <body>nothing to do, packet count exists</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d427720c-14f5-4611-820a-9c8dc7bfccfc" action="write">
                    <command>
                        <body>ingress_GrnTotal = $acceptedPackets \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9a8b8cf8-7260-4722-a725-6f2ea377c408" action="write">
                    <command>
                        <body>ingress_Red = $droppedPackets \\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="profile_name">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_tx_rx_stats" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="63f3fd5a-d960-482c-8c7b-5ccb53c83e06" action="command" session="$session">
                    <command>
                        <body>port show port $port statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_rx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_tx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="bf9c16ab-77d2-42bc-9749-331aa9440595" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile show statistics port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>packets_accepted()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>accepted</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>packets_dropped()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>dropped</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Accepted_by_Port_and_ProfileName($port, &quot;$profile_name&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>accepted</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Dropped_by_Port_and_ProfileName($port, &quot;$profile_name&quot;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>dropped</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                        </analysisRules>
                        <storeResponseAt>traffic_profiling</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <morePaging>
                            <numPagesToFetch inherit="false">500</numPagesToFetch>
                            <removeMoreLine inherit="false" defaultValue=""/>
                        </morePaging>
                    </applicationProperties>
                </item>
                <item guid="4fd2b425-7dcd-4e6a-a0d5-f054cf5b711a" action="comment">
                    <command>
                        <body>Write the stats to the output of the QC</body>
                    </command>
                    <nestedSteps>
                        <item guid="67d0d81a-5cf9-48ee-890e-ba142bdbadef" action="write">
                            <command>
                                <body>nte_tx_frames = $nte_tx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f07e11b2-4c8c-4d7d-b6ac-33593d9d2f7d" action="write">
                            <command>
                                <body>nte_rx_frames = $nte_rx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="341a1c50-53a8-4e32-b47b-796b8fb87fc3" action="write">
                            <command>
                                <body>tx_unicast = $tx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c9d4c511-7649-42b2-9ff0-f535f4eb421b" action="write">
                            <command>
                                <body>rx_unicast = $rx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ed8f4198-65c6-4676-be79-80b9610f9b07" action="write">
                            <command>
                                <body>tx_multicast = $tx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e8ce3f26-d5ef-42bc-bf0f-395139559657" action="write">
                            <command>
                                <body>rx_multicast = $rx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="86e8117b-7cd8-41a5-bcfe-c522ea342437" action="write">
                            <command>
                                <body>ingress_green_drop = NA \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7ad18b42-e667-46f1-bf78-d5e95925dc2e" action="write">
                            <command>
                                <body>ingress_green_total = $accepted \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a3489769-5913-4942-9f72-8d9beb24ebd5" action="write">
                            <command>
                                <body>ingress_red_frames = $dropped \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="profile_name"/>
            </arguments>
        </item>
        <item name="get_tx_rx_stats_new" isPublic="true" defaultSessionProfile="ciena_ref_telnet.ffsp">
            <steps>
                <item guid="15ffee78-76ed-4df8-b630-70cad19c8f37" action="command" session="$session">
                    <command>
                        <body>port show port $port statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_rx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>nte_tx_frames</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_ucast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_unicast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>tx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rx_mcast_pkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_mcast</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="93efd9d1-5a06-4bd2-a90a-19f8744c58ce" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile show statistics port $port</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">sum(//PacketsAccepted)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>accepted</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">sum(//PacketsDropped)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>dropped</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>traffic_profiling</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <morePaging>
                            <numPagesToFetch inherit="false">500</numPagesToFetch>
                            <removeMoreLine inherit="false" defaultValue=""/>
                        </morePaging>
                    </applicationProperties>
                </item>
                <item guid="9777b16c-ff9e-4145-a4e8-d09fefa58031" action="eval" skip="true">
                    <command>
                        <body>set accepted 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9ae93ba6-be5d-4f8d-9dc4-36d49a2b25da" action="eval" skip="true">
                    <command>
                        <body>set dropped 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f0302492-2cca-4126-8545-b3e86fceebe3" action="foreach" skip="true">
                    <command>
                        <body>accepted_counter $accepted_list dropped_counter $dropped_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="e98f30b4-ee8c-40b5-a659-2ef6cc7dbd80" action="comment" skip="true">
                            <command>
                                <body>Insert steps here to be executed on each loop</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="2222195d-e29b-49bb-b507-135a1d5da3b4" action="eval" skip="true">
                            <command>
                                <body>set accepted [incr accepted $accepted_counter]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="37c569f6-8143-473e-b477-cd3ab7f1a0da" action="eval" skip="true">
                            <command>
                                <body>set dropped [incr dropped $dropped_counter]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="38d92432-4856-4cec-9c79-480839016dc1" action="comment">
                    <command>
                        <body>Write the stats to the output of the QC</body>
                    </command>
                    <nestedSteps>
                        <item guid="431988bc-3e8d-489c-83cf-ce594d91cb04" action="write">
                            <command>
                                <body>nte_tx_frames = $nte_tx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8f96eb45-f323-4716-b572-1d790d710a01" action="write">
                            <command>
                                <body>nte_rx_frames = $nte_rx_frames \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9b0f7a47-323a-4576-95d0-67d670291cf4" action="write">
                            <command>
                                <body>tx_unicast = $tx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cadae333-0d6a-401a-be30-681fc110a43d" action="write">
                            <command>
                                <body>rx_unicast = $rx_unicast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1d46d498-261b-4117-9f9a-b3942316bb54" action="write">
                            <command>
                                <body>tx_multicast = $tx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="49ce2d5d-150a-46e4-86b0-72020a29f520" action="write">
                            <command>
                                <body>rx_multicast = $rx_mcast \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f14c905a-3cd7-4686-ac39-2246ec359057" action="write">
                            <command>
                                <body>ingress_green_drop = NA \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c03708bc-6910-49c1-bf64-75c1072ee2a4" action="write">
                            <command>
                                <body>ingress_green_total = $accepted \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6c7eb48b-222e-474f-a03c-5774082a97d6" action="write">
                            <command>
                                <body>ingress_red_frames = $dropped \\r\\n</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="profile_name"/>
            </arguments>
        </item>
        <item name="get_version" isPublic="true">
            <steps>
                <item guid="9b68cf9e-2f13-4535-bcc4-d54c9984b486" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="56495aef-8dd0-449b-a09f-070f6b44996e" action="comment">
                    <command>
                        <body>* Procedure to return the nte hostname and software version.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fd6df009-fdde-424f-919a-13d9d003cc5c" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b78e5a12-2597-4798-81a9-c0c2d9525354" action="command" session="$session">
                    <command>
                        <body>system show host-name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\| Oper \\|\\s+(\\S+)\\s+\\|$</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>host_name</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="e06594ff-c899-4fe9-ab9e-726140406d21" action="command" session="$session">
                    <command>
                        <body>software show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>installed_package()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>version</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/so_show_saos.ffrm</responseMap>
                </item>
                <item guid="06ba7f4a-f99a-43ac-8cb8-47d3648945f8" action="write">
                    <command>
                        <body>${host_name}: $version</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="login" isPublic="true" isVBlock="true">
            <steps>
                <item guid="f76b89f8-6392-4df9-b0e7-76c1ba93106e" action="comment">
                    <command>
                        <body>This is the login procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="925ccc02-08ad-4246-ba8d-94b8887c021e" action="comment">
                    <command>
                        <body>This procedure determines if the open is for the TACACS server (BRIDGETON_NOC). </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c8fde238-fd74-4086-aa73-bce01003f642" action="comment">
                    <command>
                        <body>If so it logs in and then telnet&apos;s to the device. If not, the login is to the device directly.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="04e3735e-bb35-4dda-9c56-04d12b17a315" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="6b5c9b89-10e6-4299-a2a8-df2ee3fee64b" action="eval">
                            <command>
                                <body>puts &quot;$ip $userid $password&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a598d280-2625-4ae9-892e-a415bd650648" action="eval">
                    <command>
                        <body>set continue_login 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="80f955b4-b593-4cab-b6b8-bac94b8e2a51" action="command" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;*&gt; &quot; $value]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>prompt()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq &quot;BRIDGETON NOC:&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message> Hit BRIDGETON_NOC</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>noc_login</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>device_login -session $session -userid $userid -password $password</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>promptName</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;login&quot; || $value == &quot;username&quot; || $value == &quot;Username&quot; </expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set continue_login 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message> Did not receive login prompt. Prompt: $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set continue_login 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5e6d41c1-d30b-4d44-8163-4b55e86eee3e" action="if">
                    <command>
                        <body>$continue_login</body>
                    </command>
                    <nestedSteps>
                        <item guid="b948ca4a-747a-4090-ba6a-aabf5ca2834f" action="then">
                            <nestedSteps>
                                <item guid="f3c3f375-93ae-46f3-8113-2aeeb5857a76" action="comment">
                                    <command>
                                        <body>Continue the login - send credentials and return the prompt</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6dfc651e-b2fb-473f-8183-222ef5405919" action="call">
                                    <command>
                                        <body>send_login -session $session -userid $userid -password $password</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/promptname</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>[return promptname]</query>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c661b509-b8da-4eb6-917a-6a694f93515a" action="else">
                            <nestedSteps>
                                <item guid="9c143d32-2841-47b8-ae67-889143076243" action="eval">
                                    <command>
                                        <body>puts &quot;Login Failed&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^Login Failed$</regex>
                                                        <extractionGroupIndex>0</extractionGroupIndex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>var1</storageLocation>
                                                        <query>[return promptname]</query>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Check the prompt to determine if login is through a hop-off server (Bridgeton NOC).
A block procedure which returns the promptname.
Then call appropriate login procedure, send_login(),  noc_login()
Checks the prompt for success, or other.
Other prompts include username: or Username</multilineDescription>
            <arguments>
                <item name="userid">
                    <description>User name for login</description>
                    <defaultValue>[param device/userid]</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <description>User password for login</description>
                    <defaultValue>[param device/password]</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ip">
                    <description>If logging in through the NOC then the IP of the destination is required</description>
                </item>
            </arguments>
            <response>{&quot;promptname&quot;:&quot;value&quot;}</response>
        </item>
        <item name="manage_multihome_nni2_vlans" isPublic="true">
            <description>Manage VLANS based on stage. configure for AAF testing  or restore post AAF testing</description>
            <steps>
                <item guid="2db46394-85a2-4ca1-8f86-70836de4176a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1c853b2e-1818-4c01-8616-0ba89938570d" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b7064fb1-4d4f-4734-a713-a7e7370dc7ef" action="if">
                    <command>
                        <body>[string match -nocase ${stage} &quot;setup&quot;]</body>
                    </command>
                    <nestedSteps>
                        <item guid="e88e176a-1b0b-490e-a44f-f5fac3158c55" action="then">
                            <nestedSteps>
                                <item guid="66dc4f49-159e-4a64-8e81-2f61bf59dcac" action="eval">
                                    <command>
                                        <body>set vlan_list [concat $svlan 127 4092]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ed3c2300-e62c-4fe8-aede-f4161d040cc3" action="eval">
                                    <command>
                                        <body>set vlan_list ${svlan},127,4092</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b55e11f0-de0c-4a37-9e47-9fa02bea69c4" action="command" session="$session">
                                    <command>
                                        <body>vlan add vlan ${vlan_list} port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="e799ecdb-1dce-41c3-99f9-55e4085ca1f9" action="command" session="$session">
                                    <command>
                                        <body>vlan remove vlan 1 port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="fc6eba9c-a1bc-4783-872f-879ae495c196" action="command" session="$session">
                                    <command>
                                        <body>configuration save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="715f9a87-47bd-4c8e-b658-d8b0fdca6ac8" action="elseif">
                            <command>
                                <body>[string match -nocase ${stage} &quot;restore&quot;]</body>
                            </command>
                            <nestedSteps>
                                <item guid="a3c5e09d-fe00-448d-820d-6849052a4579" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="69028296-2010-40b6-a389-b62875d82e20" action="eval">
                                    <command>
                                        <body>set vlan_list [concat $svlan 127 4092]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="915ea776-9cff-4a20-b45c-23c658529728" action="eval">
                                    <command>
                                        <body>set vlan_list ${svlan},127,4092</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3de8c683-bcb8-45c5-b2fa-6f6b86ce8f20" action="command" session="$session">
                                    <command>
                                        <body>vlan add vlan 1 port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="3c7dbc88-b423-432e-8007-3eb5496b2037" action="command" session="$session">
                                    <command>
                                        <body>vlan remove vlan ${vlan_list} port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="c36ba866-4136-45be-bd1d-7a57f4faa186" action="command" session="$session">
                                    <command>
                                        <body>configuration save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1a89f80e-3888-4781-9e9d-2a04b7b16b8b" action="else">
                            <nestedSteps>
                                <item guid="5a7e70bf-bc26-4c6e-a88e-7c27667d95fc" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d9932f91-ba9d-405e-b57d-d1c38b06ae8b" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="svlan"/>
                <item name="stage">
                    <description>Valid values: setup or restore</description>
                </item>
            </arguments>
        </item>
        <item name="multihome_nni_vlans" isPublic="true">
            <description>Add/Remove vlans 127 and 4092. Remove/Add  vlan 1 on defined port based on stage arguement</description>
            <steps>
                <item guid="1283d705-cd36-4310-a6b0-c26c987e5591" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e002bd39-6612-4fe3-a0c1-75452c987e16" action="eval">
                    <command>
                        <body>set vlan_list [join [list 127 4092] ,]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6c35dbab-d617-40e8-9f41-a588bd8a1123" action="if">
                    <command>
                        <body>[string length ${svlan}] &gt; 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="d21b3e9c-4e52-4037-b66f-750c243a839d" action="then">
                            <nestedSteps>
                                <item guid="b03f4f32-9c58-4ddf-827c-8268fa20d764" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is true</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f04fe4aa-cc33-4695-93ad-cc165ee7c8b2" action="eval">
                                    <command>
                                        <body>set vlan_list [join [list $svlan 127 4092] ,]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3ccedd99-4aa3-4dbc-940b-cd7416b750f8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="61824626-6ec1-40a0-bda6-077bd643acb7" action="if">
                    <command>
                        <body>[string match -nocase ${stage} &quot;setup&quot;]</body>
                    </command>
                    <nestedSteps>
                        <item guid="382cdd41-dcc3-4fed-a893-636975c8f833" action="then">
                            <nestedSteps>
                                <item guid="d34a8f2a-3033-4cd0-b3d4-e07b53475b6e" action="command" session="$session">
                                    <command>
                                        <body>vlan add vlan ${vlan_list} port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="6f680838-cae5-43cc-b714-8e4922f6e574" action="command" session="$session">
                                    <command>
                                        <body>vlan remove vlan 1 port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="ced0a02a-5350-495a-973e-294a7c4c8d43" action="command" session="$session">
                                    <command>
                                        <body>configuration save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="72e9686b-974e-46f4-8daf-baa1e9afa430" action="elseif">
                            <command>
                                <body>[string match -nocase ${stage} &quot;restore&quot;]</body>
                            </command>
                            <nestedSteps>
                                <item guid="81b386ea-7840-499f-8ad5-f97ede27c35c" action="command" session="$session">
                                    <command>
                                        <body>vlan add vlan 1 port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="db6c638f-7722-4ede-97e2-e8b6fc8b7711" action="command" session="$session">
                                    <command>
                                        <body>vlan remove vlan ${vlan_list} port $port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="6f09e047-6b27-48bc-8887-4f3f7152af51" action="command" session="$session">
                                    <command>
                                        <body>configuration save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ae2e0b03-382a-4e9c-83b2-94b8552697ea" action="else">
                            <nestedSteps>
                                <item guid="40d5e0e3-cd9c-474a-8545-90fcd702ba49" action="comment">
                                    <command>
                                        <body>Alert Invalid stage</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Warning">
                                                        <message> Invalid stage: ${stage}! No action taken; multihome_nni_vlans</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f5112ee4-1331-46e0-8179-9edef428198e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <arguments>
                <item name="port"/>
                <item name="stage">
                    <description>Valid values: setup or restore</description>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="noc_login">
            <description>Bridgeton NOC login</description>
            <steps>
                <item guid="959b2b54-2da1-473c-9463-303a7ea60eaf" action="comment">
                    <command>
                        <body>Login to the bridgeton NOC. These credentials are taken from the global parameter file in each user&apos;s project.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="98d2878f-e84c-402f-8436-6c5f8fa358ef" action="comment">
                    <command>
                        <body>This is a local procedure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="524ce229-1de5-4820-ad3a-b1d84bcc0d8a" action="command" session="$session">
                    <command>
                        <body>send_login -userid $userid -password  $password</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5de2c667-5001-4242-85ce-4a08fb78f5a2" action="command" session="$session">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="port_show_ethernet-config" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="a441de1c-4ec6-46d0-828b-96bbdb6b7627" action="comment">
                    <command>
                        <body>port show ethernet-config</body>
                    </command>
                    <nestedSteps>
                        <item guid="76b195f7-59c7-4480-b18d-1f5eaacd14ca" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>port show ethernet-config</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_show_output</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>$nni_port does not exist on $session</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show1.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="port_show_port" isPublic="true">
            <steps>
                <item guid="b9862417-9726-465e-99b6-385f782842c8" action="if">
                    <command>
                        <body>![string length $results_uri]</body>
                    </command>
                    <nestedSteps>
                        <item guid="ac4868a9-97f6-4ca4-8384-a4a76f2046b2" action="then">
                            <nestedSteps>
                                <item guid="89d9274a-3abd-402c-b487-7fea25399007" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>port show port $port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>admin_by_field(&quot;MAC Address&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nte_mac_address</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/ciena_port_show_port.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8bb255bc-04b7-4e27-b814-8cae62b9c952" action="else">
                            <nestedSteps>
                                <item guid="57070d69-7026-465c-86fb-5deab3ebb95f" action="eval">
                                    <command>
                                        <body>set blank &quot;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fce1a9e1-c87d-4f4f-82b3-eb3f50bd8d3b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                                    <command>
                                        <body>port show port $port</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>admin_by_field(&quot;MAC Address&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>nte_mac_address</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                        <responseFile inherit="false">${results_uri}</responseFile>
                                    </applicationProperties>
                                    <responseMap>project://di_ciena/response_maps/ciena_port_show_port.ffrm</responseMap>
                                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                                </item>
                                <item guid="e1bc744f-5b05-4471-867a-88ae329d29bf" action="writeFile">
                                    <command>
                                        <body>[get results_uri] [get blank]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="958e8cb6-7979-4d4d-8caa-f02c67efb602" action="writeFile">
                                    <command>
                                        <body>[get results_uri] [concat NTE ${session}  MAC Address: $nte_mac_address]\\r</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f42b97fd-e8fa-4859-ae6a-819c2b6f67aa" action="write">
                    <command>
                        <body>mac_address $nte_mac_address</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
                <item name="results_uri"/>
            </arguments>
        </item>
        <item name="remove_cfm_service_mep" isPublic="true">
            <steps>
                <item guid="aaa259b6-1a65-4b87-91e9-fb429c408e1e" action="command" session="$session">
                    <command>
                        <body>cfm mep delete service &quot;${md}serv&quot; mep $mep_id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2c54bf8b-7b88-45b6-a7c0-f0182d4ef441" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="35e42f62-0a29-4222-84aa-1b23035915f0" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="mep_id"/>
            </arguments>
        </item>
        <item name="remove_mep" isPublic="true">
            <steps>
                <item guid="d89e72f1-d309-4073-9633-52a6eaf83965" action="comment">
                    <command>
                        <body> cfm mep delete service vpls:2980-4serv mep 1030</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3d3cd7fd-3062-4ae3-830f-4f5b1af19b60" action="command" session="$session">
                    <command>
                        <body>cfm mep delete service &quot;${md}serv&quot; mepid $mep_id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="level"/>
                <item name="ccm_interval"/>
                <item name="component"/>
                <item name="vlan"/>
                <item name="port"/>
                <item name="interface">
                    <defaultValue>2</defaultValue>
                </item>
                <item name="mep_id"/>
                <item name="up_down_status">
                    <defaultValue>up</defaultValue>
                </item>
                <item name="ccm_priority">
                    <defaultValue>6</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="remove_svlan_port" isPublic="true">
            <description>Remove Service Vlan from NNI2 port and delete.</description>
            <steps>
                <item guid="a989fc5b-9d93-46d3-ba39-c319d50144be" action="comment">
                    <command>
                        <body>AAF - Mike</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ac0d3832-63c2-41b7-8d13-9dfb660cc05a" action="eval">
                    <command>
                        <body>set instance_present 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8abf2215-8c8c-4467-b3a8-ad7b6b0066e4" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>port show port $nni_port vlan</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Admin_all()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>admin_vlan_list</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/port_show_port_Number_vlan.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="5ee53812-0f7f-4610-8ff9-932bc5c801de" action="eval">
                    <command>
                        <body>puts [split $admin_vlan_list ,]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>${svlan}</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set instance_present 1</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Proceeding to Remove $svlan on $session NNI2 port $nni_port</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set instance_present 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>No Vlan  found matching $svlan on $session NNI2 port $nni_port . Skipping Clean-up.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ac36c851-9bfe-4326-bba6-69e48834800e" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="779321db-385b-457b-b57b-d50316b9f8f7" action="if">
                    <command>
                        <body>[get instance_present]</body>
                    </command>
                    <nestedSteps>
                        <item guid="39fea7e3-0bdd-4617-a752-8bc5a3c56772" action="then">
                            <nestedSteps>
                                <item guid="3c059207-9804-47fc-82a6-a2785c6226f0" action="command" session="$session">
                                    <command>
                                        <body>vlan remove vlan $svlan  port $nni_port</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                </item>
                                <item guid="74238db0-07e8-4e13-b39f-7697bb1f5352" action="command" session="$session">
                                    <command>
                                        <body>vlan delete vlan $svlan</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                                <item guid="4f06f548-032c-4ece-8a74-5d68816b8557" action="command" session="$session">
                                    <command>
                                        <body>config save</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <advancedProperties defaultSessionProfile="ciena_ref_telnet.ffsp"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ab6ab509-6491-4fa7-8e59-d3359bfe1e0c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <multilineDescription>Will be utilized with the Multihome process. An
d is called after the standard service process has been performed.</multilineDescription>
            <arguments>
                <item name="svlan"/>
                <item name="nni_port"/>
            </arguments>
        </item>
        <item name="restore_emux_uni_port" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="3c6cb968-d21a-4d2b-a3fc-f72163fc2966" action="comment">
                    <command>
                        <body>FBS UNI optical port</body>
                    </command>
                    <nestedSteps>
                        <item guid="5a99df5c-c27b-429e-a509-7d20080644a8" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port description FBS-UNI </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d3a337ef-1976-447d-a069-1de4014d1f64" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port mode sfp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d034e932-c937-4680-a9f0-2dab1c66fe13" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port speed gigabit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d600d525-3e95-455b-9dd3-7e41a09c29b2" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port duplex full</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="f05f5a55-c636-48bb-8783-29b59af804fc" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port auto-neg on</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="ae82b6d5-c752-4c3b-b665-37fc959f76f3" action="command" session="$session">
                            <command>
                                <body>port set port  $uni_port max-frame-size 9130</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="3c099ac6-6bb6-495e-b08c-ab3a81ae9fef" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port mode tx-rx</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="37daefde-4902-4654-9777-7e127e6ec8b1" action="command" session="$session">
                            <command>
                                <body>lldp set port  $uni_port mode disable </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4f0f103e-733b-48ea-ab7a-2bf2d2b9db00" action="command" session="$session">
                            <command>
                                <body>twamp enable port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="dd55f3d2-ea4d-4d31-a4ca-fe969b7a2398" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 127 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="818dcbda-057f-49ba-ac3c-17a972b81219" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4092 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="e4eef5c8-d685-46af-bf5d-c532ca89927c" action="command" session="$session">
                            <command>
                                <body>vlan add vlan 4091 port  $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="28871e98-9eaf-4a86-bdbe-b8abc343face" action="comment">
                    <command>
                        <body>Change Qos map and FcosRcos table</body>
                    </command>
                    <nestedSteps>
                        <item guid="efd442d6-bf57-419b-a035-7ceaf5c649f2" action="command" session="$session">
                            <command>
                                <body>port set port $uni_port ingress-to-egress-qmap Default-RCOS resolved-cos-map EMUX-FcosRcos</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cb904d18-c216-4ae1-a16d-9206071b61a0" action="comment">
                    <command>
                        <body>Set ASE UNI-Less port Q0 WRED</body>
                    </command>
                    <nestedSteps>
                        <item guid="ae885170-ff05-471d-a978-27bd012c7658" action="command" session="$session">
                            <command>
                                <body>traffic-services queuing egress-port-queue-group set queue 0  port $uni_port congestion-avoidance-profile Default-SRED  congestion-avoidance-profile EMT-S-WIRED</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a18fa41c-1642-4351-9fd9-08498ae57a88" action="comment">
                    <command>
                        <body>Enable the port for service</body>
                    </command>
                    <nestedSteps>
                        <item guid="209c211f-a7c2-4d49-a813-d9797a28b223" action="command" session="$session">
                            <command>
                                <body>port disable port $uni_port</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6f5829dc-30d1-4b0b-8290-72bad9eef261" action="comment">
                    <command>
                        <body>Assume 802.1x is enabled globally</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5cc1857a-991f-4984-914d-07a7b58a5fcf" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port mode auto</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="14b66dbd-a7f7-4d47-bdae-f9919826e5c3" action="command" session="$session">
                    <command>
                        <body>dot1x auth set port $uni_port reauthentication off</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="uni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nni_port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="restore_pre-impact_ccm_state" isPublic="true">
            <description>toggle_ccm_state - set the ccm interval to &apos;0&apos;</description>
            <steps>
                <item guid="73073a89-bab9-415c-a8aa-1783ef36645c" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1a4c21b6-db2a-4ab3-b540-d756c93b4bbe" action="eval">
                    <command>
                        <body>set reset_value 10sec</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c77f0205-b054-4ec6-8770-e844ead9c5c6" action="command" session="$session">
                    <command>
                        <body>cfm service set service $service_id ccm-interval ${reset_value}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="57890ed1-193f-4387-9d93-5750235c3a3b" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id">
                    <description>Cfm service name to act upon</description>
                </item>
                <item name="mep_id">
                    <description>Argument not used here</description>
                </item>
                <item name="uni_port">
                    <description>Argument not used here</description>
                </item>
                <item name="reset_value">
                    <description>Utilized in ciena_saos_qc</description>
                </item>
            </arguments>
        </item>
        <item name="retrieve_port_statistics" isPublic="true">
            <steps>
                <item guid="bdde572c-1776-4be3-9bd4-3bacd494f10c" action="command" session="$session">
                    <command>
                        <body>port show port $port_number  statistics</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>RxPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_received_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>RxInErrorPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_error_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>RxDropPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_drop_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>JabbersPkts()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Rx_jabber_packets</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9cbfa65f-745b-4e41-b0fe-a0836a9e6395" action="write">
                    <command>
                        <body>Recd_pkts:$Rx_received_packets\\r\\nRecd_error_pkts:$Rx_error_packets\\r\\nRecd_drop_pkts:$Rx_drop_packets Recd_jabber_pkts:$Rx_jabber_packets\\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7fab5106-9a8d-44d8-9c56-9c0e6f09728a" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="port_number"/>
            </arguments>
        </item>
        <item name="retrieve_port_tp" isPublic="true">
            <steps>
                <item guid="90207079-9ab3-4840-8cc2-1a706c4b24c6" action="comment">
                    <command>
                        <body>This retrieves traffic profile for a given port. This will work both for EWS and ERS ( the output is slightly different).</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="20b74eb8-4c18-4b49-8f15-b6a61f94a2d9" action="comment">
                    <command>
                        <body>Returns three values: port  traffic-profile-name and cir</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f4348b1b-b952-4851-927e-26eb2468f628" action="command" session="$session">
                    <command>
                        <body>traffic-profiling standard-profile sho port $port_number</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>port()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>r_port_number</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>traffic_profile()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>r_tp_name</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>cir()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>r_cir_value</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9e17a906-894f-46a4-9a1e-df793c9b96a8" action="return">
                    <command>
                        <body>port:$r_port_number\\r\\ntraffic_profile:$r_tp_name\\r\\ncir:$r_cir_value\\r\\n</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="faa06734-19b9-4abf-b0c7-599bddf9a790" action="comment">
                    <command>
                        <body>****************************************************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d3ea81f4-6996-4899-aa7d-fcf6cd3c6d91" action="comment">
                    <command>
                        <body>** getCBS - calculates the CBS/EBS for a given Ciena NTE and CIR                     ***</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="725b1c4c-ebcf-4d1a-bc83-057acb107b93" action="comment">
                    <command>
                        <body>** The lookup table is in the csv file jumpTable.csv in the session profile Ciena     ***</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2956107e-9733-4c52-a96d-c6fa4b8cb6ad" action="comment">
                    <command>
                        <body>****************************************************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="port_number"/>
            </arguments>
        </item>
        <item name="retrieve_port_vs" isPublic="true">
            <steps>
                <item guid="a3e94dda-b97c-4741-8e07-5cab379abd1c" action="comment">
                    <command>
                        <body>This retrieves a virtual-switch name on a given port on the nte.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5e617ecd-b612-4cfd-abaa-1141c6d6b8ac" action="comment">
                    <command>
                        <body>This finds multiple occurrences of the virtual-switch on the UNI  port. If there are multiple occurrences then</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4111a7c3-da59-4f02-ae19-8340adaadaa5" action="comment">
                    <command>
                        <body>this return will have to parsed to get each one separately.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7c2e0f5f-12af-49bc-86eb-789ec50e33c1" action="command" session="$session">
                    <command>
                        <body>virtual-sw ethernet show </body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>rowCount()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>no_of_vs</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>vs_show_all</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="090b1505-03c3-4849-8577-2e1b53e70500" action="for">
                    <command>
                        <body>{set i 0} {$i &lt; $no_of_vs} {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="12dc20d8-3052-4604-a786-231b617515ff" action="comment">
                            <command>
                                <body>table indexing begins with 1 NOT 0 and so the index needs to be adjusted here.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3e0ff9ae-0646-4f40-b35a-b1e8de0d7ce9" action="eval">
                            <command>
                                <body>set table_i [ expr $i +1 ]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="415a10a7-87b7-4c06-9542-b07b44149883" action="eval">
                            <command>
                                <body>set r_vs_name [query vs_show_all (mapped/Tabular/virtual_sw_total/table/row/vs_name)\\[$table_i\\]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0fad6d16-130a-4802-b607-400d13dbe6e3" action="retrive_vs_info" session="$session">
                            <command>
                                <body>-ciena_nte ciena -virtual_switch $r_vs_name</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>group1()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>r_port</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                        <skip>true</skip>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>r_port</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ff22c17b-b821-4d2d-a131-65d8e60f7654" action="if">
                            <command>
                                <body>$r_port == $port_number</body>
                            </command>
                            <nestedSteps>
                                <item guid="7816844e-b841-463f-9fb3-b84ff7893690" action="then">
                                    <nestedSteps>
                                        <item guid="2641f70f-c63e-4982-99fa-346d65ba923a" action="write">
                                            <command>
                                                <body>&quot;$r_vs_name &quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="84b0e5c8-e001-4147-bf51-5df4be8f2b0a" action="else">
                                    <nestedSteps>
                                        <item guid="5b4a0ea2-61b2-42fc-aa88-dea0125d8976" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="port_number"/>
            </arguments>
        </item>
        <item name="retrive_vs_info" isPublic="true">
            <steps>
                <item guid="6b6b8c40-25c7-4271-a443-b49e42018707" action="command" session="$session">
                    <command>
                        <body>virtual-switch ethernet show vs $virtual_switch </body>
                    </command>
                    <postProcessing isStoreResponseGlobal="true">
                        <storeResponseAt>rtrv_response</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="2ecbf282-8999-429d-aab3-e32d7efb815a" action="eval">
                    <command>
                        <body>set port [query /data/rtrv_response port()]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3667824a-d002-4680-9c4e-bcc51f2972db" action="if">
                    <command>
                        <body>$port == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="6cea868e-30be-459a-b071-d02e93b2e765" action="then">
                            <nestedSteps>
                                <item guid="843d9797-121a-4f9e-89fb-e18a8de96c09" action="eval">
                                    <command>
                                        <body>set port 9999</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="83c687d8-840c-423f-b825-8b99a3fc9630" action="else">
                            <nestedSteps>
                                <item guid="8ea2f5da-1f99-4c32-92f5-a9919aa17c7c" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6da77894-a3d4-49d1-909e-abf4d966c3fa" action="eval">
                    <command>
                        <body>set cvlan [query /data/rtrv_response cvlan()]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="636c80ae-9fae-4ec8-88b1-e8ec8b7d5dd8" action="return">
                    <command>
                        <body>$port</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="virtual_switch"/>
            </arguments>
        </item>
        <item name="send_login" isPublic="true" isVBlock="true">
            <description>Quickcall for Juniper login</description>
            <steps>
                <item guid="31c45a8f-2cf0-4573-88d9-625e048f8542" action="comment">
                    <command>
                        <body>Send userid, password to the session</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="69580ae9-13f0-4f86-b447-3132e9c3b386" action="comment">
                    <command>
                        <body>Debug - print arguments</body>
                    </command>
                    <nestedSteps>
                        <item guid="1821970a-9bd3-4089-a009-914304d29468" action="eval">
                            <command>
                                <body>puts &quot;$session $userid $password&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a016289c-07a6-4b5f-89d8-ce2f0ff33960" action="comment">
                    <command>
                        <body>If authentication times out repeat up to 3 times</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9adafffc-43cf-444f-9193-5846839a8fd0" action="for">
                    <command>
                        <body>{set tries 1} {$tries &lt;= 2} {incr tries}</body>
                    </command>
                    <nestedSteps>
                        <item guid="c71c8699-9cc8-4968-a0a5-d9be79f25d20" action="command" session="$session">
                            <command>
                                <body>$userid</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="1e8b5435-675d-4852-ba74-57be28aa48d1" action="command" session="$session">
                            <command isEncrypted="true">
                                <body masked="true">CNDluA9EJ23wammPrSnywg==</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>The system is low on memory.</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message> Cannot login  $session : The system is low on memor</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set login_failed 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Break">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set login_failed 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>promptName()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>[string match normal $value]  ||  [string match private $value]</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Break">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>promptName()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>var1</storageLocation>
                                                <query>[return promptname]</query>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="10.0" expectedIdleTime.inherit="false">
                                    <idleChannel inherit="false" sub="true">1000</idleChannel>
                                </completionProperties>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0eff544e-66f9-4cd0-9a3f-efa359cffdca" action="comment">
                    <command>
                        <body>If we retried and can&apos;t login set failure</body>
                    </command>
                    <nestedSteps>
                        <item guid="3aed18c5-84d4-44e7-8584-58ef66aceee0" action="if">
                            <command>
                                <body>$tries == 3 || $login_failed</body>
                            </command>
                            <nestedSteps>
                                <item guid="57334021-701b-4e97-a824-469772a64ee3" action="then">
                                    <nestedSteps>
                                        <item guid="28258acf-d0a9-4370-9c26-9079dcdd5fd9" action="comment">
                                            <command>
                                                <body>Login failed</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="9cc19c65-683a-4be4-8f91-e70145427527" action="eval">
                                            <command>
                                                <body>puts &quot;Login Failed&quot;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="regex">
                                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                                <regex>^Login Failed$</regex>
                                                                <extractionGroupIndex>0</extractionGroupIndex>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>var1</storageLocation>
                                                                <query>[return promptname]</query>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Quick call for Juniper devices through the Bridgeton NOC
A block procdure which returns the promptname. This is checked by the caller to determine success/fail.</multilineDescription>
            <arguments>
                <item name="session">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="userid">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;promptname&quot;:&quot;value&quot;}</response>
        </item>
        <item name="set_cfm_domain" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="19d1426a-2708-48a9-abc6-0b3a52d2eed3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2552a1c0-9b47-4a56-afc4-feca3d01f110" action="command" session="$session">
                    <command>
                        <body>cfm md set md ${md} name ${new_md}</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="14ef43d3-ed96-45fc-beaa-e6f89e3464f0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="new_md"/>
            </arguments>
        </item>
        <item name="set_cfm_domain_level" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="5952521d-46c8-40ca-a088-ee658141ed12" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b51f3df5-fc9e-4b3b-84f4-dfe38b3aeab6" action="command" session="$session">
                    <command>
                        <body>cfm md set md ${md} level $level</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="264d5aea-b126-4ac3-949c-a8d1e955eca5" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="level"/>
            </arguments>
        </item>
        <item name="set_cfm_service_ma" isPublic="true">
            <description>Utilized by cfm_defect test case</description>
            <steps>
                <item guid="7fb59a39-31c6-4735-aa2c-a15efab8c326" action="command" session="$session">
                    <command>
                        <body>cfm service set service &quot;${md}$old_ma&quot; ma-name-string $ma</body>
                    </command>
                    <postProcessing>
                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                        <responseHeader inherit="false">###################################</responseHeader>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="ma"/>
                <item name="old_ma"/>
            </arguments>
        </item>
        <item name="set_pre-impact_ccm_state" isPublic="true">
            <description>toggle_ccm_state - set the ccm interval to &apos;0&apos;</description>
            <steps>
                <item guid="2121dae1-bbba-4b98-8bc9-111a1781dcd3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1b66f0bb-80fe-4a32-9e37-67c5fe1b7c75" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c5fe0e69-284e-45dc-8683-0b41c5f8a5a0" action="command" session="$session">
                    <command>
                        <body>cfm service set service $service_id ccm-interval 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="d651ddef-a1ad-4339-a9ce-2d17e21cbeac" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="service_id">
                    <description>Cfm service name to act upon</description>
                </item>
                <item name="mep_id">
                    <description>Argument not used here</description>
                </item>
                <item name="uni_port">
                    <description>Argument not used here</description>
                </item>
            </arguments>
        </item>
        <item name="show_agg_link_status" isPublic="true" defaultSessionProfile="ciena_saos_ref_telnet.ffsp">
            <steps>
                <item guid="7b143e18-4b49-4eb8-9869-da9d12d8a5d0" action="comment">
                    <command>
                        <body>The procedure  checks the status of the aggregation link on a Ciena EMUX 3940 and 5140 </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3e27d1a1-d88e-4dc3-9c8f-d5c7eb664689" action="comment">
                    <command>
                        <body>Check port is active and the status is &apos;Up&apos;</body>
                    </command>
                    <nestedSteps>
                        <item guid="44a33083-f18a-4b2b-926a-14cf2c6d94c0" action="command" session="$session">
                            <command>
                                <body>port show</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true"> operational_link_by_port_name(&quot;$port&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value eq $expected_status</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message> Port: $port on $session is ${expected_status} ...</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message> Port: $port on $session is not ${expected_status} ...  Please investigate</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>port_show_output</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>$nni_port does not exist on $session</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show1.ffrm</responseMap>
                        </item>
                        <item guid="e4910203-b7d5-40d5-8924-a5af1ca6efd2" action="command" session="$session" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>port show throughput active</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>port_show_status</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                        <item guid="95f8dccf-c20f-4b44-9747-b1f2d59ddf2d" action="command" session="$session" skip="true">
                            <command>
                                <body>port clear port $port statistics</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="4b4bab51-e7ff-4913-8251-447c2e004aaf" action="command" session="$session" skip="true" useResponseMapLibraryApplicability="false">
                            <command>
                                <body>port show throughput active</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <responseMap>project://di_ciena/response_maps/port_show_throughput_active.ffrm</responseMap>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="port">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="expected_status">
                    <defaultValue>Up</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="show_interfaces_interface_match_hardware" isPublic="true">
            <steps>
                <item guid="d3c6ee13-2525-425f-a09f-73f0811e42a9" action="command" session="$session">
                    <command>
                        <body>show interfaces $interface | match Hardware</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="interface"/>
            </arguments>
        </item>
        <item name="show_oam_ethernet_link_fault_management_interface" isPublic="true">
            <steps>
                <item guid="e11d6b66-ee49-4ae3-be0b-13d663b94a6b" action="command" session="$session">
                    <command>
                        <body>show oam ethernet link-fault-management $interface</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="interface"/>
            </arguments>
        </item>
        <item name="show_virtual-circuit" isPublic="true">
            <steps>
                <item guid="288b819e-b13b-420e-9b7d-5f81f300f30b" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>virtual-circuit ethernet show vc ERS-$svlan-VC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/show_virtual-circuit_ethernet_show_vc.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <arguments>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="show_virtual-circuit_ethernet_vc_stats" isPublic="true">
            <steps>
                <item guid="128eaf83-002f-4f05-979b-0033cf5ba216" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>virtual-circuit ethernet show vc ERS-$svlan-VC statistics </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/show_virtual-circuit_ethernet_vc_stats.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
            </steps>
            <arguments>
                <item name="svlan"/>
            </arguments>
        </item>
        <item name="shut_down_ccm" isPublic="true">
            <steps>
                <item guid="21a0333b-f2d7-4fc5-a8e9-6b4fcd34ad31" action="command" session="$session">
                    <command>
                        <body>cfm service disable service &quot;${md}serv&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="de8bddf9-4d31-4fa4-b04c-84685ba76510" action="command" session="$session" skip="true">
                    <command>
                        <body>cfm md delete md $md</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="5dc9ff2a-ea79-4833-b0e0-240d4fd90197" action="command" session="$session">
                    <command>
                        <body>conf save</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="md"/>
                <item name="interface"/>
                <item name="ma"/>
            </arguments>
        </item>
        <item name="toggle_cfm_global_state" isPublic="true">
            <description>Toggle the CFM service state</description>
            <steps>
                <item guid="3292e989-c81a-4451-ba64-63d70d5ad0fb" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="35c789cf-1774-40c0-9748-2cff8e05c22e" action="command" session="$session">
                    <command>
                        <body>cfm [get global_state]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="b2447a21-dc53-478f-8ad1-2551aa079bbe" action="comment">
                    <command>
                        <body>Show and store global admin state</body>
                    </command>
                    <nestedSteps>
                        <item guid="0a422014-0120-489c-aee1-8e47cc0234c6" action="command" session="$session">
                            <command>
                                <body>cfm show</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>cfm_global_config_value_by_key(&quot;Admin State&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_state</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8e80b401-6101-45b7-a62c-5303f8d69301" action="comment">
                    <command>
                        <body>manupulate the stored value text to utilize for state validation</body>
                    </command>
                    <nestedSteps>
                        <item guid="412cbd00-9c57-4f65-a060-1041919f82e7" action="eval">
                            <command>
                                <body>set mod_current_state [string tolower [string  range ${current_state} 0 end-1]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a8b022f3-e8e7-4e42-b9e0-9df67cd6abfc" action="comment">
                    <command>
                        <body>Report/Return result</body>
                    </command>
                    <nestedSteps>
                        <item guid="66be28f7-7d7c-49a6-8d0a-630f626e0489" action="if">
                            <command>
                                <body>[string equal -nocase [get global_state] [get mod_current_state]]</body>
                            </command>
                            <nestedSteps>
                                <item guid="efe99e14-7ca2-44c3-a7da-f5d90fe9e4d7" action="then">
                                    <command>
                                        <body>state == requested</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e42c7dea-c8d9-406e-8f36-63fb24a6e3d5" action="return">
                                            <command>
                                                <body>SUCCESS: State set to [get current_state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="95fc8a57-128e-4af1-b239-d57bff3af74a" action="else">
                                    <command>
                                        <body>state != requested</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="16361dd3-e1e0-491d-88a1-a17be2b764a9" action="comment">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="4eebba2d-abac-47e9-b0a3-5a66cdd5a20d" action="return">
                                            <command>
                                                <body>ERROR: Setting New State value [get current_state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2ba3bf2-7e19-41c3-83f1-3844c0119b77" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>1.1</version>
            <multilineDescription>Globally enable or disable a cfm service</multilineDescription>
            <arguments>
                <item name="global_state">
                    <defaultValue>enable</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="toggle_mep_state" isPublic="true">
            <description>Toggle the MEP state of defined device</description>
            <steps>
                <item guid="c15a1407-0edd-43e2-8889-1b7c7e4fe8b8" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="553f1116-fe2c-471d-9fe0-2edf25c54a6c" action="command" session="$session">
                    <command>
                        <body>cfm mep [get mep_state] service [get service_name] mepid [get mepid]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="6fda3cd7-ff3a-4fad-8ce2-1a44a8f51209" action="comment">
                    <command>
                        <body>Get the state after toggle</body>
                    </command>
                    <nestedSteps>
                        <item guid="58140976-ab60-4e6e-9cf5-0abd68a04bc2" action="command" session="$session">
                            <command>
                                <body>cfm service show service [get service_name] mep</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>adm_state()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_state</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1d36ada2-34e8-41d4-8eeb-9693d44812f3" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7a5a4375-995e-4aea-81aa-6d03c0b280db" action="if">
                    <command>
                        <body>[string match -nocase [get mep_state] enable]</body>
                    </command>
                    <nestedSteps>
                        <item guid="d98f3d10-4fa7-4b20-80aa-3bf81735d7b9" action="then">
                            <nestedSteps>
                                <item guid="438f4764-c53b-4f39-a0bc-af155890171c" action="comment">
                                    <command>
                                        <body>Build return message</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="35c2fd07-ab15-436d-bce2-96bb1b61aa92" action="eval">
                                    <command>
                                        <body>puts [get current_state]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^en$</regex>
                                                        <extractionGroupIndex>0</extractionGroupIndex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;en&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat SUCCESS: MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat ERROR: Setting New MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="ac9b8fa4-ee9e-496f-b18d-214bff2c0c8e" action="return">
                                    <command>
                                        <body>[get return_msg]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a5a89400-a546-4369-81a8-5950b5bb669f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4b4d2837-8af7-4b8f-8ccc-2da1eb28df00" action="elseif">
                            <command>
                                <body>[string match -nocase [get mep_state] disable]</body>
                            </command>
                            <nestedSteps>
                                <item guid="9b440cf8-ed8d-4ec9-ae43-65a9b14a5bf8" action="comment">
                                    <command>
                                        <body>Build return message</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2caa063d-daed-42fc-8e10-1b8ee16f1f36" action="eval">
                                    <command>
                                        <body>puts [get current_state]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^dis$</regex>
                                                        <extractionGroupIndex>0</extractionGroupIndex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == &quot;dis&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat SUCCESS: MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set return_msg [concat ERROR: Setting New MEP state [get mep_state]]</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="77314892-e25c-4290-929e-663305382a11" action="return">
                                    <command>
                                        <body>[get return_msg]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="106600c2-d3d6-43e6-8d3c-2f7e5c37dc0f" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cbecea5c-779b-4687-9389-95ff7bd41990" action="else">
                            <nestedSteps>
                                <item guid="40c8127a-a440-403a-836b-fb267483e77c" action="comment">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="754fbaa1-9301-44e6-8e3a-ffaec831e7d2" action="return">
                                    <command>
                                        <body>ERROR:Invalid MEP State value [get mep_state]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1ec6385d-cead-4825-a112-fc7a1308b1c3" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a66caf68-fd44-48f7-b9bd-f08f5e6ff6c0" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>mike.walleigh@spirent.com</author>
            <version>1.1</version>
            <arguments>
                <item name="mep_state">
                    <description>Valid values: enable | disable</description>
                    <defaultValue>disable</defaultValue>
                </item>
                <item name="service_name">
                    <description>service handle associated with MEP</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="mepid">
                    <description>MEP id to operate upon</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="verify_cfm_service_fault" isPublic="true">
            <description>Query each service domain for status and report</description>
            <steps>
                <item guid="a76bf56c-61f8-4c83-9882-7cb930ee73f1" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9137abb3-8575-4de7-8d5f-4880d907e2c4" action="comment">
                    <nestedSteps>
                        <item guid="bc75f953-5172-492a-b656-d7b4c4543253" action="eval">
                            <command>
                                <body>set nullExpected &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c7aee54a-70c0-4552-a5d8-9b3439e60c13" action="eval">
                            <command>
                                <body>set serviceError &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="b90d19fd-97e9-46b7-8e41-7b88e93524b8" action="eval">
                            <command>
                                <body>set serviceFaultPresent 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="42adf921-1be8-45d6-b605-b5bff1ce0907" action="if">
                    <command>
                        <body>$log_report</body>
                    </command>
                    <nestedSteps>
                        <item guid="213c5241-18c9-4912-9e65-fa29e83a8482" action="then">
                            <nestedSteps>
                                <item guid="1803ed4d-b038-4e10-b74c-bf94065ed2a4" action="comment">
                                    <command>
                                        <body>write output to log file</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e493bf2e-40b0-495e-a4aa-441efa59397f" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>SHELL PARSER FAILURE</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>fault_list</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>cfm_service_show_service</storeResponseAt>
                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <responseHeader inherit="false">###################################</responseHeader>
                                        <appendSession inherit="false">true</appendSession>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="95587947-eac9-47af-914e-8bffa551c1dd" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9a57e2b3-b081-4a9f-b408-d4ef81ae75d1" action="if">
                                    <command>
                                        <body>[get legacy_command]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="5873b9ed-16b3-434f-95f3-423156049d0d" action="then">
                                            <nestedSteps>
                                                <item guid="5d8128e5-1e24-43b6-b2f6-0dcc1be3e504" action="command" session="$session">
                                                    <command>
                                                        <body>cfm service show service &quot;${md}$ma&quot;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>fault_list</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>cfm_service_show_service</storeResponseAt>
                                                        <responseFile inherit="false" sub="true">[gget ${session}_file]</responseFile>
                                                        <appendRespToFile inherit="false" defaultValue=""/>
                                                        <responseHeader inherit="false">###################################</responseHeader>
                                                        <appendSession inherit="false">true</appendSession>
                                                    </postProcessing>
                                                    <eventHandlers>
                                                        <item name="OnRepeatStepMaxCountExceeded">
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set serviceFaultPresent 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </item>
                                                    </eventHandlers>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="61faed2f-b26c-48c7-a064-25020f4289aa" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6f317a2c-af93-45dc-a806-f41b6ec4feb4" action="else">
                            <nestedSteps>
                                <item guid="c8c249d4-16d8-430c-94b1-8c680fa74b8e" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1d0ed182-b5e5-4fcd-8eb4-21095de9f68d" action="command" session="$session">
                                    <command>
                                        <body>cfm service show service $service_id</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>SHELL PARSER FAILURE</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set legacy_command 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>fault_list</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <appendRespToFile inherit="false" defaultValue=""/>
                                        <appendSession inherit="false" defaultValue=""/>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnRepeatStepMaxCountExceeded">
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set serviceFaultPresent 1</statement>
                                                </actionProperties>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                </item>
                                <item guid="27e24323-7b12-4027-b67d-836ad19e6f6f" action="comment">
                                    <command>
                                        <body>Use to store response to: cfm_service_show_service</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c79fee87-9200-426c-b194-13fdc123fcd4" action="if">
                                    <command>
                                        <body>[get legacy_command]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8cd84aed-2420-4f1b-999e-882e4b16bce8" action="then">
                                            <nestedSteps>
                                                <item guid="794c55d9-6050-4e04-968d-2be6b67ede92" action="command" session="$session">
                                                    <command>
                                                        <body>cfm service show service &quot;${md}$ma&quot;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>Value_by_Parameter(&quot;Service Faults&quot;)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>fault_list</storageLocation>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <appendRespToFile inherit="false" defaultValue=""/>
                                                        <appendSession inherit="false" defaultValue=""/>
                                                    </postProcessing>
                                                    <eventHandlers>
                                                        <item name="OnRepeatStepMaxCountExceeded">
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set serviceFaultPresent 1</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </item>
                                                    </eventHandlers>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <responseMap>project://di_ciena/response_maps/cfm_service_show_service.ffrm</responseMap>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fee0347f-8460-47b7-9b47-6218bbd07e81" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7ff3bc58-a205-4bc8-a1b6-82d1ac4242dd" action="comment">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a5361c4a-c437-41e0-a76f-a3576363f9d2" action="write">
                    <command>
                        <body>Service Fault is: [get fault_list]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9dd9ddbd-7a78-4d95-ac3a-03f268c70d78" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="415a9ea1-dbe2-4489-bd20-f7ce8fe5101a" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Foreach valid service query for service errors. If error(s) are present,wait 15 seconds and repeat step up to 6 times. If count is exceeded flag set, return value is adjusted accordingly.</multilineDescription>
            <arguments>
                <item name="service_id"/>
                <item name="md">
                    <description>Maintance Domain key</description>
                </item>
                <item name="ma">
                    <description>Maintance Association key</description>
                </item>
                <item name="log_report">
                    <description>debug switch. default value 0 Causes single show command write output to file. </description>
                    <defaultValue>0</defaultValue>
                </item>
                <item name="expected_fault"/>
            </arguments>
        </item>
        <item name="verify_eoam_loopback" isPublic="true">
            <steps>
                <item guid="843853f5-083a-4b8e-a344-102097d95ece" action="command" session="$session">
                    <command>
                        <body>eoam loopback show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Lb_by_Port($port)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == &quot;Yes&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>EOAM LOOP BACK is fine</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>EOAM LOOP back is not fine</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
            </steps>
            <arguments>
                <item name="port"/>
            </arguments>
        </item>
        <item name="verify_statistics_flag" isPublic="true">
            <steps>
                <item guid="278ca8c8-797e-4788-9de7-b6a0fda82504" action="command" session="$session">
                    <command>
                        <body>virtual-circui eth show vc $vc_name</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>stats_info</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="171659f1-c78f-4bef-9a25-a6f7ecb8814e" action="return">
                    <command>
                        <body>[query stats_info (.//stats_flag)\\[7\\]]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte"/>
                <item name="vc_name"/>
            </arguments>
        </item>
        <item name="verify_version" isPublic="true">
            <steps>
                <item guid="daf5f696-9b73-419b-a5e3-70a76077b819" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="48e51947-a57c-4f7c-bce3-98d640c21cd2" action="comment">
                    <command>
                        <body>* Procedure to verify the version on the ciena nte. It  verifies</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9aff9eeb-72bf-4974-a02d-63a3863ff6b9" action="comment">
                    <command>
                        <body>* that the version running on it is what is required (in the global</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7b867f72-dad5-49af-bdf8-c60898abd076" action="comment">
                    <command>
                        <body>* parameter file.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4c2f20d1-1d98-4b83-b3b3-11d202191039" action="comment">
                    <command>
                        <body>******************************************************</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5108cfbb-154b-41cf-bde4-a0fc870d6b06" action="eval">
                    <command>
                        <body>set ciena_version_running  [param Versions/ciena]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="916240b5-9888-41af-be04-d2a6c24e098e" action="command" session="$session">
                    <command>
                        <body>system show host-name</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\| Oper \\|\\s+(\\S+)\\s+\\|$</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ciena_host_name</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="9a391e76-8984-4733-9fa4-b2d9ff3abf46" action="command" session="$session">
                    <command>
                        <body>software show</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>installed_package()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value eq $ciena_version_running</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>The correct version ($ciena_version_running) is running on $ciena_host_name.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>The running version ($value) is not the required version ($ciena_version_running) on $ciena_host_name.</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <responseMap>project://di_ciena/response_maps/so_show_saos.ffrm</responseMap>
                </item>
            </steps>
            <arguments>
                <item name="ciena_nte">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
    </procedures>
</testCase>

<?xml version="1.0"?>
<testCase version="7.0.1.201802131446">
    <general>
        <isProcedureLibrary>true</isProcedureLibrary>
        <sessionClass includeTestCase="true" sessionType="project://di_STC_RFC_2544/session_profiles/STC_TclAPI_base.ffsp"/>
    </general>
    <execution>
        <parameters version="7.0.1.201802131446">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <TestCenter>
                        <ipAddress>10.108.32.17</ipAddress>
                        <userName>admin</userName>
                        <password>spt_admin</password>
                    </TestCenter>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main" isPublic="true">
            <description>The entry point to the test case</description>
            <steps>
                <item guid="1d0487ea-443c-409f-8448-cee84503f002" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="iTestVersion" isPublic="true">
            <description>Get iTest version</description>
            <steps>
                <item guid="739cb2a9-ebd5-4dfb-947f-007466d9418a" action="eval">
                    <command>
                        <body>set version [info version]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="90c6c346-96f4-49a4-a62b-7217b3d6f145" action="eval">
                    <command>
                        <body>set major [lindex [split $version .] 0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0a2da581-c333-462f-8477-8af1abfa59c9" action="eval">
                    <command>
                        <body>set minor [lindex [split $version .] 1]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c6d87d90-3f9c-480f-bec8-0a1139ac89fe" action="eval">
                    <command>
                        <body>gset ITEST_VERSION $major.$minor</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>iTest version: [gget ITEST_VERSION]</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>Malcom Terry</author>
        </item>
        <item name="Hints" isPublic="true">
            <description>Provide hints to iTest setup</description>
            <steps>
                <item guid="343e637c-4985-41f8-83a6-e4c22caea4db" action="if">
                    <command>
                        <body>![info exists global ITEST_VERSION]</body>
                    </command>
                    <nestedSteps>
                        <item guid="c60e7cf0-a016-48f4-b2fd-1806e0e1cd52" action="then">
                            <nestedSteps>
                                <item guid="bbf316cd-4bf1-4638-8795-8a1209e27d2d" action="call">
                                    <command>
                                        <body>iTestVersion</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a7970d64-ced1-4fd9-ba4b-46374b6aab70" action="if">
                    <command>
                        <body>![info exists global STC_FIRMWARE_VERSION]</body>
                    </command>
                    <nestedSteps>
                        <item guid="21957ec2-3338-4ab6-aff7-e85c7c509afc" action="then">
                            <nestedSteps>
                                <item guid="010cda73-74d8-4ef7-ab97-c0a3afabe029" action="call">
                                    <command>
                                        <body>FirmwareGetVersion</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4347a896-6217-44ab-874d-fbe51e0d6406" action="comment">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Hints:</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>See iTest Installation Guide and update environment variable TCLLIBPATH.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Make sure Spirent TestCenter Application [gget STC_FIRMWARE_VERSION] is installed.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Try changing iTest settings via menu:</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Use specified Tcl interpreter</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8cc79409-4e4f-40e6-9e71-93224462e371" action="if">
                    <command>
                        <body>[gget ITEST_VERSION] &lt;= 6.1</body>
                    </command>
                    <nestedSteps>
                        <item guid="8b3cddc9-3210-474e-88db-cbfa346e4177" action="then">
                            <nestedSteps>
                                <item guid="44e2cbe6-7719-49a1-81f5-7d88aed112a9" action="comment">
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>Windows/Spirent/Tcl Interpreter</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e14dc7a5-a6da-44e1-85a6-72f341ee2127" action="else">
                            <nestedSteps>
                                <item guid="e0f63bcd-7d0c-4d40-8964-498ab3810ef4" action="comment">
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>Windows/Spirent/Session Types/Spirent TestCenter</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1276dec3-31a2-4cc4-8118-4b4f01a1b0b1" action="comment">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>Use specified Tcl interpreter</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>Malcom Terry</author>
        </item>
        <item name="ArpStart" isPublic="true">
            <description>Start ARP/ND On All Devices</description>
            <steps>
                <item guid="5bcd4be8-f86b-4a99-ac00-778c679311a5" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a17cf08c-a9af-4b32-831e-6b9d03fb10e5" action="startArpNd" session="$session" skip="true">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>All attempted Arp/Nds resolved successfully</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set ok 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1c2efbe2-b786-447c-a162-fef581ad1f61" action="startArpNdOnAllDevices" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>Some attempted Arp/Nds could not resolve successfully</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Some attempted Arp/Nds could not resolve successfully</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set ok 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7028a4ed-5cca-4f25-90ae-1eaad5767ad1" action="eval" skip="true">
                    <command>
                        <body>puts $status</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup">
                                        <regex>\\w+</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>var1</storageLocation>
                                        <query>[return status]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b23d2824-9dda-411d-a9a6-873e61b06cec" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>Alex Orr</author>
            <multilineDescription>Starts ARP/ND on all devices in config. Returns status in a JSON block.
Returns status &quot;OK&quot; if all ARPs resolve successfully, &quot;error&quot; otherwise</multilineDescription>
        </item>
        <item name="ApiGetVersion" isPublic="true">
            <description>Get chassis firmware version</description>
            <steps>
                <item guid="2a2a7416-56dc-43ec-95cc-c3285ce289a5" action="eval" session="$session">
                    <command>
                        <body>stc::get system1 -Version</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^Result=(([\\d]+(\\.[\\d]+)))\\.([\\d]+(\\.[\\d]+))$</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>apiVersion</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="689670cc-540c-441a-8fac-2f131b2d08dd" action="eval">
                    <command>
                        <body>set major [lindex [split $apiVersion .] 0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="45b3a939-5a25-4913-bc91-e78a891ea24a" action="eval">
                    <command>
                        <body>set minor [lindex [split $apiVersion .] 1]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b1ab25b3-8fc8-499b-bad3-4390c0baa69d" action="eval">
                    <command>
                        <body>gset STC_API_VERSION &quot;$major.$minor&quot;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TestCenter: API version: $version</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0bebd8e6-e6d6-4343-bddb-82e3c61cd626" action="return">
                    <command>
                        <body>[gget STC_API_VERSION]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <multilineDescription>Return the version of the firmware in the Spirent TestCenter chassis.</multilineDescription>
        </item>
        <item name="ConfigurationLoad" isPublic="true">
            <description>Load config from XML file</description>
            <steps>
                <item guid="9337b598-e883-49eb-b749-40a400a2cff0" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2164c0d8-6f94-4e00-ab71-17f68e372c33" action="comment">
                    <command>
                        <body>Make sure file exists</body>
                    </command>
                    <nestedSteps>
                        <item guid="e0550579-9b26-4440-afa1-9adc6bf72a0b" action="if">
                            <command>
                                <body>![file exists $uri]</body>
                            </command>
                            <nestedSteps>
                                <item guid="2d496de0-d9a4-4464-a18b-b64980e8d3d7" action="then">
                                    <nestedSteps>
                                        <item guid="0f1c2e25-c57d-4dbf-8db2-fd11b6d61ad8" action="comment">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>TestCenter: File not found: [file uriToPath $uri] </message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="ExitProcedure">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                            <return>0</return>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f361b02e-8fa5-4bb7-bada-b9629ad327b6" action="eval">
                    <command>
                        <body>set path [string map {\\\\ /} [file uriToPath $uri]]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="17ce70f7-b64f-4250-9705-43223b0f664d" action="if">
                    <command>
                        <body>$showMsg</body>
                    </command>
                    <nestedSteps>
                        <item guid="46d3f51c-3260-4753-af3a-d96340c0c1cd" action="then">
                            <nestedSteps>
                                <item guid="8559dce8-80c6-472c-80ed-8a140009f2c4" action="comment">
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message>TestCenter: Loading configuration: [file uriToPath $uri]</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cd0b22ef-105b-498e-b404-455586d892c8" action="eval" session="$session" skippReporting="false">
                    <command>
                        <body>stc::perform loadfromxml -filename $path</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="35d912a8-1fec-4152-9d70-49c64e1b3404" action="eval" session="$session">
                    <command>
                        <body>stc::perform setupPortMappings</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bb405dc8-fae4-4741-ad5c-c48f32507ea0" action="eval" session="$session" skippReporting="false">
                    <command>
                        <body>stc::get project1 -children-port</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>portListResult</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e9789c8d-80f0-487a-83fe-b45e5446c087" action="eval">
                    <command>
                        <body>puts [response portListResult]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Result()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_list</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c3ba770e-ca4e-4ccd-8cf0-7e3693417264" action="eval" session="$session" skippReporting="false">
                    <command>
                        <body>stc::perform attachPorts -autoconnect true -PortList &quot;$port_list&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="20eb605f-cc87-4b4d-aaab-64d71ad1d0bb" action="eval" session="$session" skippReporting="false">
                    <command>
                        <body>stc::apply</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="86f6c499-b8c0-40ee-93ca-87d17633a668" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="uri">
                    <description>URI to load XML config from

Example: 
[info homeDir uri]iTest/config/DNS-Benchmark.xml
</description>
                    <defaultValue>file:/C:/tmp/stc_config.xml</defaultValue>
                </item>
                <item name="showMsg">
                    <description>1=display file being saved
</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="ConfigurationSave" isPublic="true">
            <description>Save config to XML file</description>
            <steps>
                <item guid="194f9787-9a99-451a-aa95-e298d6855678" action="comment">
                    <command>
                        <body>Make sure that directory exists.</body>
                    </command>
                    <nestedSteps>
                        <item guid="d0ec2a5b-4932-42d2-a0b4-91eef1c52171" action="eval">
                            <command>
                                <body>set i [string last / $uri] </body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="9e346ca3-ecda-4cef-bcc0-d57aedbbea04" action="eval">
                            <command>
                                <body>set dir [string trim [string range $uri 0 $i] /]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1329f491-59ff-4a54-9617-46cb1bafd898" action="eval">
                            <command>
                                <body>file mkdir $dir</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2bdd307a-922e-41c3-87ba-58c5e34c1224" action="if">
                    <command>
                        <body>$showMsg</body>
                    </command>
                    <nestedSteps>
                        <item guid="2dd24976-d90e-44ee-9e17-08022da5fa7f" action="then">
                            <nestedSteps>
                                <item guid="4ad51cf5-20dd-402c-986a-ffd0cbde33ff" action="eval">
                                    <command>
                                        <body>set path [file uriToPath $uri]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message>TestCenter: Saving configuration: $path</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="81708ea4-8c59-4382-92c8-e0187049c3b6" action="comment">
                    <command>
                        <body>write the config to a file</body>
                    </command>
                    <nestedSteps>
                        <item guid="52f761b1-a786-4ecf-a5ff-e8aca3a54ef1" action="saveConfiguration" session="$session">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Configuration saved</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: Configuration not saved to: [file uriToPath $uri]</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.SaveConfigurationProperties" file="$uri" file.inherit="false"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="717b8aa6-ec01-4ff4-aa77-476071f3e39c" action="return">
                    <command>
                        <body>$uri</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="uri">
                    <description>URI to save XML config to

Example: 
[info homeDir uri]iTest/config/DNS-Benchmark.xml
</description>
                    <defaultValue>file:/C:/tmp/stc_config.xml</defaultValue>
                </item>
                <item name="showMsg">
                    <description>1=display file being saved
</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="FirmwareGetVersion" isPublic="true">
            <steps>
                <item guid="83923037-b987-4467-8308-cf3c82402b5b" action="comment">
                    <command>
                        <body>Get firmware version via SSH session</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Reading the STC firmware version...</message>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="d7ae23db-4701-427d-b876-299036bb3296" action="open" session="ssh1">
                            <command>
                                <body>project://di_STC_RFC_2544/session_profiles/ssh.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                                    <ipAddress inherit="false">$ipAddress</ipAddress>
                                    <user inherit="false">$userName</user>
                                    <password inherit="false">CNDluA9EJ23wammPrSnywg==</password>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="04937275-cf68-4283-ba3a-4e826d1d9322" action="command" session="ssh1">
                            <command>
                                <body>version</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>Chassis_OS()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>chassisFirmware</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="22f6115b-e617-4e9b-9357-6fc53beaebc2" action="close" session="ssh1">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="b2484001-88fc-4a58-a433-45cc840c327c" action="eval">
                            <command>
                                <body>set major [lindex [split $chassisFirmware .] 0]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="9cc626fa-670b-484d-86c9-d955a6da4d32" action="eval">
                            <command>
                                <body>set minor [lindex [split $chassisFirmware .] 1]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="27092f34-4c3a-440d-a16f-7ae18bfb6756" action="eval">
                            <command>
                                <body>gset STC_FIRMWARE_VERSION &quot;$major.$minor&quot;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>TestCenter: Firmware version: $version</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="fcf81e98-fbd0-42a5-81a7-84b53fcaeab1" action="return">
                            <command>
                                <body>[gget STC_FIRMWARE_VERSION]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="ipAddress">
                    <description>IP address of Spirent TestCenter chassis</description>
                    <defaultValue>[param TestCenter/ipAddress]</defaultValue>
                </item>
                <item name="userName">
                    <defaultValue>[param TestCenter/userName]</defaultValue>
                </item>
                <item name="password">
                    <defaultValue>[param TestCenter/password]</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="FrameSetIPv4UDP" isPublic="true">
            <steps>
                <item guid="178004a1-6ecc-45d8-b98d-6319d631547c" action="eval" skip="true">
                    <command>
                        <body>gset TESTCENTER/frameConfig$streamblockIndex &quot;&lt;frame&gt;&lt;config&gt;&lt;pdus&gt;&lt;pdu name=\\&quot;ip_1\\&quot; pdu=\\&quot;ipv4:IPv4\\&quot; /&gt;&lt;pdu name=\\&quot;udp_1\\&quot; pdu=\\&quot;udp:Udp\\&quot; /&gt;&lt;/pdus&gt;&lt;/config&gt;&lt;/frame&gt;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="901edf7c-091a-41b6-8630-dc097dfdf1aa" action="readFile">
                    <command>
                        <body>project://[info testCaseProject current]/config/frame_ipv4.xml</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>template</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                </item>
                <item guid="e1c72318-a88a-412a-8506-f734a78fbe96" action="eval" skip="true">
                    <command>
                        <body>gset TESTCENTER/frameConfig$streamblockIndex &quot;&lt;frame&gt;&lt;config&gt;&lt;pdus&gt;&lt;pdu name=\\&quot;ip_1\\&quot; pdu=\\&quot;ipv4:IPv4\\&quot; /&gt;&lt;pdu name=\\&quot;udp_1\\&quot; pdu=\\&quot;udp:Udp\\&quot;&gt;&lt;sourcePort&gt;$sourcePort&lt;/sourcePort&gt;&lt;destPort override=\\&quot;true\\&quot;&gt;$destPort&lt;/destPort&gt;&lt;/pdu&gt;&lt;/pdus&gt;&lt;/config&gt;&lt;/frame&gt;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cf824632-e5a6-40f0-b8fe-9a4bcb9a5af6" action="eval">
                    <command>
                        <body>gset TESTCENTER/frameConfig$streamblockIndex [subst $template]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                    <advancedProperties defaultSessionProfile="project://Spirent_TestCenter/session_profiles/Spirent_TestCenter_CLI.ffsp"/>
                </item>
                <item guid="f88ad01f-cfd2-41a1-ad73-e219cc4d0712" action="return">
                    <command>
                        <body>[gget TESTCENTER/frameConfig$streamblockIndex]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="streamblockIndex">
                    <description>Streamblock index</description>
                    <defaultValue>1</defaultValue>
                </item>
                <item name="sourcePort">
                    <description>Streamblock source port</description>
                    <defaultValue>10000</defaultValue>
                </item>
                <item name="sourceAddr">
                    <defaultValue>[gget TESTCENTER/port1/IPv4Address &quot;&quot;]</defaultValue>
                </item>
                <item name="destPort">
                    <description>Streamblock destination port</description>
                    <defaultValue>20000</defaultValue>
                </item>
                <item name="destAddr">
                    <defaultValue>[gget TESTCENTER/port2/IPv4Address &quot;&quot;]</defaultValue>
                </item>
                <item name="gateway">
                    <defaultValue>[gget TESTCENTER/port1/IPv4Gateway &quot;&quot;]</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="FrameSetIPv6UDP" isPublic="true">
            <steps>
                <item guid="4ccc58f7-3d77-4188-a949-f2f6dddc610f" action="eval" skip="true">
                    <command>
                        <body>gset TESTCENTER/frameConfig$streamblockIndex &quot;&lt;frame&gt;&lt;config&gt;&lt;pdus&gt;&lt;pdu name=\\&quot;ip_1\\&quot; pdu=\\&quot;ipv6:IPv6\\&quot; /&gt;&lt;pdu name=\\&quot;udp_1\\&quot; pdu=\\&quot;udp:Udp\\&quot;&gt;&lt;sourcePort&gt;$sourcePort&lt;/sourcePort&gt;&lt;destPort override=\\&quot;true\\&quot;&gt;$destPort&lt;/destPort&gt;&lt;/pdu&gt;&lt;/pdus&gt;&lt;/config&gt;&lt;/frame&gt;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cffce919-2693-4681-9728-207afaf2e65e" action="readFile">
                    <command>
                        <body>project://[info testCaseProject current]/config/frame_ipv6.xml</body>
                    </command>
                    <postProcessing isStoreResponseGlobal="true">
                        <storeResponseAt>TESTCENTER/frameConfig$streamblockIndex</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                </item>
                <item guid="f8adb017-5ccc-43a9-8d23-e4013c7082b5" action="eval">
                    <command>
                        <body>gset TESTCENTER/frameConfig$streamblockIndex [subst $template]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                    <advancedProperties defaultSessionProfile="project://Spirent_TestCenter/session_profiles/Spirent_TestCenter_CLI.ffsp"/>
                </item>
                <item guid="ef0c7795-8543-463d-830b-8491bf24a5b6" action="return">
                    <command>
                        <body>[gget TESTCENTER/frameConfig$streamblockIndex]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="streamblockIndex">
                    <description>Streamblock index
</description>
                    <defaultValue>1</defaultValue>
                </item>
                <item name="sourcePort">
                    <description>Streamblock source port</description>
                    <defaultValue>10000</defaultValue>
                </item>
                <item name="sourceAddr">
                    <defaultValue>[gget TESTCENTER/port1/IPv6Address &quot;&quot;]</defaultValue>
                </item>
                <item name="destPort">
                    <description>Streamblock destination port</description>
                    <defaultValue>20000</defaultValue>
                </item>
                <item name="destAddr">
                    <defaultValue>[gget TESTCENTER/port2/IPv6Address &quot;&quot;]</defaultValue>
                </item>
                <item name="gateway">
                    <defaultValue>[gget TESTCENTER/port1/IPv6Gateway &quot;&quot;]</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortAdd" isPublic="true">
            <description>Add ports</description>
            <steps>
                <item guid="28751a40-d500-4b95-b446-dce4c096a6e5" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7bfb6be9-8489-460d-bac7-1e9a4427b109" action="eval">
                    <command>
                        <body>set portList [string map {, &quot; &quot;} $portList]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="356dbd7e-365f-4566-8071-b9e1e4d32b7d" action="foreach">
                    <command>
                        <body>port $portList</body>
                    </command>
                    <nestedSteps>
                        <item guid="ffa5d414-cb4a-4d60-ae8a-bc97af5b8efc" action="addPorts" session="$session">
                            <command>
                                <body>$port</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^Port //((\\d+\\.)+\\d+)/\\d+/\\d+\\s+created from port list$</regex>
                                                <extractionGroupIndex>0</extractionGroupIndex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == &quot;Port $port created from port list&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>TestCenter: $value</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>TestCenter: Could not add port $port</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set ok 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4f87fa4c-6f1b-4f89-8e34-e97d92de7aad" action="if">
                    <command>
                        <body>!$ok &amp;&amp; $abortOnFail</body>
                    </command>
                    <nestedSteps>
                        <item guid="b41dde45-81a8-49fb-9123-850bf7649d11" action="then">
                            <nestedSteps>
                                <item guid="879a7829-10ed-43c2-9f8d-db9633215d18" action="exit">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4ae30adc-d3e1-4f2d-a470-a6c6b260e926" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <multilineDescription>Add offline ports. </multilineDescription>
            <arguments>
                <item name="portList">
                    <description>List in //chassis/slot/port format

Example:
&quot;//10.108.1.17/2/1 //10.108.1.17/2/2&quot;</description>
                </item>
                <item name="abortOnFail">
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortAttach" isPublic="true">
            <description>Attach ports</description>
            <steps>
                <item guid="8f31d78f-5140-4798-94c4-53e65c2a96c5" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="97c8ddb0-d610-4df9-941e-919c639d88f5" action="eval">
                    <command>
                        <body>set check_version 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0426e80d-8379-461e-b757-57e829ae98b8" action="attachPorts" session="$session">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>The current test package: stc with version * is not supported. Please upgrade the test package: stc to version *.</searchString>
                                        <matchType>Wildcard</matchType>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>TestCenter: Firmware and Tcl package are out of sync!</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set ok 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set check_version 1</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^.*The port at //((\\d+\\.)+\\d+)/\\d+/\\d+\\s+is reserved by\\s+(\\S+)\\.$</regex>
                                        <extractionGroupIndex>3</extractionGroupIndex>
                                        <declareNoMatchIssue>false</declareNoMatchIssue>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match * $value]</expression>
                                        <actionOnMultiple>True if any true</actionOnMultiple>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>TestCenter: Ports reserved by: $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>TestCenter: If this is you, make sure you don&apos;t have ports reserved in another session or application.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                    <message>TestCenter: If this is not you, select different ports or ask the reservation owner if they can release the ports.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^The chassis,\\s+((\\d+\\.)+\\d+)\\s+is unreachable\\.$</regex>
                                        <extractionGroupIndex>0</extractionGroupIndex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>[string match &quot;The chassis, * is unreachable.&quot; $value]</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>TestCenter: $value</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set ok 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6e811dac-f81d-4f53-9642-d669b6e3d67f" action="if">
                    <command>
                        <body>$check_version</body>
                    </command>
                    <nestedSteps>
                        <item guid="7b839f01-dee0-40dc-a7b7-d58c974de601" action="then">
                            <nestedSteps>
                                <item guid="7d81e299-b422-49f9-bac1-a99ed95c0eb0" action="VersionCheck" session="$session">
                                    <postProcessing>
                                        <storeResponseAt>api_version</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ca157a55-caa4-4b89-ada2-a0d104b24a61" action="if">
                    <command>
                        <body>!$ok &amp;&amp; $abortOnFail</body>
                    </command>
                    <nestedSteps>
                        <item guid="fba6afc9-510d-4993-bbda-7145e865dd94" action="then">
                            <nestedSteps>
                                <item guid="b6bf5ceb-3fc9-4abb-9a60-43ae310f0132" action="exit">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5b416f8d-a962-48ff-9f6a-652a8eaa58c1" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Connects and reserves all ports that are not reserved yet.</multilineDescription>
            <arguments>
                <item name="RevokeOwner">
                    <description>true=take over ownership</description>
                    <defaultValue>false</defaultValue>
                </item>
                <item name="abortOnFail">
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortGetIpAddress" isPublic="true">
            <description>Get the IP address of a //chassis/slot/port identifier</description>
            <steps>
                <item guid="77d20475-b472-4e0f-9002-e72781663099" action="eval">
                    <command>
                        <body>regexp ^//(((\\d+\\.)+\\d+))/\\d+/\\d+$ $port ip_address</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2ac9e983-a610-4cc8-bcb5-07a82f04d1e6" action="return">
                    <command>
                        <body>$ip_address</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="port">
                    <description>Port in //chassis/slot/port format

Example:
//10.108.1.17/2/1</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="PortGetLinkStatus" isPublic="true">
            <description>Get port link status</description>
            <steps>
                <item guid="b04e421c-aa1b-449b-bd4c-72c883ffcf6a" action="comment">
                    <command>
                        <body>Check the port link status</body>
                    </command>
                    <nestedSteps>
                        <item guid="aa95c7c0-ff8f-4d7c-8cba-afc94b59e2b7" action="eval">
                            <command>
                                <body>set linksOK 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8df54367-c669-46b6-8591-f294d546c65a" action="eval">
                            <command>
                                <body>set portIndexList [string map {, &quot; &quot;} $portIndexList]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="24345405-851f-4710-9034-2f451c479b7b" action="foreach">
                            <command>
                                <body>portIndex $portIndexList</body>
                            </command>
                            <nestedSteps>
                                <item guid="0517f412-02ad-436d-b961-9781813ec665" action="showPorts" session="$session">
                                    <command>
                                        <body>$portIndex</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query sub="true">LinkStatus(&quot;$portIndex&quot;)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq &quot;UP&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>TestCenter: Port Link $portIndex: UP</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>TestCenter: Port Link $portIndex: DOWN</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>set linksOK 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6b931485-a0a8-433e-95b0-dfd7a87bed22" action="if">
                            <command>
                                <body>!$linksOK</body>
                            </command>
                            <nestedSteps>
                                <item guid="8c0f20db-8543-4c0c-bba6-6d73ba14643e" action="then">
                                    <nestedSteps>
                                        <item guid="55f61380-777a-4676-8bd4-fce9703bbc18" action="if">
                                            <command>
                                                <body>$abortOnFail</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9cbe1468-c583-49bf-a91f-ddee0345bd58" action="then">
                                                    <nestedSteps>
                                                        <item guid="a6b0ebc1-f01c-4134-b18f-015cda8b86d6" action="comment">
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="none">
                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>$value == 1</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="d2ee5441-a421-475f-af6c-eded08e6d35a" action="exit">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="e2674fe8-b5fe-4202-b581-51ed767ae7d2" action="return">
                                            <command>
                                                <body>0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="609d7239-eeba-46b6-b07c-7e732716d588" action="else">
                                    <nestedSteps>
                                        <item guid="3fe1c7e2-ad4d-4421-9c81-a83acc01ddbc" action="return">
                                            <command>
                                                <body>1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndexList">
                    <description>Space delimited list of port index.

Example:
1 2</description>
                </item>
                <item name="abortOnFail">
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortGetMediaObj" isPublic="true">
            <description>Get the port miedia object handle</description>
            <steps>
                <item guid="da4f02e9-f283-4cce-beff-1ab4be763d36" action="PortGetObj" session="$session">
                    <command>
                        <body> -portIndex 1</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>port_obj</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="841e5a0a-1221-4030-837f-94ad16cc6612" action="foreach">
                    <command>
                        <body>media_type {Copper Fiber 10GigCopper 10GigFiber 25GigFiber 40GigFiber 50GigFiber 100GigFiber 200GigFiber 400GigFiber}</body>
                    </command>
                    <nestedSteps>
                        <item guid="82b3faa4-5c94-4fe2-9593-8a1235be5ab6" action="eval" session="$session" skippReporting="false">
                            <command>
                                <body>stc::get $port_obj -children-ethernet$media_type</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="18bea244-8c04-490c-a519-f8c22f1a6022" action="eval">
                            <command>
                                <body>puts [response response]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>Result()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>obj</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="354bcb76-d769-45b3-bb6d-12967ee0abed" action="if">
                            <command>
                                <body>$obj != &quot;&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="75ff962c-393f-43cf-8e1b-5c167d714a38" action="then">
                                    <nestedSteps>
                                        <item guid="c55345e8-17a7-4559-a4e1-b3ea170d880a" action="return">
                                            <command>
                                                <body>$obj</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="693cbe37-9305-4000-87bf-8d7c2d1f8006" action="comment">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                        <message>TestCenter: Port media object not found for port index $portIndex</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ce3af8c8-24d9-4685-a333-a8edf08f9f0d" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndex">
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortGetObj" isPublic="true">
            <description>Get the port object handle</description>
            <steps>
                <item guid="160951a7-8452-4470-80cc-febab1d1bfb5" action="comment">
                    <command>
                        <body>Get the port object list</body>
                    </command>
                    <nestedSteps>
                        <item guid="3f5f09dc-b43e-4613-b016-fa66510e97f5" action="eval" session="$session" skippReporting="false">
                            <command>
                                <body>stc::get project1 -children-port</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e25b472e-609f-48e3-8041-802be3d93930" action="eval">
                            <command>
                                <body>puts [response response]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>Result()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>port_obj_list</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d642dc50-74e2-4e8f-a464-b80dc2e8d222" action="foreach">
                    <command>
                        <body>port $port_obj_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="bc9a459b-d396-4489-bce7-8b7904fdad10" action="if">
                            <command>
                                <body>$port == &quot;port$portIndex&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="5a3f7204-c93b-489e-ba9e-d29ddfba89f4" action="then">
                                    <nestedSteps>
                                        <item guid="670d5def-237b-4ae7-b7bb-a1f2f8429bd1" action="return">
                                            <command>
                                                <body>$port</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="de7fe99d-a489-4fbc-8cb7-030b09d28f7d" action="comment">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                        <message>TestCenter: Port object not found for port index $portIndex</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6d69056c-7947-47c4-a88b-1bf490b9b1f8" action="return">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndex">
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortGetProperties" isPublic="true" isVBlock="true">
            <description>Get port properties</description>
            <steps>
                <item guid="01dbd5c2-f0a5-47d2-9bc0-93c0509e6e21" action="showPorts" session="$session">
                    <command>
                        <body>$portIndex</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Name(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Name</storageLocation>
                                        <query>[return Name]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">CollisionControl(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>CollisionControl</storageLocation>
                                        <query>[return CollisionControl]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">DataPathMode(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>DataPathMode</storageLocation>
                                        <query>[return DataPathMode]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">MasterSlaveType(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>MasterSlaveType</storageLocation>
                                        <query>[return MasterSlaveType]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">MTU(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>MTU</storageLocation>
                                        <query>[return MTU]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Duplex(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Duplex</storageLocation>
                                        <query>[return Duplex]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">MediaType(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>MediaType</storageLocation>
                                        <query>[return MediaType]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">PortSpeed(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>PortSpeed</storageLocation>
                                        <query>[return PortSpeed]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">AutoNegotiation(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>AutoNegotiation</storageLocation>
                                        <query>[return AutoNegotiation]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">FlowControl(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>FlowControl</storageLocation>
                                        <query>[return FlowControl]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Online(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Online</storageLocation>
                                        <query>[return Online]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">LinkStatus(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>LinkStatus</storageLocation>
                                        <query>[return LinkStatus]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">Location(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>Location</storageLocation>
                                        <query>[return Location]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">AlternateSpeeds(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>AlternateSpeeds</storageLocation>
                                        <query>[return AlternateSpeeds]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">ForwardErrorCorrection(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ForwardErrorCorrection</storageLocation>
                                        <query>[return ForwardErrorCorrection]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">IgnoreLinkStatus(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>IgnoreLinkStatus</storageLocation>
                                        <query>[return IgnoreLinkStatus]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">InternalPpmAdjust(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>InternalPpmAdjust</storageLocation>
                                        <query>[return InternalPpmAdjust]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">PortSetupMode(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>PortSetupMode</storageLocation>
                                        <query>[return PortSetupMode]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">TestMode(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>TestMode</storageLocation>
                                        <query>[return TestMode]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">TransmitClockSource(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>TransmitClockSource</storageLocation>
                                        <query>[return TransmitClockSource]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">AutoMdix(&apos;$portIndex&apos;)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>AutoMdix</storageLocation>
                                        <query>[return AutoMdix]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndex">
                    <description>Port index

Examples:
1
2</description>
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
            <response>{&quot;Name&quot;:&quot;value&quot;,&quot;CollisionControl&quot;:&quot;value&quot;,&quot;DataPathMode&quot;:&quot;value&quot;,&quot;MasterSlaveType&quot;:&quot;value&quot;,&quot;MTU&quot;:&quot;value&quot;,&quot;Duplex&quot;:&quot;value&quot;,&quot;MediaType&quot;:&quot;value&quot;,&quot;PortSpeed&quot;:&quot;value&quot;,&quot;AutoNegotiation&quot;:&quot;value&quot;,&quot;FlowControl&quot;:&quot;value&quot;,&quot;Online&quot;:&quot;value&quot;,&quot;LinkStatus&quot;:&quot;value&quot;,&quot;Location&quot;:&quot;value&quot;,&quot;AlternateSpeeds&quot;:&quot;value&quot;,&quot;ForwardErrorCorrection&quot;:&quot;value&quot;,&quot;IgnoreLinkStatus&quot;:&quot;value&quot;,&quot;InternalPpmAdjust&quot;:&quot;value&quot;,&quot;PortSetupMode&quot;:&quot;value&quot;,&quot;TestMode&quot;:&quot;value&quot;,&quot;TransmitClockSource&quot;:&quot;value&quot;,&quot;AutoMdix&quot;:&quot;value&quot;}</response>
        </item>
        <item name="PortMap" isPublic="true">
            <description>Map ports</description>
            <steps>
                <item guid="cb3a975c-0dde-460a-80f2-044f2c3c6336" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ed837fd2-6ff4-45a0-8180-67ca0273c50b" action="eval">
                    <command>
                        <body>set check_version 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5c8ed65b-7575-4050-b86e-4fd057c5a43a" action="eval">
                    <command>
                        <body>set portList [string map {, &quot; &quot;} $portList]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1dff6e5b-1828-4733-8ec1-21751baa3994" action="comment">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TestCenter: Mapping ports to $portList ...</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5b975aba-3006-4a64-ab07-c69fa9744b11" action="eval">
                    <command>
                        <body>set portIndex 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0b528b9f-d1d4-4473-80af-f7742df529ad" action="foreach">
                    <command>
                        <body>port $portList</body>
                    </command>
                    <nestedSteps>
                        <item guid="184c3b89-2bae-45f7-a6ca-288b7baeb0f5" action="PortGetIpAddress" session="$session">
                            <command>
                                <body>-port $port</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>ip_address</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cbd47f14-c603-4680-858c-e30449b17fcd" action="mapPorts" session="$session">
                            <command>
                                <body>$portIndex $port</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>The current test package: stc with version * is not supported. Please upgrade the test package: stc to version *.</searchString>
                                                <matchType>Wildcard</matchType>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>TestCenter: Firmware and Tcl package are out of sync!</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set ok 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set check_version 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>The port at * is reserved</searchString>
                                                <matchType>Wildcard</matchType>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>TestCenter: Port $port is reserved</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set ok 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^.*The port at //((\\d+\\.)+\\d+)/\\d+/\\d+\\s+is reserved by\\s+(\\S+)\\.$</regex>
                                                <extractionGroupIndex>3</extractionGroupIndex>
                                                <declareNoMatchIssue>false</declareNoMatchIssue>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>[string match * $value]</expression>
                                                <actionOnMultiple>True if any true</actionOnMultiple>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: Ports reserved by: $value</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: If this is you, make sure you don&apos;t have ports reserved in another session or application.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: If this is not you, select different ports or ask the reservation owner if they can release the ports.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>The chassis, * is unreachable</searchString>
                                                <matchType>Wildcard</matchType>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>TestCenter: Chassis is unreachable: $ip_address</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set ok 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Invalid portNum. Have no port to map.</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionOnMultiple>True if any true</actionOnMultiple>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>TestCenter: Invalid portNum. Have no port to map.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>You probably forgot to add ports.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set ok 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="39ee3cfc-6634-4142-9ec0-12b565dac6fc" action="eval">
                            <command>
                                <body>incr portIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="90122836-c2cf-4b78-b0f9-4b51db3051d1" action="if">
                    <command>
                        <body>$check_version</body>
                    </command>
                    <nestedSteps>
                        <item guid="f346457f-05b3-4663-8ee5-b0a9d7003071" action="then">
                            <nestedSteps>
                                <item guid="adf060a5-df94-4b1d-b0d5-4dde1759e4b1" action="VersionCheck" session="$session">
                                    <postProcessing>
                                        <storeResponseAt>api_version</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d80a5f8b-18aa-4e2c-8421-892cd5480e95" action="if">
                    <command>
                        <body>!$ok &amp;&amp; $abortOnFail</body>
                    </command>
                    <nestedSteps>
                        <item guid="9fd7edea-5919-4800-ac8f-7ade14f2b3e6" action="then">
                            <nestedSteps>
                                <item guid="345b3b44-6579-4696-98f6-c4d9cad3836a" action="exit">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c556bd72-ebac-4391-9f22-23b0fc049634" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <multilineDescription>Maps ports to new locations. This is useful when a test is moved from one location to another.</multilineDescription>
            <arguments>
                <item name="portList">
                    <description>List in //chassis/slot/port format

Example:
&quot;//10.108.1.17/2/1 //10.108.1.17/2/2&quot;</description>
                </item>
                <item name="abortOnFail">
                    <defaultValue>1</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortRestartAutoNegotiation" isPublic="true">
            <description>Restart port auto-negotiation</description>
            <steps>
                <item guid="5aaf3b1a-bb5d-4716-8fd5-51c040c9e7c6" action="foreach">
                    <command>
                        <body>portIndex $portIndexList</body>
                    </command>
                    <nestedSteps>
                        <item guid="0b4883d4-2fd5-48f6-b01a-7428fe90ff3e" action="restartAutoNegotiation" session="$session">
                            <command>
                                <body>$portIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fa67f6be-8fd1-4d22-9480-45c7f59eec8f" action="restartAutoNegotiation" session="$session">
                            <command>
                                <body>$portIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ba1c8952-6e35-4efd-ad6c-ae5b513b6562" action="sleep" skip="true">
                            <command>
                                <body>5</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c98144fa-7a24-478b-b608-447fb29198ef" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndexList">
                    <description>Space delimited list of port index.

Example:
1 2</description>
                </item>
            </arguments>
        </item>
        <item name="PortSetAutoNegotiate" isPublic="true">
            <description>Set port auto-negotiation</description>
            <steps>
                <item guid="4471af84-7ef9-484a-808e-e4a0d7e60e75" action="foreach">
                    <command>
                        <body>portIndex $portIndexList</body>
                    </command>
                    <nestedSteps>
                        <item guid="15396860-81ad-4e33-9b58-68eebeb1ef7c" action="PortGetMediaObj" session="$session">
                            <command>
                                <body> -portIndex 1</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>media_type_obj</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="dd3d5af7-e778-424c-be45-24a42df010ef" action="eval" session="$session">
                            <command>
                                <body>stc::config $media_type_obj -autonegotiation $autonegotiation</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="741cb58a-c192-4445-b3d6-c167b496e301" action="eval" session="$session" skippReporting="false">
                            <command>
                                <body>stc::apply</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="496ed592-914b-4937-a00f-7c82f995987a" action="sleep" skip="true">
                            <command>
                                <body>5</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0590ceb9-0a34-4095-94b4-e776e8cf784a" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndexList">
                    <description>Space delimited list of port index.

Example:
1 2</description>
                </item>
                <item name="autonegotiation">
                    <description>true|false</description>
                    <defaultValue>true</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortSetOnline" isPublic="true">
            <description>Set ports to online</description>
            <steps>
                <item guid="f8ce8b91-845b-4798-941b-58b157ead31a" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="edcc3084-9408-4c05-bf5e-270a7ac69585" action="eval">
                    <command>
                        <body>set portIndexList [string map {, &quot; &quot;} $portIndexList]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="655f677a-4641-457a-b49e-ea84aae5f063" action="attachPorts" session="$session" skip="true">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2ea62c27-b12c-4f70-afb9-c7dc25962f8f" action="foreach">
                    <command>
                        <body>portIndex $portIndexList</body>
                    </command>
                    <nestedSteps>
                        <item guid="44e33aed-1f26-4891-ab20-94ee6633d3e1" action="showPorts" session="$session">
                            <command>
                                <body>$portIndex</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">LinkStatus(&quot;$portIndex&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>LinkStatus</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">Online(&quot;$portIndex&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>Online</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3a1d499b-2a10-4be0-834e-ca60a147da98" action="if">
                            <command>
                                <body>$LinkStatus != &quot;UP&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="06aa1f72-0562-495f-be27-8c25ef40f862" action="then">
                                    <nestedSteps>
                                        <item guid="36eb892c-c391-483a-b702-0c509a44655f" action="sleep">
                                            <command>
                                                <body>5</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="65175f4f-65eb-41ad-9c41-7b522a5b8992" action="showPorts" session="$session">
                                            <command>
                                                <body>$portIndex</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">LinkStatus(&quot;$portIndex&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>LinkStatus</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">Online(&quot;$portIndex&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>Online</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c7ce8b25-4e65-4563-a9d2-0b2019cd1414" action="if">
                            <command>
                                <body>$LinkStatus != &quot;UP&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="36366f77-8df2-4ab1-814f-712322561bd0" action="then">
                                    <nestedSteps>
                                        <item guid="ea2f355d-20ef-4311-b73e-d595302c8434" action="restoreLink" session="$session">
                                            <command>
                                                <body>$portIndex</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e36c3863-707f-4dd3-81b7-2504efa64b8d" action="sleep">
                                            <command>
                                                <body>5</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ceffac01-a251-45d8-a400-264f44ae70fd" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndexList">
                    <description>Space delimited list of port index.

Example:
1 2</description>
                </item>
            </arguments>
        </item>
        <item name="PortSetOffline" isPublic="true">
            <description>Set ports to offline</description>
            <steps>
                <item guid="b68cf995-bab2-42c9-a78c-e6505144b148" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d631d1dc-d054-4c39-86f4-ab0607054318" action="eval">
                    <command>
                        <body>set portIndexList [string map {, &quot; &quot;} $portIndexList]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="dea02457-80d6-4c80-bd7a-11f8f68a94f8" action="attachPorts" session="$session" skip="true">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="18f8b6bd-80a5-4b4c-b63d-a4591c0abd67" action="foreach">
                    <command>
                        <body>portIndex $portIndexList</body>
                    </command>
                    <nestedSteps>
                        <item guid="ee4d37b5-bcb8-4717-8a29-a5453d1e89fa" action="showPorts" session="$session">
                            <command>
                                <body>$portIndex</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">LinkStatus(&quot;$portIndex&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>LinkStatus</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">Online(&quot;$portIndex&quot;)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>Online</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d15623da-3557-4271-9e2b-4ceb7181b4cb" action="if">
                            <command>
                                <body>$LinkStatus == &quot;UP&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="f339592e-8e87-424b-b2d5-24d7447f73de" action="then">
                                    <nestedSteps>
                                        <item guid="d8d8b235-e3fc-4c06-b946-74ed2d3d127e" action="sleep">
                                            <command>
                                                <body>5</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9be61001-37de-4481-8454-ba015fe856c8" action="showPorts" session="$session">
                                            <command>
                                                <body>$portIndex</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">LinkStatus(&quot;$portIndex&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>LinkStatus</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">Online(&quot;$portIndex&quot;)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>Online</storageLocation>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="cbc8060e-3dcc-4c6e-b008-8d0212525340" action="if">
                            <command>
                                <body>$LinkStatus == &quot;UP&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="26299c50-1910-4787-9c6b-3dab85cecd26" action="then">
                                    <nestedSteps>
                                        <item guid="5f782f37-2319-4c5d-813c-c583e29df536" action="breakLink" session="$session">
                                            <command>
                                                <body>$portIndex</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="16a7eb6e-22ad-4a63-b94b-c165c520e298" action="sleep">
                                            <command>
                                                <body>5</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fdc920e5-0181-4fa6-b6de-56acfd8b12ef" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portIndexList">
                    <description>Space delimited list of port index.

Example:
1 2</description>
                </item>
            </arguments>
        </item>
        <item name="PortSetSpeed" isPublic="true">
            <description>Configures the STC ports to the media type and line speed values</description>
            <steps>
                <item guid="0cb4bb15-331b-45d4-8262-12d8dc06e7c3" action="eval">
                    <command>
                        <body>set speed [string toupper $speed]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6127dad4-9dc8-4073-8b39-f03b6dbecc86" action="eval">
                    <command>
                        <body>set found 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5a946f9a-a975-4260-a6fe-8672bf5ee49f" action="foreach">
                    <command>
                        <body>item {10M 100M 2500M 1G 5G 10G 25G 40G 50G 100G 200G 400G}</body>
                    </command>
                    <nestedSteps>
                        <item guid="792531b8-c81e-4c39-ad5a-f7a0d01975c6" action="if">
                            <command>
                                <body>$item == $speed</body>
                            </command>
                            <nestedSteps>
                                <item guid="007090bc-5d77-482d-8630-a3ca68b5cb65" action="then">
                                    <nestedSteps>
                                        <item guid="3daae21b-16b8-445c-a3de-d01cc8e1b228" action="eval">
                                            <command>
                                                <body>set found 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="af184bb0-5e1d-485c-a794-3c31dcd781df" action="break">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f354cb61-5242-4872-9e65-217115f440c9" action="if">
                    <command>
                        <body>!$found</body>
                    </command>
                    <nestedSteps>
                        <item guid="8c9c9c37-a57f-4281-9f6b-2e75c733e2c2" action="then">
                            <nestedSteps>
                                <item guid="983cb30b-0457-4001-8fe7-5fb588d35086" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="78ad2c88-e454-4c39-88c0-75aa244e9d8b" action="foreach">
                    <command>
                        <body>portIndex $portIndexList</body>
                    </command>
                    <nestedSteps>
                        <item guid="48b1893e-5f6a-4a55-b9e9-a03f678e389c" action="PortGetMediaObj" session="$session">
                            <command>
                                <body> -portIndex 1</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>media_type_obj</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="196fab11-409f-43f7-bb13-cdfe5dbff889" action="eval" session="$session">
                            <command>
                                <body>stc::config $media_type_obj -linespeed SPEED_$speed</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2a3c3612-5626-44a2-ac13-8a79c85bd3b4" action="eval" session="$session" skippReporting="false">
                    <command>
                        <body>stc::apply</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3b7f3ac7-23da-4fb3-813f-445bd7a0ab3f" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>George Popovici, Malcom Terry</author>
            <arguments>
                <item name="portIndexList">
                    <description>Space delimited list of port index.

Example:
1 2</description>
                </item>
                <item name="speed">
                    <description>Supported values:
10M 100M 2500M 1G 5G 10G 25G 40G 50G 100G 200G 400G</description>
                    <defaultValue>1G</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="PortUnmap" isPublic="true">
            <description>Unmap ports</description>
            <steps>
                <item guid="0acbd9ce-b4bc-4c47-8d4e-b914ff3a15d2" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9cd71b34-4733-4eeb-af4d-6147cc948fb2" action="eval">
                    <command>
                        <body>set portList [string map {, &quot; &quot;} $portList]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="56599841-0165-41c1-a798-42abb35c213b" action="foreach">
                    <command>
                        <body>port $portList</body>
                    </command>
                    <nestedSteps>
                        <item guid="8dc17bd8-9d76-4e09-9a9c-9d74a3b16e8f" action="eval" session="$session">
                            <command>
                                <body>stc::release $port</body>
                            </command>
                            <eventHandlers>
                                <item name="OnToolError"/>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ec8b8531-cba4-4718-95a9-7f67df72595d" action="sleep">
                    <command>
                        <body>60</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aecbd7c3-41a9-470d-ae84-d8c1026d6172" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <arguments>
                <item name="portList">
                    <description>List in //chassis/slot/port format

Example:
&quot;//10.108.1.17/2/1 //10.108.1.17/2/2&quot;</description>
                </item>
            </arguments>
        </item>
        <item name="ResultsDirectorySetPath" isPublic="true">
            <description>Set the directory to which the TestCenter test result will be saved</description>
            <steps>
                <item guid="f1d915bf-f0b3-4905-bfd5-60ba2f1a8cbc" action="comment">
                    <command>
                        <body>Make sure that directory exists.</body>
                    </command>
                    <nestedSteps>
                        <item guid="5945fe71-455d-49e9-a6b1-19b9dc1979bd" action="eval">
                            <command>
                                <body>file mkdir $uri</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="53e87b44-9cea-47aa-955f-e01f1e8eab4a" action="eval">
                    <command>
                        <body>set dir [file uriToPath $uri]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ece195ae-63dc-4b6a-8fff-d764e1cb53e5" action="comment">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TestCenter: Test results will be saved to: $dir\\\\Results</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e805c7f0-a4d4-44dc-85fd-2ac385f10eef" action="eval" session="$session" normalOffset="38.989" estimatedStepExecutionTime="0.005">
                    <command>
                        <body>stc::config project1.TestResultSetting -SaveResultsRelativeTo NONE -ResultsDirectory {$dir}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0d780266-8f2a-4784-84b1-ee0ae2d6f6c3" action="return">
                    <command>
                        <body>$uri</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <multilineDescription>Specify the directory to save the test results. The entire path is created, if not already present.
Do not use a URI for the -ResultsDirectory. It must be a native file path. Otherwise, the sequencer will get stuck in a PAUSE state.</multilineDescription>
            <arguments>
                <item name="uri">
                    <description>Path to result directory

Example: 
[info homeDir uri]iTest/DNS-Benchmark</description>
                    <defaultValue>[info homeDir uri]Results</defaultValue>
                </item>
                <item name="expectSubfolder">
                    <description>1=expect results path to contain &quot;Results&quot; subfolder</description>
                    <defaultValue>0</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="TrafficRunAndCapture" isPublic="true" isVBlock="true">
            <description>Run traffic and capture</description>
            <steps>
                <item guid="85267300-0ef6-4b43-bf09-20b93e6567e6" action="if">
                    <command>
                        <body>$captureFilename == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="5ad28bc9-c43f-408c-b8be-988c9939bc8e" action="then">
                            <nestedSteps>
                                <item guid="30f9c005-6c35-44cd-9981-489f74ff010f" action="eval">
                                    <command>
                                        <body>set captureFilename [info homeDir uri]iTest/capture_[info procedure].pcap</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="104791d1-17e1-4f50-b613-a4079071d534" action="if">
                    <command>
                        <body>$configFilename == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="933ec0ed-034e-4f69-bd4f-22b954ef1850" action="then">
                            <nestedSteps>
                                <item guid="408eaf82-cb94-4121-8829-721ce9fc0fc5" action="eval">
                                    <command>
                                        <body>set configFilename [info homeDir uri]iTest/stc_config_[info procedure].xml</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d41b8430-9168-4601-a377-0dd561262a1a" action="eval">
                    <command>
                        <body>set tx_string &quot;&quot; </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4d6393be-ef1d-400b-9096-b40eeeb88b17" action="eval">
                    <command>
                        <body>set rx_string &quot;&quot; </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="dce6490f-879f-4603-b5fa-afacbb7e92d2" action="comment">
                    <command>
                        <body>Configure stream blocks</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Configuring stream blocks for $protocol ...</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="2b60fc40-aea6-4461-8556-e7c33f0bc3ee" action="eval">
                            <command>
                                <body>set streamblockName [string map {&quot; &quot; _} $streamblockName]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a6a81a94-587f-49be-a088-bdc25bc8108d" action="showPorts" session="$session" normalOffset="0.032" estimatedStepExecutionTime="0.969">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ports/row/Id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>portidList</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ports/row/Name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>portNameList</storageLocation>
                                                <storeInAList>true</storeInAList>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1031b474-28fb-4885-859d-45ebbc598c80" action="comment">
                            <command>
                                <body>Add UDP header to downstream frame info</body>
                            </command>
                            <nestedSteps>
                                <item guid="15d80a12-06ea-4bc2-9f85-beca5142391d" action="if" skip="true">
                                    <command>
                                        <body>$frameConfig1 == &quot;&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8c88faed-a220-4750-ab8b-a9081cf736ee" action="then">
                                            <nestedSteps>
                                                <item guid="18e85031-a7c8-4480-8826-36b7b3e03da2" action="if">
                                                    <command>
                                                        <body>$protocol == &quot;IPv6&quot;</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="d679e6f3-4829-4bf8-8f52-b55bf7320ce6" action="then">
                                                            <nestedSteps>
                                                                <item guid="1a8010a9-1b87-482b-aa1a-4adc6ec8f82c" action="call">
                                                                    <command>
                                                                        <body>FrameSetIPv6UDP -streamblockIndex 0</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>frameConfig</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="c0bf7b96-223a-4c8d-8df3-f9529460ee15" action="else">
                                                            <nestedSteps>
                                                                <item guid="8ca796d5-2786-4812-a6b5-68d58220d33b" action="call">
                                                                    <command>
                                                                        <body>FrameSetIPv4UDP -streamblockIndex 0</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>frameConfig</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="b57b5c50-f924-40c6-a9f1-5ae819458eb0" action="if">
                                    <command>
                                        <body>[gget TESTCENTER/frameConfig1 &quot;&quot;] == &quot;&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a754530b-8585-4ee8-a3c9-8e49d44870e3" action="then">
                                            <nestedSteps>
                                                <item guid="646a3c47-9d93-4a07-9db8-2e8e5cab7d9f" action="if">
                                                    <command>
                                                        <body>$protocol == &quot;IPv6&quot;</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="afd8d49c-e81f-4cf0-82a9-d057c413b899" action="then">
                                                            <nestedSteps>
                                                                <item guid="905e1630-9fc2-4148-95f8-42e844fb3f4c" action="call">
                                                                    <command>
                                                                        <body>FrameSetIPv6UDP -streamblockIndex 1 -sourcePort 10000 -destPort 20000</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="47cea371-76ec-404f-8180-c22a0a68eeba" action="else">
                                                            <nestedSteps>
                                                                <item guid="9c793bd8-f8b6-49d5-bf20-4212e6320daa" action="call">
                                                                    <command>
                                                                        <body>FrameSetIPv4UDP -streamblockIndex 1 -sourcePort 10000 -destPort 20000</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>frameConfig</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="970c6bf7-9ab6-4a08-836e-c400bea39cc9" action="comment">
                                    <command>
                                        <body>Add UDP header to upstream frame info</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="efd2b320-1cfd-4732-bf67-849fdfacdf9b" action="if">
                                            <command>
                                                <body>$openPortWithUpstreamTraffic</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="bf144b9b-9101-4487-9ae7-2b9c06600e2f" action="then">
                                                    <nestedSteps>
                                                        <item guid="9b2d1e57-f9d4-4038-960a-2ab62ae07eb0" action="if">
                                                            <command>
                                                                <body>[gget TESTCENTER/frameConfig2 &quot;&quot;] == &quot;&quot;</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="1d5bba9a-41b4-4248-9d52-d4375cb392e1" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="0d0857b6-3af6-496c-ae3e-d299f1ce466b" action="if">
                                                                            <command>
                                                                                <body>$protocol == &quot;IPv6&quot;</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="5c4cfebd-bf20-4be2-9262-521572703b42" action="then">
                                                                                    <nestedSteps>
                                                                                        <item guid="4238463b-bef3-4111-a614-4156139f1336" action="call">
                                                                                            <command>
                                                                                                <body>FrameSetIPv6UDP -streamblockIndex 2 -sourcePort 20000 -destPort 10000</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <storeResponseAt>frameConfig1</storeResponseAt>
                                                                                                <storeResponseText>true</storeResponseText>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="f01502c7-d3e1-4848-b7f9-c4c62faca3f2" action="else">
                                                                                    <nestedSteps>
                                                                                        <item guid="3f68b4c3-40df-4f4d-a610-a8d6b3199ea1" action="call">
                                                                                            <command>
                                                                                                <body>FrameSetIPv4UDP -streamblockIndex 2 -sourcePort 20000 -destPort 10000</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <storeResponseAt>frameConfig1</storeResponseAt>
                                                                                                <storeResponseText>true</storeResponseText>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="115c4ac0-38bf-4cdc-971d-eaa098324f8d" action="addStreamBlock" session="$session" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                                                            <command>
                                                                <body>$destinationDeviceIndex</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="UpstreamTraffic" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false">
                                                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                                                        <memberClasses>
                                                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                                                        </memberClasses>
                                                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                                                    </destinations>
                                                                </endpointProperties>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="0d4065a6-183d-4249-b993-b78d388c0b3f" action="configureStreamBlock" session="$session" normalOffset="189.422" estimatedStepExecutionTime="1.312">
                                                            <command>
                                                                <body>$destinationDeviceIndex 1</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="UpstreamTraffic" name.inherit="false" loadUnit="FRAMES_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false" frameConfig="$frameConfig1" frameConfig.inherit="false" rxPorts="1" rxPorts.inherit="false">
                                                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="2" sourceDeviceId.inherit="false">
                                                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                                                        <memberClasses>
                                                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                                                        </memberClasses>
                                                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry"/>
                                                                    </destinations>
                                                                </endpointProperties>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="92cae85b-82b0-4fcd-9e02-2c01f5e5abb2" action="enableStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                                                            <command>
                                                                <body>$sourceDeviceIndex 1</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8febe800-9ff3-4632-8d91-b77b89c2a881" action="comment">
                            <command>
                                <body>Determine if stream block is already present. If not, create it.</body>
                            </command>
                            <nestedSteps>
                                <item guid="d13bdd7a-eb22-4be6-9f4a-27ced3177979" action="eval" session="$session">
                                    <command>
                                        <body>set streamNameList {}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="cd5bf57e-6328-4d65-a2e3-20910acc6db1" action="eval" session="$session">
                                    <command>
                                        <body>set streamIndexList {}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f658bdae-5856-4b68-9d41-7b3fda87da13" action="eval" session="$session">
                                    <command>
                                        <body>set portIndexList {}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="effb0b9e-fb3a-4c01-8f16-ca8226e8d651" action="showStreamBlocks" session="$session">
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>streamBlocks/row/Name</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>streamNameList</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>streamBlocks/row/Port</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>portIndexList</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>streamBlocks/row/Id</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>streamIndexList</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="83484efb-b915-4c73-b197-4da799d63c0f" action="if">
                                    <command>
                                        <body>[lsearch $streamNameList $streamblockName] == -1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e2bf18d8-b973-49f2-80e5-e9e318ec244e" action="then">
                                            <nestedSteps>
                                                <item guid="d4a27605-11c7-41a6-b2ea-525c2875b8a6" action="addStreamBlock" session="$session" skip="true">
                                                    <command>
                                                        <body>$sourceDevicePort</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName" name.inherit="false"/>
                                                </item>
                                                <item guid="f118223a-1cc1-4dc5-834c-6732c41c994f" action="addStreamBlock" session="$session">
                                                    <command>
                                                        <body>$sourceDeviceIndex</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName" name.inherit="false"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1be9d107-6fd4-4480-984c-61a9b4127498" action="configureStreamBlock" session="$session" normalOffset="189.422" estimatedStepExecutionTime="1.312">
                                    <command>
                                        <body>$sourceDeviceIndex 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="$trafficRateMBPS" load.inherit="false" enableFcsErrorInsertion.inherit="false" frameConfig="$frameConfig" frameConfig.inherit="false" rxPorts="2" rxPorts.inherit="false">
                                        <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                            <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                                <memberClasses>
                                                    <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                                </memberClasses>
                                                <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" portId="2" portId.inherit="false"/>
                                            </destinations>
                                        </endpointProperties>
                                    </applicationProperties>
                                </item>
                                <item guid="81156787-4603-4baa-b83f-02ac335eadaf" action="enableStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                                    <command>
                                        <body>$sourceDeviceIndex 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="dc5459e8-a0d1-4d2a-b38f-ec4c157303e0" action="comment">
                    <command>
                        <body>Configure source generator</body>
                    </command>
                    <nestedSteps>
                        <item guid="452a6550-50e0-4fbd-990c-0bcfcf81affc" action="configureGenerator" session="$session" skip="true" normalOffset="6.266" estimatedStepExecutionTime="0.063">
                            <command>
                                <body>$sourceDevicePort</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.ConfigureGeneratorProperties" fixedLoad="$trafficRateMBPS" fixedLoad.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" name="Traffic_Generator_1" name.inherit="false"/>
                        </item>
                        <item guid="c049a3bd-9865-47f9-811f-46fe61e81a0c" action="configureGenerator" session="$session" normalOffset="6.266" estimatedStepExecutionTime="0.063">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.ConfigureGeneratorProperties" fixedLoad="$trafficRateMBPS" fixedLoad.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" name="Traffic_Generator_1" name.inherit="false"/>
                        </item>
                        <item guid="2644b41e-7db4-4c73-9c1f-fe8e990184ad" action="configureStreamBlock" session="$session" skip="true" normalOffset="189.422" estimatedStepExecutionTime="1.312">
                            <command>
                                <body>$sourceDevicePort $sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="$trafficRateMBPS" load.inherit="false" enableFcsErrorInsertion.inherit="false" frameConfig="$frameConfig" frameConfig.inherit="false" rxPorts="2" rxPorts.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" portId="2" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="0bd6aedb-7aee-4cc5-a8ab-0446fa89baa1" action="enableStreamBlock" session="$session" skip="true" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                            <command>
                                <body>$sourceDevicePort $sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="eb558ce0-f649-48d2-9f6c-43d4854375dd" action="if">
                            <command>
                                <body>$openPortWithUpstreamTraffic</body>
                            </command>
                            <nestedSteps>
                                <item guid="1cebacb1-d2ae-4025-b8e3-ef17800288a6" action="then">
                                    <nestedSteps>
                                        <item guid="a8854b19-392d-4bf9-8aab-0b97a8ee52ef" action="configureGenerator" session="$session" normalOffset="6.266" estimatedStepExecutionTime="0.063">
                                            <command>
                                                <body>$destinationDeviceIndex</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.ConfigureGeneratorProperties" fixedLoad="1" fixedLoad.inherit="false" loadUnit="FRAMES_PER_SECOND" loadUnit.inherit="false" name="Traffic_Generator_2" name.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="392ee714-38d8-4883-b44c-d326ae385d0c" action="comment">
                    <command>
                        <body>ARP/ND and subscribe to result types</body>
                    </command>
                    <nestedSteps>
                        <item guid="e0bab9ad-4768-4da1-9451-bbfb23f3c413" action="startArpNdOnAllDevices" session="$session" skip="true">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Some attempted Arp/Nds could not resolve successfully</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Some attempted Arp/Nds could not resolve successfully</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0b022106-88ee-4a63-b931-40fce9581799" action="startArpNdOnAllStreamBlocks" session="$session">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Some attempted Arp/Nds could not resolve successfully</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Warning">
                                                <message>TestCenter: All streamblocks: Some attempted Arp/Nds could not resolve successfully</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f99e803f-1bcd-44e9-a0e2-02325065b625" action="subscribe" session="$session">
                            <command>
                                <body>RxPortPairResults</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="089b49fc-0cdd-40cf-90ab-da10ae37b038" action="clearStats" session="$session">
                            <command>
                                <body>RxPortPairResults</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cba99df6-3033-4408-9bb0-a934c335e9ef" action="subscribeView" session="$session" estimatedStepExecutionTime="0.468">
                            <command>
                                <body>DetailedStreamResults</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="425977f2-0518-41fd-9df1-6866439e93af" action="ConfigurationSave" session="$session">
                    <command>
                        <body> -uri $configFilename -showMsg 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="23bbe8c2-361f-48af-bf87-84f26eaf5fbc" action="comment">
                    <command>
                        <body>Start capture and traffic</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TestCenter: Start capture and run traffic for $sendTrafficTime seconds...</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="3642a3c4-8d15-45c2-94ad-d31cdcc728e5" action="startCapture" session="$session" skip="true" normalOffset="17.295" estimatedStepExecutionTime="1.578">
                            <command>
                                <body>$destinationDevicePort</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="976cb8e4-0ace-4dc5-be72-3df4cfcb6b84" action="startCapture" session="$session" normalOffset="17.295" estimatedStepExecutionTime="1.578">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1eb355ec-fabf-454f-acb4-ef3a0a571ad4" action="if">
                            <command>
                                <body>$openPortWithUpstreamTraffic</body>
                            </command>
                            <nestedSteps>
                                <item guid="05a10db1-d374-41e7-a68f-a732b2cdc3a2" action="then">
                                    <nestedSteps>
                                        <item guid="7e98b1dc-a73b-43a0-b287-d8d3f2837519" action="comment">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message>TestCenter: Sending a bit of upstream traffic ...</message>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="6d20242e-782b-429b-8669-d8ce945d1e94" action="startGenerator" session="$session" skip="true" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                                            <command>
                                                <body>$destinationDevicePort</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="06750c9a-98bf-4586-ba26-8c5c1258dba1" action="startGenerator" session="$session" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                                            <command>
                                                <body>$destinationDeviceIndex</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="fc953670-c27a-4751-90bd-fc94c31a2c26" action="sleep">
                                            <command>
                                                <body>5</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="07f4d078-7ec6-4296-b2b7-4e04010580e1" action="stopGenerator" session="$session" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                                            <command>
                                                <body>$destinationDeviceIndex</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="13694bc1-25d1-428a-a6a0-e409a7bf42c5" action="startGenerator" session="$session" skip="true" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                            <command>
                                <body>$sourceDevicePort</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="353abda5-f167-4c18-9810-01a3cc914b98" action="startGenerator" session="$session" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a43955df-95df-4c0e-8411-ec74339267e7" action="sleep">
                            <command>
                                <body>$sendTrafficTime</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="29e32190-91a4-45e8-aa03-c8e27ca18652" action="comment">
                    <command>
                        <body>Stop traffic and capture results</body>
                    </command>
                    <nestedSteps>
                        <item guid="8f0af149-58db-4e79-870d-91add83d3501" action="if">
                            <command>
                                <body>$openPortWithUpstreamTraffic</body>
                            </command>
                            <nestedSteps>
                                <item guid="8a48e0da-e79b-4a77-87d3-a2a5c2e86727" action="then">
                                    <nestedSteps>
                                        <item guid="8726c6a9-41ca-4a84-bb13-0a759cf601ca" action="stopGenerator" session="$session" normalOffset="13.998" estimatedStepExecutionTime="0.594">
                                            <command>
                                                <body>$destinationDevicePort</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="9be8d702-9cf2-4e9f-b5bc-da48b52d349b" action="stopGenerator" session="$session" skip="true" normalOffset="13.998" estimatedStepExecutionTime="0.594">
                            <command>
                                <body>$sourceDevicePort</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a4c2ad5e-99dc-4487-8230-25683529b55a" action="stopCapture" session="$session" skip="true" normalOffset="4.343" estimatedStepExecutionTime="1.719">
                            <command>
                                <body>$destinationDevicePort</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6ec9482a-5906-4f06-b70f-3555a410480e" action="stopGenerator" session="$session" normalOffset="13.998" estimatedStepExecutionTime="0.594">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d791659b-42aa-450c-b812-6ca249bf6565" action="stopCapture" session="$session" normalOffset="4.343" estimatedStepExecutionTime="1.719">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="dee01fba-cfda-45af-9f76-cd3a62936ca3" action="saveCapture" session="$session" skip="true" normalOffset="11.233" estimatedStepExecutionTime="0.672">
                            <command>
                                <body>$destinationDevicePort [file pathToUri $captureFilename]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.SaveCaptureProperties" file="$captureFilename" file.inherit="false"/>
                        </item>
                        <item guid="72630822-fcbe-4280-a523-c178de4429b7" action="comment">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>TestCenter: Saving capture file: [file uriToPath $captureFilename]</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="dfba6ae7-bf35-470b-a173-9af5eb2367e1" action="saveCapture" session="$session" normalOffset="11.233" estimatedStepExecutionTime="0.672">
                                    <command>
                                        <body>$destinationDeviceIndex</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.SaveCaptureProperties" file="$captureFilename" file.inherit="false"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="84dcf94f-9578-46b4-b03b-847fcc4201bd" action="showResults" session="$session" normalOffset="71.639" estimatedStepExecutionTime="0.046">
                    <command>
                        <body>DetailedStreamResults &quot;Basic Counters&quot; 1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>DetailedStreamResults/row/TxCount_Frames_</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_list</storageLocation>
                                        <storeInAList>true</storeInAList>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>DetailedStreamResults/row/RxCount_Frames_</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_list</storageLocation>
                                        <storeInAList>true</storeInAList>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>showResults</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b9262585-75ef-497c-bf5b-cc390346e52f" action="foreach">
                    <command>
                        <body>item $tx_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="3b10914e-412c-4d8c-96f1-13b8cbdf27bf" action="eval">
                            <command>
                                <body>set tx_string [string trim &quot;$tx_string $item&quot;]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9bbd6758-482b-4c73-8e10-7cf5378d25f4" action="foreach">
                    <command>
                        <body>item $rx_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="fe03ff7e-adaa-41db-903f-c57b945b98ec" action="eval">
                            <command>
                                <body>set rx_string [string trim &quot;$rx_string $item&quot;]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="39ab5f53-bdee-4df1-8d11-e68affe37a7c" action="eval">
                    <command>
                        <body>puts $tx_string</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^.*$</regex>
                                        <extractionGroupIndex>0</extractionGroupIndex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_frame_count</storageLocation>
                                        <query>[return tx_frame_count]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1577fb18-b940-4869-88f4-cc7fd892c1bc" action="eval">
                    <command>
                        <body>puts $rx_string</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^.*$</regex>
                                        <extractionGroupIndex>0</extractionGroupIndex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_frame_count</storageLocation>
                                        <query>[return rx_frame_count]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="22c66d65-0428-4a19-9396-ee2bbe5ce071" action="eval">
                    <command>
                        <body>gset TESTCENTER/TxFrameCount $tx_frame_count</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="333f010f-18b0-4269-a9c0-49238ff94fca" action="eval">
                    <command>
                        <body>gset TESTCENTER/RxFrameCount $rx_frame_count</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8d83234e-e124-4475-b7aa-c6fd2cba0bb9" action="eval">
                    <command>
                        <body>set portPair &quot;\\&apos;$sourceDeviceIndex\\&apos;, \\&apos;$destinationDeviceIndex\\&apos;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="deaf257c-b92a-4ca5-aa71-950b2708effe" action="showStats" session="$session">
                    <command>
                        <body>RxPortPairResults 1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">DroppedFramePercent($portPair)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>percent_dropped</storageLocation>
                                        <query>[return percent_dropped]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <appendRespToFile inherit="false" defaultValue=""/>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ec9c3e96-d4bc-4165-b93f-b5b6bf313440" action="eval">
                    <command>
                        <body>gset TESTCENTER/DroppedFramePercent $percent_dropped</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b08809d1-aed6-4426-bbce-21f055b239d2" action="if">
                    <command>
                        <body>$deleteStreamBlock</body>
                    </command>
                    <nestedSteps>
                        <item guid="d44ff53c-1fc6-466a-b4df-689225247279" action="then">
                            <nestedSteps>
                                <item guid="c48ee0e6-5135-4317-ad92-65f7c91b3c67" action="deleteStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                                    <command>
                                        <body>$sourceDeviceIndex 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <multilineDescription>This quickcall will start a capture, start traffic, wait and save capture to a file.
It also grabs port stats and returns them in JSON format.</multilineDescription>
            <arguments>
                <item name="protocol">
                    <description>IPv4|IPv6</description>
                    <defaultValue>IPv6</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="sourceDeviceIndex">
                    <description>Source device index (1-based)</description>
                    <defaultValue>1</defaultValue>
                </item>
                <item name="destinationDeviceIndex">
                    <description>Destination device index (1-based)</description>
                    <defaultValue>1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="streamblockName">
                    <defaultValue>streamBlock1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="trafficRateMBPS">
                    <defaultValue>0.5</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="captureFilename">
                    <description>URI to file for capture on streamblock.</description>
                </item>
                <item name="sendTrafficTime">
                    <description>Traffic time in seconds</description>
                    <defaultValue>10</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="deleteStreamBlock">
                    <description>true=delete the streamblock after use</description>
                    <defaultValue>false</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="openPortWithUpstreamTraffic">
                    <description>true=To be able to pass downstream traffic, we must open the port with a small amount of upstream traffic.</description>
                    <defaultValue>false</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="configFilename">
                    <description>URI to save configuration to</description>
                </item>
            </arguments>
            <response>{&quot;tx_frame_count&quot;:&quot;value&quot;,&quot;rx_frame_count&quot;:&quot;value&quot;,&quot;percent_dropped&quot;:&quot;value&quot;}</response>
        </item>
        <item name="TrafficRunAndCaptureBidirectional" isPublic="true" isVBlock="true">
            <description>Run bidirectional traffic and capture</description>
            <steps>
                <item guid="102a3de2-4b1d-4202-917e-1414270e73f9" action="if">
                    <command>
                        <body>$captureFilename1 == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="3fe84c35-9365-4a66-bb48-590da92dbea7" action="then">
                            <nestedSteps>
                                <item guid="1f7d6726-e629-4136-9c5d-c38d5af3d22a" action="eval">
                                    <command>
                                        <body>set captureFilename1 [info homeDir uri]iTest/capture_[info procedure]_1.pcap</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fea7c288-fa86-4407-adff-818e5944e8bb" action="if">
                    <command>
                        <body>$captureFilename2 == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="17651b2f-ccc8-4629-b031-4d06e0f8fd5c" action="then">
                            <nestedSteps>
                                <item guid="a3e925ee-0f10-4c27-9a0e-f71aff3e3584" action="eval">
                                    <command>
                                        <body>set captureFilename2 [info homeDir uri]iTest/capture_[info procedure]_2.pcap</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="225f1b95-a47a-4c66-9ee0-49302a7e70ae" action="if">
                    <command>
                        <body>$configFilename == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="8c51e15b-d46f-4280-b289-5318c098fd34" action="then">
                            <nestedSteps>
                                <item guid="20619a6e-051b-4166-97df-4f7dad1c4485" action="eval">
                                    <command>
                                        <body>set configFilename [info homeDir uri]iTest/stc_config_[info procedure].xml</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="388e6194-01a7-4723-ab27-adb068f41aac" action="eval">
                    <command>
                        <body>set tx_string &quot;&quot; </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="557e28c8-538f-430b-b277-66aeafc4b6bd" action="eval">
                    <command>
                        <body>set rx_string &quot;&quot; </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5f8d9b59-6f34-4f9f-82c0-485799230c53" action="comment">
                    <command>
                        <body>Configure stream blocks</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Configuring stream blocks for $protocol ...</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="5b288482-8764-4529-a540-7079367c8f74" action="eval">
                            <command>
                                <body>set streamblockName1 [string map {&quot; &quot; _} $streamblockName1]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ea0e6bc9-901c-452e-9399-39b2b7107079" action="eval">
                            <command>
                                <body>set streamblockName2 [string map {&quot; &quot; _} $streamblockName2]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6c647829-2cbe-4a82-8836-80a1fd6b464b" action="addStreamBlock" session="$session">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName1" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1.0" load.inherit="false"/>
                        </item>
                        <item guid="c8ba44a2-b4ae-40b1-8577-01642c50774d" action="addStreamBlock" session="$session">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName2" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1.0" load.inherit="false"/>
                        </item>
                        <item guid="89c07be4-3349-4300-a147-b456d534e4c1" action="addStreamBlock" session="$session" skip="true" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName1" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="c3b5ba22-6cbd-4340-a19f-107a44225341" action="addStreamBlock" session="$session" skip="true" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName1" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="014635be-18c2-4bd5-a9ce-ce19075d3a31" action="addStreamBlock" session="$session" skip="true" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName2" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="0aba8ffa-03fe-4d88-a7d9-6d77df359842" action="showPorts" session="$session" normalOffset="0.032" estimatedStepExecutionTime="0.969">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ports/row/Id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>portList</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e94d73e1-6216-4d57-b3c9-93553a643601" action="if">
                            <command>
                                <body>[gget TESTCENTER/frameConfig1 &quot;&quot;] == &quot;&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="394d76c6-90b8-4fe4-b560-d11a5c2ddc53" action="then">
                                    <nestedSteps>
                                        <item guid="08834f64-2e45-4420-b3d5-43f3baf5c7e4" action="if">
                                            <command>
                                                <body>$protocol == &quot;IPv6&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="8a8eccdd-3da9-4886-9dcc-c6821eb9b0c7" action="then">
                                                    <nestedSteps>
                                                        <item guid="1e2512ac-11ae-4ec9-bddb-e28646642d6f" action="call">
                                                            <command>
                                                                <body>FrameSetIPv6UDP -streamblockIndex 1 -sourcePort 10000 -destPort 20000</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="607c3b47-fcfe-4242-8e44-0fdb0f9faf7f" action="else">
                                                    <nestedSteps>
                                                        <item guid="7ea9fa51-8752-4fb3-ac88-68a3f3dea756" action="call">
                                                            <command>
                                                                <body>FrameSetIPv4UDP -streamblockIndex 1 -sourcePort 10000 -destPort 20000</body>
                                                            </command>
                                                            <postProcessing>
                                                                <storeResponseAt>frameConfig</storeResponseAt>
                                                                <storeResponseText>true</storeResponseText>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="940b1362-a1db-4fd3-ba7b-3028981e18c4" action="if">
                            <command>
                                <body>[gget TESTCENTER/frameConfig2 &quot;&quot;] == &quot;&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="afe6ccc8-e6f6-4816-8e91-24123f983374" action="then">
                                    <nestedSteps>
                                        <item guid="32dc4692-0744-4a50-82f0-2e145133e11d" action="if">
                                            <command>
                                                <body>$protocol == &quot;IPv6&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="e4cb506f-544e-4062-ba5d-da4162361c21" action="then">
                                                    <nestedSteps>
                                                        <item guid="24f7663b-ebf0-4cf0-bb67-907702e40ab0" action="call">
                                                            <command>
                                                                <body>FrameSetIPv6UDP -streamblockIndex 2 -sourcePort 20000 -destPort 10000</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="51381c12-7a30-480e-9dd0-3ffb67cca97b" action="else">
                                                    <nestedSteps>
                                                        <item guid="d037aa27-e22e-43b9-b71d-bacf7eff7e8d" action="call">
                                                            <command>
                                                                <body>FrameSetIPv4UDP -streamblockIndex 2 -sourcePort 20000 -destPort 10000</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="303c91df-b3b4-4a0d-9ab9-4e667c0b4a32" action="startArpNdOnAllDevices" session="$session" skip="true">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Some attempted Arp/Nds could not resolve successfully</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Some attempted Arp/Nds could not resolve successfully</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b05487a8-d534-4f8a-963f-dcddcfacc5aa" action="addStreamBlock" session="$session" skip="true" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" enableFcsErrorInsertion.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="adff984b-0d6c-41cc-bf3f-9749444cb708" action="addStreamBlock" session="$session" skip="true" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName1" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="024e93d8-0e0a-4a12-84bf-cf1a770a0011" action="configureStreamBlock" session="$session" normalOffset="189.422" estimatedStepExecutionTime="1.312">
                            <command>
                                <body>$sourceDeviceIndex 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName1" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="$trafficRateMBPS1" load.inherit="false" enableFcsErrorInsertion.inherit="false" frameConfig="[gget TESTCENTER/frameConfig0]" frameConfig.inherit="false" rxPorts="$destinationDevicePort" rxPorts.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" portId="2" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="b1df3d06-15fa-4941-ad99-a8c57c429c3d" action="configureStreamBlock" session="$session" normalOffset="189.422" estimatedStepExecutionTime="1.312">
                            <command>
                                <body>$destinationDeviceIndex 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName2" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="$trafficRateMBPS2" load.inherit="false" enableFcsErrorInsertion.inherit="false" frameConfig="[gget TESTCENTER/frameConfig1]" frameConfig.inherit="false" rxPorts="$sourceDevicePort" rxPorts.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" portId="2" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                        <item guid="dc4fd905-fce0-469f-a9df-670129ac2efa" action="enableStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                            <command>
                                <body>$sourceDeviceIndex 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0ccf61a2-b906-4532-93c7-cb0880e460c4" action="enableStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                            <command>
                                <body>$destinationDeviceIndex 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="302b1ec3-8a2a-4251-a71d-0f50cd7b7b28" action="addStreamBlock" session="$session" skip="true" normalOffset="243.671" estimatedStepExecutionTime="1.031">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName2" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="1" load.inherit="false" enableFcsErrorInsertion.inherit="false">
                                <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                                    <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" deviceId.inherit="false" portId.inherit="false"/>
                                    </destinations>
                                </endpointProperties>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fc3e1fe6-51fd-4ef6-a7d5-134afd5ee7fa" action="configureGenerator" session="$session" normalOffset="6.266" estimatedStepExecutionTime="0.063">
                    <command>
                        <body>$sourceDeviceIndex</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.ConfigureGeneratorProperties" fixedLoad="$trafficRateMBPS1" fixedLoad.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" name="Traffic_Generator_1" name.inherit="false"/>
                </item>
                <item guid="96470cb4-445d-4a98-a6fd-3d5de61fb3b0" action="configureGenerator" session="$session" normalOffset="6.266" estimatedStepExecutionTime="0.063">
                    <command>
                        <body>$destinationDeviceIndex</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.ConfigureGeneratorProperties" fixedLoad="$trafficRateMBPS2" fixedLoad.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" name="Traffic_Generator_2" name.inherit="false"/>
                </item>
                <item guid="ed86a3a9-b4b9-4c8e-aa12-7b32b876a1c5" action="configureStreamBlock" session="$session" skip="true" normalOffset="189.422" estimatedStepExecutionTime="1.312">
                    <command>
                        <body>$destinationDeviceIndex 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties" name="$streamblockName2" name.inherit="false" loadUnit="MEGABITS_PER_SECOND" loadUnit.inherit="false" load="$trafficRateMBPS2" load.inherit="false" enableFcsErrorInsertion.inherit="false" frameConfig="[gget TESTCENTER/frameConfig1]" frameConfig.inherit="false">
                        <endpointProperties transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties" sourceDeviceId="1" sourceDeviceId.inherit="false">
                            <destinations inherit="false" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui">
                                <memberClasses>
                                    <item>com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry</item>
                                </memberClasses>
                                <item transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockEndpointProperties$DestinationEntry" portId.inherit="false"/>
                            </destinations>
                        </endpointProperties>
                    </applicationProperties>
                </item>
                <item guid="d0cb52f7-4b59-461e-9621-cabc0b050217" action="comment">
                    <command>
                        <body>ARP/ND and subscribe to result types</body>
                    </command>
                    <nestedSteps>
                        <item guid="1a78379d-386d-4599-a411-b7c2d4221a05" action="startArpNdOnAllStreamBlocks" session="$session">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Some attempted Arp/Nds could not resolve successfully</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Warning">
                                                <message>TestCenter: All streamblocks: Some attempted Arp/Nds could not resolve successfully</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8d65d95b-adec-47c7-96d4-ad5adfc06519" action="subscribe" session="$session">
                            <command>
                                <body>RxPortPairResults</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e50fa8b0-449d-491c-a94d-9d54645d7f72" action="clearStats" session="$session">
                            <command>
                                <body>RxPortPairResults</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7ab0f468-4e96-4dec-9f65-efe3406ccb4f" action="subscribeView" session="$session" estimatedStepExecutionTime="0.468">
                            <command>
                                <body>DetailedStreamResults</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="677c4ffb-0e2b-4b24-8777-bd2b4440da7e" action="ConfigurationSave" session="$session">
                    <command>
                        <body> -uri $configFilename -showMsg 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6d68b928-c53b-43a5-b628-8e442e76f90b" action="comment">
                    <command>
                        <body>Start capture and run traffic</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TestCenter: Start capture and run traffic for $sendTrafficTime seconds...</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <nestedSteps>
                        <item guid="45e1cc01-f06f-42f8-89e1-f6fd1a05a772" action="startCapture" session="$session" skip="true" normalOffset="17.295" estimatedStepExecutionTime="1.578">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="29eaacaf-2fcf-4662-984c-9c8f0441cb39" action="startCapture" session="$session" skip="true" normalOffset="17.295" estimatedStepExecutionTime="1.578">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b868b668-fe3a-4ef3-b0ed-c73279347719" action="startCapture" session="$session" normalOffset="17.295" estimatedStepExecutionTime="1.578">
                            <command>
                                <body>$destinationDeviceIndex $sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3cf6c6e4-8985-4ffd-b8bf-380a2e0f5f94" action="startGenerator" session="$session" skip="true" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="52722c89-1563-4a70-a31f-458e35fcf305" action="startGenerator" session="$session" skip="true" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="56e19caf-9bdd-415a-8c84-98209f6d00b7" action="startGenerator" session="$session" normalOffset="7.687" estimatedStepExecutionTime="0.297">
                            <command>
                                <body>$destinationDeviceIndex $sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="aae5d5bd-a235-4198-adb9-676a4fd95740" action="sleep">
                            <command>
                                <body>$sendTrafficTime</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7cf6d7fb-3f1f-49a4-9473-971f190f067f" action="stopGenerator" session="$session" skip="true" normalOffset="13.998" estimatedStepExecutionTime="0.594">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8743414e-6a78-4fda-a967-690301a97e63" action="stopGenerator" session="$session" skip="true" normalOffset="13.998" estimatedStepExecutionTime="0.594">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f6f1cdc2-140d-43e6-8265-2829ad2c5342" action="stopGenerator" session="$session" normalOffset="13.998" estimatedStepExecutionTime="0.594">
                            <command>
                                <body>$destinationDeviceIndex $sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d040d2a2-fe4e-4835-92d7-cc7c899947b4" action="comment">
                    <command>
                        <body>Stop traffic and capture results</body>
                    </command>
                    <nestedSteps>
                        <item guid="4e729f83-7c1f-4e29-9d53-fa29fe959a0d" action="stopCapture" session="$session" skip="true" normalOffset="4.343" estimatedStepExecutionTime="1.719">
                            <command>
                                <body>$sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="67742cdd-c725-4351-a433-a012dd34ab1e" action="stopCapture" session="$session" skip="true" normalOffset="4.343" estimatedStepExecutionTime="1.719">
                            <command>
                                <body>$destinationDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fa6dfc11-3b0c-4740-8246-cfe938e68605" action="stopCapture" session="$session" normalOffset="4.343" estimatedStepExecutionTime="1.719">
                            <command>
                                <body>$destinationDeviceIndex $sourceDeviceIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="787710ac-2366-4551-b505-c432e580fcfa" action="comment">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>TestCenter: Saving port$destinationDeviceIndex capture file: [file uriToPath $captureFilename1]</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="c5472a6a-24d9-46c7-af4d-8a09872a5434" action="saveCapture" session="$session" normalOffset="11.233" estimatedStepExecutionTime="0.672">
                                    <command>
                                        <body>$destinationDeviceIndex</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.SaveCaptureProperties" file="$captureFilename1" file.inherit="false"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="5f39e9de-0366-48f5-82c5-704a382ec025" action="comment">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>TestCenter: Saving port$sourceDeviceIndex capture file: [file uriToPath $captureFilename2]</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="3a7cfea6-67dc-4ed3-84bc-82fa776f676e" action="saveCapture" session="$session" normalOffset="11.233" estimatedStepExecutionTime="0.672">
                                    <command>
                                        <body>$sourceDeviceIndex</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.SaveCaptureProperties" file="$captureFilename2" file.inherit="false"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3d011e1f-8297-49a8-b926-f03ed36aa042" action="showResults" session="$session" normalOffset="71.639" estimatedStepExecutionTime="0.046">
                    <command>
                        <body>DetailedStreamResults &quot;Basic Counters&quot; 1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>DetailedStreamResults/row/TxCount_Frames_</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>TESTCENTER/TxFrameCount</storageLocation>
                                        <isStorageLocationGlobal>true</isStorageLocationGlobal>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>DetailedStreamResults/row/RxCount_Frames_</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>TESTCENTER/RxFrameCount</storageLocation>
                                        <isStorageLocationGlobal>true</isStorageLocationGlobal>
                                    </ruleProperties>
                                </processorInfo>
                                <skip>true</skip>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>DetailedStreamResults/row/TxCount_Frames_</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_list</storageLocation>
                                        <storeInAList>true</storeInAList>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>DetailedStreamResults/row/RxCount_Frames_</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_list</storageLocation>
                                        <storeInAList>true</storeInAList>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>showResults</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="90884b87-1503-4613-97d4-d13e02b470f3" action="foreach">
                    <command>
                        <body>item $tx_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="115bbb34-14c7-4434-8833-e44e5a60498a" action="eval">
                            <command>
                                <body>set tx_string [string trim &quot;$tx_string $item&quot;]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d43e3e4f-5594-42ec-86b9-c3eb90fead4f" action="foreach">
                    <command>
                        <body>item $rx_list</body>
                    </command>
                    <nestedSteps>
                        <item guid="65d246b3-6c56-46da-a6e9-92e99908faa6" action="eval">
                            <command>
                                <body>set rx_string [string trim &quot;$rx_string $item&quot;]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c57f9756-af37-4080-b0e6-23b6e141302c" action="eval">
                    <command>
                        <body>puts $tx_string</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^.*$</regex>
                                        <extractionGroupIndex>0</extractionGroupIndex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tx_frame_count</storageLocation>
                                        <query>[return tx_frame_count]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="27d72a2a-9cf1-42c1-af3f-12865dd13037" action="eval">
                    <command>
                        <body>puts $rx_string</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^.*$</regex>
                                        <extractionGroupIndex>0</extractionGroupIndex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>rx_frame_count</storageLocation>
                                        <query>[return rx_frame_count]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f25f30da-23de-43d9-ab29-0abc2dddb5ca" action="eval">
                    <command>
                        <body>gset TESTCENTER/TxFrameCount $tx_frame_count</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cac487a4-3bf4-48d9-9098-c7335036b5d4" action="eval">
                    <command>
                        <body>gset TESTCENTER/RxFrameCount $rx_frame_count</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5bb98abd-5815-4201-b873-858c3c99da61" action="if">
                    <command>
                        <body>[gget TESTCENTER/port$sourceDeviceIndex/id &quot;&quot;] != &quot;&quot; &amp;&amp; [gget TESTCENTER/port$destinationDeviceIndex/id &quot;&quot;] != &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="b082ecef-e224-4d25-94be-12335907246e" action="then">
                            <nestedSteps>
                                <item guid="14022339-45bd-48bd-894c-ba6a57f8119c" action="eval">
                                    <command>
                                        <body>set portPair &quot;\\&quot;[gget TESTCENTER/port$sourceDeviceIndex/id]\\&quot;, \\&quot;[gget TESTCENTER/port$destinationDeviceIndex/id]\\&quot;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a698dc47-b6f6-43b3-96d9-e7ebe6b662de" action="else">
                            <nestedSteps>
                                <item guid="95e8cb49-4193-469a-b17d-7b1152717685" action="eval">
                                    <command>
                                        <body>set portPair &quot;\\&apos;$sourceDeviceIndex\\&apos;, \\&apos;$destinationDeviceIndex\\&apos;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a79f3457-85fc-4d34-a165-3add069a6aea" action="showStats" session="$session">
                    <command>
                        <body>RxPortPairResults 1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">DroppedFramePercent($portPair)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>percent_dropped_upstream</storageLocation>
                                        <query>[return percent_dropped_upstream]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <appendRespToFile inherit="false" defaultValue=""/>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2bb05e6d-a1c2-4b96-ab28-926c2d5a177c" action="if">
                    <command>
                        <body>[gget TESTCENTER/port$destinationDeviceIndex/id &quot;&quot;] != &quot;&quot; &amp;&amp; [gget TESTCENTER/port$sourceDeviceIndex/id &quot;&quot;] != &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="c3f00a05-d97a-4c68-b879-bb2737fabaa3" action="then">
                            <nestedSteps>
                                <item guid="441824b1-fd52-43da-8941-2d4b662ad41b" action="eval">
                                    <command>
                                        <body>set portPair &quot;\\&quot;[gget TESTCENTER/port$destinationDeviceIndex/id]\\&quot;, \\&quot;[gget TESTCENTER/port$sourceDeviceIndex/id]\\&quot;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6cb26372-32f3-4451-b12a-a497bca82a05" action="else">
                            <nestedSteps>
                                <item guid="ccae31bf-8d5f-4027-aba4-eb4d13663ae7" action="eval">
                                    <command>
                                        <body>set portPair &quot;\\&apos;$destinationDeviceIndex\\&apos;, \\&apos;$sourceDeviceIndex\\&apos;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="082f35ff-623f-4349-9e20-efa7937742f1" action="showStats" session="$session">
                    <command>
                        <body>RxPortPairResults 1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">DroppedFramePercent($portPair)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>percent_dropped_downstream</storageLocation>
                                        <query>[return percent_dropped_downstream]</query>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <appendRespToFile inherit="false" defaultValue=""/>
                        <appendSession inherit="false">true</appendSession>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b6e31c27-17c6-4e7f-b26c-5b62dd67ce3e" action="eval">
                    <command>
                        <body>gset TESTCENTER/DroppedFramePercent &quot;$percent_dropped_upstream $percent_dropped_downstream&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8dc2993a-11b8-4e37-ae46-ab59c2f0a074" action="if">
                    <command>
                        <body>$deleteStreamBlock</body>
                    </command>
                    <nestedSteps>
                        <item guid="bf729d81-91d7-4cc4-ae66-337e3573a340" action="then">
                            <nestedSteps>
                                <item guid="2154c95f-95fb-4328-a9d8-81aa42204eca" action="deleteStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                                    <command>
                                        <body>$sourceDeviceIndex 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="be10b25d-b724-4df5-9c81-2b5cbaa1bb14" action="deleteStreamBlock" session="$session" normalOffset="5.428" estimatedStepExecutionTime="0.063">
                                    <command>
                                        <body>$destinationDeviceIndex 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <author>Malcom Terry</author>
            <multilineDescription>This quickcall will start a capture, start traffic, wait and save capture to a file.
It also grabs port stats and returns them in JSON format.</multilineDescription>
            <arguments>
                <item name="protocol">
                    <description>IPv4|IPv6</description>
                    <defaultValue>IPv6</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="sourceDeviceIndex">
                    <description>Source device index (1-based)</description>
                    <defaultValue>1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="destinationDeviceIndex">
                    <description>Destination device index (1-based)</description>
                    <defaultValue>2</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="streamblockName1">
                    <description>Streamblock for device 1</description>
                    <defaultValue>streamBlock_1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="streamblockName2">
                    <description>Streamblock for device 2</description>
                    <defaultValue>streamBlock_2</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="trafficRateMBPS1">
                    <description>Traffic rate for device 1</description>
                    <defaultValue>0.5</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="trafficRateMBPS2">
                    <description>Traffic rate for device 1</description>
                    <defaultValue>0.5</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="captureFilename1">
                    <description>URI to file for capture on streamblock 1.</description>
                </item>
                <item name="captureFilename2">
                    <description>URI to file for capture on streamblock 2.</description>
                </item>
                <item name="sendTrafficTime">
                    <description>Traffic run time in seconds</description>
                    <defaultValue>10</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="deleteStreamBlock">
                    <description>true=delete the streamblock after use</description>
                    <defaultValue>false</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="configFilename">
                    <description>URI to save configuration to</description>
                </item>
            </arguments>
            <response>{&quot;tx_frame_count&quot;:&quot;value&quot;,&quot;rx_frame_count&quot;:&quot;value&quot;,&quot;percent_dropped_upstream&quot;:&quot;value&quot;,&quot;percent_dropped_downstream&quot;:&quot;value&quot;}</response>
        </item>
        <item name="VersionCheck" isPublic="true">
            <steps>
                <item guid="b21b3ea0-16cb-4908-91d8-d201d88d2de9" action="eval">
                    <command>
                        <body>set ok 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="00eb497a-e35f-43f1-bc15-06a25663fb13" action="ApiGetVersion" session="$session">
                    <postProcessing>
                        <storeResponseAt>api_version</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="28ffc5db-b8ee-4ee4-9219-344ddd0617f7" action="FirmwareGetVersion" session="$session">
                    <postProcessing>
                        <storeResponseAt>firmware_version</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1fcbf74b-ecbc-47fb-832f-3052d6d40b58" action="comment">
                    <command>
                        <body>Compare API to firmware version. They must match exactly!</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$api_version != $firmware_version</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>TestCenter: API and firmware do not match</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="CallProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                    <command>Hints</command>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitExecution">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="69fbe4aa-f579-4b3f-8815-6339836b20ac" action="return">
                    <command>
                        <body>$ok</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
    <eventHandlers>
        <item name="OnInterpreterError"/>
        <item name="OnNoMatchesFound"/>
    </eventHandlers>
</testCase>

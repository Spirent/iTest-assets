<?xml version="1.0"?>
<testCase version="7.0.1.201802131446">
    <general>
        <documentation>Unit test for the STC QuickCall library</documentation>
        <owner>Malcom Terry</owner>
    </general>
    <execution>
        <parameters version="7.0.1.201802131446">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <TestCenter>
                        <ipAddress pt:description="chassis IP address">10.108.32.17</ipAddress>
                        <userName pt:description="chassis user name">admin</userName>
                        <password pt:description="chassis password">spt_admin</password>
                        <port1 pt:description="slot/port for 1st port">2/1</port1>
                        <port2 pt:description="slot/port for 2nd port">2/2</port2>
                        <configuration pt:description="URI ro config file"/>
                    </TestCenter>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="33d6a403-f115-4f17-9b96-1dd27e0df6ef" action="comment">
                    <command>
                        <body>site-specific settings</body>
                    </command>
                    <nestedSteps>
                        <item guid="4765488d-c816-492a-9f35-f83e44c1c9a3" action="eval">
                            <command>
                                <body>set chassis_ip [param TestCenter/ipAddress]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3a2707e5-b919-43ad-82b9-6d2c78b993c8" action="eval">
                            <command>
                                <body>set config_file [param TestCenter/configuration]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a4d9e083-a802-4ea8-b4eb-f26aabf50314" action="eval">
                            <command>
                                <body>set port1 [param TestCenter/port1]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="09bed29c-37e1-431e-bdd4-34fdeb1cbd98" action="eval">
                            <command>
                                <body>set port2 [param TestCenter/port2]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1968809d-9e99-47ea-9d72-72425190318a" action="comment">
                    <command>
                        <body>Open Spirent TestCenter session. </body>
                    </command>
                    <nestedSteps>
                        <item guid="3e3ca71b-b7c0-4ebe-bc99-88eb7bf9a9a5" action="comment">
                            <command>
                                <body>NOTES:</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="61c37bc3-73bb-4bd8-825a-95c30791ccd8" action="comment">
                            <command>
                                <body>Analysis rules catch common failure conditions.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="2110f200-9664-48ad-8041-d81d6fdcb4a4" action="comment">
                            <command>
                                <body>OnToolOpenSessionError and OnToolError events are set to ExitExecution.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="a8376d0e-d22d-46e4-931e-078039a964a0" action="open" session="stc">
                            <command>
                                <body>project://di_STC_RFC_2544/session_profiles/STC_TclAPI_base.ffsp</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^.*The port at //((\\d+\\.)+\\d+)/\\d+/\\d+\\s+is reserved by\\s+(\\S+)\\.$</regex>
                                                <extractionGroupIndex>3</extractionGroupIndex>
                                                <declareNoMatchIssue>false</declareNoMatchIssue>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>[string match * $value]</expression>
                                                <actionOnMultiple>True if any true</actionOnMultiple>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: Ports reserved by: $value</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: If this is you, make sure you don&apos;t have ports reserved in another session or application.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>TestCenter: If this is not you, select different ports or ask the reservation owner if they can release the ports.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>Failed to create Tcl interpreter: Cannot run program *</searchString>
                                                <matchType>Wildcard</matchType>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>TestCenter: Session failed to open. </message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^Loading Tcl package SpirentTestCenter\\.\\.\\.\\s+(\\w+)$</regex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == &quot;OK&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Spirent TestCenter</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Spirent TestCenter</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnToolOpenSessionError">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Unable to open session : {error}</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="ExitExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                                <item name="OnToolError">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>{error}</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="ExitExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.TestCenterGUISessionProperties" ipAddress="$chassis_ip" ipAddress.inherit="false" config="$config_file" config.inherit="false" connectToPorts="false" connectToPorts.inherit="false">
                                    <configureCustom16bitFilter transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.Analyzer16BitFilterProperties" mask="ffff" mask.inherit="false" endOfRange="ffff" endOfRange.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="44943cf8-39ab-48a0-b309-3ecdcf30504a" action="if">
                    <command>
                        <body>$config_file == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="d447b529-6e24-4e0e-b3ce-2e9f481155f1" action="then">
                            <nestedSteps>
                                <item guid="fdeb1bc6-6735-4291-82a2-d4824b170aae" action="comment">
                                    <command>
                                        <body>No config file specified, so let&apos;s create and reserve port here.</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5b2bd670-3d5e-438b-b9a4-f042f6ef66ae" action="PortAdd" session="stc">
                                    <command>
                                        <body> -portList &quot;//$chassis_ip/$port1 //$chassis_ip/$port2&quot; -abortOnFail 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e9cbeb65-633f-44b0-890f-5de60a15f1da" action="PortAttach" session="stc">
                                    <command>
                                        <body>-abortOnFail 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="59495aab-32a9-4515-a649-32ded72fe293" action="else">
                            <nestedSteps>
                                <item guid="5e4c400e-c089-4865-84ab-e6f9394d9bb8" action="comment">
                                    <command>
                                        <body>Use PortMap when you already have a working configuration file and you just want to relocate the ports.</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c68de171-dc7a-4dc6-a195-83ec27d800bc" action="PortMap" session="stc">
                                    <command>
                                        <body> -portList &quot;//$chassis_ip/$port1 //$chassis_ip/$port2&quot; -abortOnFail 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="79e71c50-49ea-42ce-8b66-47a12b4d8239" action="PortSetAutoNegotiate" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot; -autonegotiation false</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="1fe21af2-0ac2-4d01-9f28-a0ec3eb8124a" action="PortSetSpeed" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot; -speed &quot;100M&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="660aad6e-1f70-4d7c-b73f-a02a7500a875" action="PortSetAutoNegotiate" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot; -autonegotiation true</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="98cbe2c7-ee88-46b4-9ee8-38142b9270fc" action="PortRestartAutoNegotiation" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6e94ade5-9b37-47ba-9494-7e559b86cf9d" action="PortGetProperties" session="stc" skip="true">
                    <command>
                        <body> -portIndex 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3f4b71fe-b857-4047-a374-0a3229db2b2c" action="PortGetProperties" session="stc" skip="true">
                    <command>
                        <body> -portIndex 2</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9ccc7e8a-9532-437c-a677-cb607699814f" action="PortSetOffline" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cff6c2df-4aac-44e6-aa12-e5751e446302" action="PortGetLinkStatus" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot; -abortOnFail 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c09e3d2c-4853-49e3-a296-f079ed88b4f4" action="PortSetOnline" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b5d6a890-6562-423b-8c56-c12bf12e6c2d" action="PortGetLinkStatus" session="stc" skip="true">
                    <command>
                        <body> -portIndexList &quot;1 2&quot; -abortOnFail 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f1d37e13-a7a1-4fac-94c9-3ca0fc781223" action="ConfigurationSave" session="stc" skip="true">
                    <command>
                        <body> -uri file:/C:/tmp/stc_config.xml -showMsg 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cfa746dd-6735-42f7-af0a-9199d314c434" action="PortUnmap" session="stc" skip="true">
                    <command>
                        <body> -portList &quot;//[param TestCenter/ipAddress]/2/1 //[param TestCenter/ipAddress]/2/2&quot; -abortOnFail 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0d4b4996-b98f-4047-923f-0ec5e80a4fca" action="ConfigurationLoad" session="stc" skip="true">
                    <command>
                        <body> -uri file:/C:/tmp/stc_config.xml -showMsg 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="77051fad-57a1-4b9c-a573-fe7cac5d1ec5" action="addStreamBlock" session="stc" skip="true">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.svt.applications.spirent.testcenter.gui" transferableType="com.fnfr.itest.applications.spirent.testcenter.properties.StreamBlockProperties"/>
                </item>
                <item guid="c4ea51c7-50ea-4356-b82e-ac284c934273" action="TrafficRunAndCapture" session="stc">
                    <command>
                        <body> -protocol IPv6 -sourceDeviceIndex 1 -destinationDeviceIndex 1 -streamblockName streamBlock1 -trafficRateMBPS 0.5 -captureFilename file:/C:/tmp/stc_capture.pcap -sendTrafficTime 10 -deleteStreamBlock true -openPortWithUpstreamTraffic false -addSourceStreamBlock true</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/tx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/rx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>RX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/percent_dropped</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Dropped: {value}%</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e49af4cb-9c44-47a9-8f91-4a6fd9c927b8" action="TrafficRunAndCapture" session="stc">
                    <command>
                        <body> -protocol IPv4 -sourceDeviceIndex 1 -destinationDeviceIndex 1 -streamblockName streamBlock1 -trafficRateMBPS 0.5 -captureFilename file:/C:/tmp/stc_capture.pcap -sendTrafficTime 10 -deleteStreamBlock true -openPortWithUpstreamTraffic false -addSourceStreamBlock true</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/tx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/rx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>RX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/percent_dropped</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Dropped: {value}%</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="199c51d9-d713-4397-9a51-447161cabd9b" action="TrafficRunAndCaptureBidirectional" session="stc">
                    <command>
                        <body> -protocol IPv6 -sourceDeviceIndex 1 -destinationDeviceIndex 2 -streamblockName1 streamBlock_1 -streamblockName2 streamBlock_2 -trafficRateMBPS1 0.5 -trafficRateMBPS2 0.5 -captureFilename1 file:/C:/tmp/stc_capture1.pcap -captureFilename2 file:/C:/tmp/stc_capture2.pcap -sendTrafficTime 10 -deleteStreamBlock true</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/tx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/rx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>RX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/percent_dropped_upstream</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Upstream Dropped: {value}%</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/percent_dropped_downstream</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Downstream Dropped: {value}%</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c694541b-5f12-41f1-aff9-a228a468f327" action="TrafficRunAndCaptureBidirectional" session="stc">
                    <command>
                        <body> -protocol IPv4 -sourceDeviceIndex 1 -destinationDeviceIndex 2 -streamblockName1 streamBlock_1 -streamblockName2 streamBlock_2 -trafficRateMBPS1 0.5 -trafficRateMBPS2 0.5 -captureFilename1 file:/C:/tmp/stc_capture1.pcap -captureFilename2 file:/C:/tmp/stc_capture2.pcap -sendTrafficTime 10 -deleteStreamBlock false</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/tx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>TX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/rx_frame_count</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>RX Frame Count: {value}</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/percent_dropped_upstream</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Upstream Dropped: {value}%</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Json/percent_dropped_downstream</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Downstream Dropped: {value}%</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
